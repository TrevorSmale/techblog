<!DOCTYPE html>
<html lang="en-us">

<head><script src="/techblog/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=techblog/livereload" data-no-instant defer></script>
  

  
  


  <meta charset="utf-8">



<meta name="viewport" content="width=device-width, initial-scale=1.0">


  
    
  


<meta name="color-scheme" content="light dark">







<meta name="generator" content="Hugo 0.140.2">
  <title>Tech Blog</title>
  <link rel="canonical" href="http://localhost:1313/techblog/">




  <link rel="alternate" href="/techblog/feed.xml" type="application/rss+xml">

  








  

  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  


  
    <link rel="stylesheet" href="/techblog/css/base.css">

    <link rel="stylesheet" href="/techblog/css/syntax.css">



</head>

<body>
  <nav class="u-background">
  <div class="u-wrapper">
    <ul class="Banner">
      <li class="Banner-item Banner-item--title">
        <a class="Banner-link u-clickable" href="/techblog/">Tech Blog</a>
      </li>
      
        
        
        <li class="Banner-item">
          <a class="Banner-link u-clickable" href="/techblog/about/">About</a>
        </li>
      
        
        
        <li class="Banner-item">
          <a class="Banner-link u-clickable" href="/techblog/post/">Posts</a>
        </li>
      
        
        
        <li class="Banner-item">
          <a class="Banner-link u-clickable" href="/techblog/tags/">Tags</a>
        </li>
      
        
        
        <li class="Banner-item">
          <a class="Banner-link u-clickable" href="/techblog/categories/">Categories</a>
        </li>
      
        
        
          
        
        <li class="Banner-item">
          <a class="Banner-link u-clickable" href="/techblog/feed.xml">RSS</a>
        </li>
      
    </ul>
  </div>
</nav>

  <main>
    <div class="u-wrapper">
      <div class="u-padding">
        

  
    <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/" rel="bookmark">Tech Blog</a>
  </h1>
  
    <time datetime="2025-01-12T00:00:00Z">January 12, 2025</time>
  
</header>
  

  

  
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/rsembedd1/" rel="bookmark">Embedded Rust? ü¶Ä</a>
  </h1>
  
    <time datetime="2025-01-12T00:00:00Z">January 12, 2025</time>
  
</header>
      
        <h1 id="yes">
  <a class="Heading-link u-clickable" href="/techblog/post/rsembedd1/#yes">Yes</a>
</h1>
<p>Firstly Rust on Embedded is a different beast as the standard library is not used and memory safety is not on by default. However, there are still some advantages over a popular language like C or C++. <strong>HAL</strong> or Hardware Abstraction Layer separates the hardware from the code enabling more portable software that can compile to multiple architectures. Cargo improves development ergonomic by creating and managing the project and its dependancies. Thirdly, the build system is unified across platforms, so code will compile on Windows, Mac and Linux in the same way.
Rust on embedded systems is a different challenge, as it does not use the standard library, and memory safety is not enabled by default. However, it still offers several advantages over popular languages like C or C++.
One key benefit is the Hardware Abstraction Layer (HAL), which separates hardware-specific details from the code, enabling more portable software that can compile across multiple architectures. Additionally, Cargo enhances development ergonomics by simplifying project and dependency management.
Lastly, Rust‚Äôs unified build system ensures consistent behavior across platforms, allowing code to compile seamlessly on Windows, macOS, and Linux.</p>



<h2 id="hal-">
  <a class="Heading-link u-clickable" href="/techblog/post/rsembedd1/#hal-">HAL ü™¢</a>
</h2>
<p>Is really interesting, it is the concept of mapping hardware and storing the map for API access.
HAL leverages Peripheral Access Crates (PACs), which are auto-generated Rust crates representing the registers and bitfields of a microcontroller. PACs allow safe and direct access to hardware registers while ensuring Rust‚Äôs strict type-checking and ownership rules are followed. HAL sits on top of PACs, abstracting these low-level details.
Rust embedded HALs adhere to the embedded-hal traits‚Äîa collection of interfaces defining common operations like GPIO pin control, SPI/I2C communication, timers, and ADC usage. By implementing these traits, HAL provides a uniform way to interact with hardware, regardless of the underlying platform.
HAL abstracts device-specific features into a user-friendly API. For example:</p>
<ul>
<li>Configuring a GPIO pin involves selecting its mode (input, output, pull-up, etc.) without directly modifying hardware registers.</li>
<li>Communication protocols like SPI or I2C are exposed through easy-to-use Rust methods (read, write, transfer, etc.).</li>
</ul>



<h2 id="cargo-">
  <a class="Heading-link u-clickable" href="/techblog/post/rsembedd1/#cargo-">Cargo üì¶</a>
</h2>
<p>Cargo handles dependencies seamlessly using Cargo.toml. Developers specify libraries (called ‚Äúcrates‚Äù) with version constraints, and Cargo fetches and builds them automatically.
Cargo:</p>
<ul>
<li>Ensures reproducible builds by generating a Cargo.lock file that locks dependency versions.</li>
<li>Community-driven ecosystem (e.g., crates.io) simplifies finding and using high-quality, maintained libraries.</li>
</ul>



<h3 id="managing-dependancies--with-cargotoml">
  <a class="Heading-link u-clickable" href="/techblog/post/rsembedd1/#managing-dependancies--with-cargotoml">Managing Dependancies ‚öôÔ∏è with Cargo.toml</a>
</h3>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="p">[</span><span class="nx">dependencies</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">embedded-hal</span> <span class="p">=</span> <span class="s2">&#34;0.2.6&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">stm32f4xx-hal</span> <span class="p">=</span> <span class="s2">&#34;0.14&#34;</span></span></span></code></pre></div>



<h3 id="cross-compilation-support-is-integrated-via-targets-">
  <a class="Heading-link u-clickable" href="/techblog/post/rsembedd1/#cross-compilation-support-is-integrated-via-targets-">Cross-compilation support is integrated via targets üéØ</a>
</h3>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cargo build --target thumbv7em-none-eabihf</span></span></code></pre></div>



<h3 id="enforced-project-structure-">
  <a class="Heading-link u-clickable" href="/techblog/post/rsembedd1/#enforced-project-structure-">Enforced project Structure üëÆ‚Äç‚ôÇÔ∏è</a>
</h3>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">my_project/
</span></span><span class="line"><span class="cl">‚îú‚îÄ‚îÄ Cargo.toml       <span class="c1"># Dependencies &amp; configuration</span>
</span></span><span class="line"><span class="cl">‚îî‚îÄ‚îÄ src/
</span></span><span class="line"><span class="cl">    ‚îî‚îÄ‚îÄ main.rs      <span class="c1"># Application entry point</span></span></span></code></pre></div>



<h2 id="cross-platform--">
  <a class="Heading-link u-clickable" href="/techblog/post/rsembedd1/#cross-platform--">Cross Platform üíª üíº</a>
</h2>
<ul>
<li>Tools like probe-rs allow seamless debugging and flashing of embedded devices on multiple platforms (Linux, macOS, Windows).</li>
<li>The cargo ecosystem integrates testing, building, and dependency management across platforms without additional tools.</li>
</ul>



<h2 id="experienced-embedded-devs-are-switching">
  <a class="Heading-link u-clickable" href="/techblog/post/rsembedd1/#experienced-embedded-devs-are-switching">Experienced Embedded Devs are switching</a>
</h2>
<p>I was first made aware of Rust for embedded by experienced devs on Youtube who proclaimed their love of rust over C for professional projects. Channels like:
<a href="https://www.youtube.com/@therustybits">https://www.youtube.com/@therustybits</a>
<a href="https://www.youtube.com/@JaJakubYT">https://www.youtube.com/@JaJakubYT</a>
<a href="https://www.youtube.com/@floodplainnl">https://www.youtube.com/@floodplainnl</a>
<a href="https://www.youtube.com/@embedded-rust">https://www.youtube.com/@embedded-rust</a></p>
<p>are all claiming that they have switched over and are not looking back.</p>



<h2 id="personal-development">
  <a class="Heading-link u-clickable" href="/techblog/post/rsembedd1/#personal-development">Personal Development</a>
</h2>
<p>I‚Äôm writing this post as I plan to develop hardware projects using Rust for embedded systems. The combination of Rust and RISC-V microcontrollers is a particularly exciting intersection. In my sights are the ESP32-C3 and Raspberry Pi Pico 2, both of which I‚Äôm considering for upcoming projects. Instead of dealing with messy C, slow MicroPython, or the limitations of TinyGo, Rust allows me to create clean and performant projects‚Äîsomething I always strive for. Stay tuned for more updates!</p>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/rust/" rel="tag">Rust</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/embedded/" rel="tag">Embedded</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/development/" rel="tag">Development</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/k8sent/" rel="bookmark">ProLUG Talk: Kubernetes in the Enterprise</a>
  </h1>
  
    <time datetime="2025-01-11T00:00:00Z">January 11, 2025</time>
  
</header>
      
        <h1 id="kubernetes-in-enterprise">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#kubernetes-in-enterprise">Kubernetes in Enterprise</a>
</h1>
<p>As a dedicated member of the Professional Linux User Group, I gain valuable insights into essential industry tools, processes, and procedures from professional engineers who work hands-on with major infrastructure.</p>
<p>This evening, Michael Pesa of Lambda Labs delivered an excellent talk on best practices with Kubernetes and GitOps, shedding light on the challenges faced by traditional orchestration approaches. What intrigued me most was the discussion on Talos OS and Chainguard, particularly their use of Software Bill of Materials (SBOM). The concept centers around stripping systems down to their bare essentials, which not only reduces vulnerabilities but also improves performance.</p>
<p>Talos OS is particularly fascinating because it eliminates many traditional system components like SSH, systemd, glibc, package managers, or a shell. Essentially, Talos is just the Linux kernel with several Go binaries. This streamlined approach significantly reduces vulnerabilities and minimizes the attack surface. As Michael mentioned in his presentation, many vulnerabilities stem from privilege escalation, container escapes, and memory hacking. Talos mitigates most of these threats by enforcing API-driven controls instead of relying on a shell and by utilizing private key-based authentication throughout.</p>
<p>I am excited to experiment with these tools in my homelab, where I aim to create a modern, declarative infrastructure with ephemerality at its core.</p>
<hr>



<h1 id="-notes-from-the-presentation">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#-notes-from-the-presentation">üìù Notes from the Presentation:</a>
</h1>



<h2 id="topic-covered">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#topic-covered">Topic Covered</a>
</h2>



<h3 id="immutable-operating-systems">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#immutable-operating-systems">Immutable operating systems</a>
</h3>



<h3 id="minimalist-container-images">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#minimalist-container-images">Minimalist container images</a>
</h3>



<h3 id="gitops-strategies">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#gitops-strategies">GitOps strategies</a>
</h3>



<h3 id="reproducible-builds">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#reproducible-builds">Reproducible builds</a>
</h3>



<h2 id="suse-microos-">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#suse-microos-">SUSE MicroOS ü¶é</a>
</h2>
<p><strong>Purpose:</strong></p>
<ul>
<li>Designed as a container host OS.</li>
</ul>
<p><strong>Features:</strong></p>
<ul>
<li>Read-only root filesystem for enhanced security.</li>
<li>Transactional updates managed via Btrfs snapshots.</li>
<li>Cloud environment integration with cloud-init; uses ignition elsewhere.</li>
</ul>
<p><strong>Usage:</strong></p>
<ul>
<li>Ideal for minimal, secure containerized workloads.</li>
</ul>



<h2 id="talos-linux-">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#talos-linux-">Talos Linux ü¶Ö</a>
</h2>



<h3 id="overview">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#overview">Overview:</a>
</h3>
<ul>
<li>Minimalist design focusing on immutability.</li>
<li>Linux kernel paired with five Go binaries.</li>
<li>Lacks traditional components: no SSH, systemd, glibc, package manager, or shell.</li>
</ul>



<h3 id="security">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#security">Security:</a>
</h3>
<ul>
<li>Secure by default with a micro TLS stack and key-based authentication.</li>
<li>API-driven operations using YAML, akin to Kubernetes manifests.</li>
<li>Uses its own PKI infrastructure, creating a small attack surface.</li>
</ul>



<h3 id="tools">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#tools">Tools:</a>
</h3>
<ul>
<li>talosctl CLI for management.</li>
<li>Debugging occurs via ephemeral tools and remote APIs.</li>
</ul>



<h3 id="considerations">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#considerations">Considerations:</a>
</h3>
<ul>
<li>Best suited for Kubernetes clusters.</li>
<li>For bare-metal installations, use Matchbox or a PXE boot system.</li>
</ul>



<h3 id="alternatives">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#alternatives">Alternatives:</a>
</h3>
<p>Flatcar and CoreOS are earlier container-focused OS derivatives.</p>



<h2 id="minimal-container-images-">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#minimal-container-images-">Minimal Container Images üëù</a>
</h2>



<h3 id="philosophy">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#philosophy">Philosophy:</a>
</h3>
<ul>
<li>Containers are inherently immutable; minimal images reduce attack surfaces and improve performance.</li>
</ul>



<h3 id="best-practices">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#best-practices">Best Practices:</a>
</h3>
<ul>
<li>Use the smallest possible image, minimizing unnecessary dependencies.</li>
<li>Employ multi-stage builds for languages with heavy dependencies, separating build and runtime environments.</li>
<li>For statically compiled languages like Go, containers can often be reduced to a single binary.</li>
</ul>



<h3 id="security-1">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#security-1">Security:</a>
</h3>
<ul>
<li>Avoid including shells to reduce exploit vectors.</li>
<li>Favor minimal base images like Alpine or tools like Google‚Äôs Distroless and Chainguard‚Äôs SBOM-integrated containers.</li>
</ul>



<h2 id="supply-chain-security-">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#supply-chain-security-">Supply Chain Security üîóüîê</a>
</h2>



<h3 id="sbom-software-bill-of-materials">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#sbom-software-bill-of-materials">SBOM (Software Bill of Materials):</a>
</h3>
<ul>
<li>A detailed list of libraries, packages, versions, and licenses within a container image.</li>
<li>Machine-readable format for automated security checks.</li>
</ul>



<h3 id="software-attestation">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#software-attestation">Software Attestation:</a>
</h3>
<ul>
<li>Authenticated metadata about an artifact (e.g., a container image).</li>
<li>Enables verification of the artifact‚Äôs integrity.</li>
</ul>



<h3 id="chainguard">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#chainguard">Chainguard:</a>
</h3>
<ul>
<li>Offers streamlined, dependency-minimized packages.</li>
<li>Main drawback: constant updates unless on a paid plan.</li>
</ul>



<h2 id="challenges-in-immutable-environments-">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#challenges-in-immutable-environments-">Challenges in Immutable Environments ‚ôªÔ∏è</a>
</h2>



<h3 id="limitations">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#limitations">Limitations:</a>
</h3>
<ul>
<li>Lack of SSH access and debugging tools on nodes and pods.</li>
<li>Ephemeral, short-lived infrastructure and read-only filesystems.</li>
</ul>



<h3 id="risks">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#risks">Risks:</a>
</h3>
<ul>
<li>IaC misconfigurations can cause widespread outages.</li>
</ul>



<h3 id="mitigation">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#mitigation">Mitigation:</a>
</h3>
<ul>
<li>Implement proper GitOps workflows.</li>
<li>Ensure consistency between development, staging, and production environments.</li>
</ul>



<h2 id="observability-strategies-in-immutable-environments-">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#observability-strategies-in-immutable-environments-">Observability Strategies in Immutable Environments üëÄ</a>
</h2>



<h3 id="approaches">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#approaches">Approaches:</a>
</h3>
<ul>
<li>Centralized logging for better insights.</li>
<li>Monitor clusters and services rather than individual pods or nodes.</li>
<li>Use ephemeral debugging pods or sidecars with shared access.</li>
<li>Declarative observability configurations (e.g., using Kubernetes CRDs).</li>
</ul>



<h3 id="principle">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#principle">Principle:</a>
</h3>
<ul>
<li>Treat nodes and pods as ‚Äúcattle, not pets‚Äù to maintain scalability and consistency.</li>
</ul>



<h2 id="key-principles-of-gitops-and-declarative-infrastructure-">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#key-principles-of-gitops-and-declarative-infrastructure-">Key Principles of GitOps and Declarative Infrastructure üò∞</a>
</h2>



<h3 id="gitops-core-tenets">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#gitops-core-tenets">GitOps Core Tenets:</a>
</h3>
<ul>
<li>Git as the single source of truth.</li>
<li>Automated reconciliation with tools like ArgoCD or Flux.</li>
<li>Infrastructure changes are auditable and reversible.</li>
<li>Prevents unauthorized and ad-hoc changes.</li>
</ul>



<h3 id="homelab-use">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#homelab-use">Homelab Use:</a>
</h3>
<ul>
<li>Start with a Talos system in Docker/Podman for experimentation.</li>
</ul>



<h2 id="gitops-challenges-">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#gitops-challenges-">GitOps Challenges üò∞</a>
</h2>



<h3 id="common-issues">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#common-issues">Common Issues:</a>
</h3>
<ul>
<li>Subtle configuration drift across environments.</li>
<li>Risk of manual changes not being committed back to Git.</li>
<li>Managing rollouts from dev to staging to production.</li>
<li>Scaling to hundreds of clusters.</li>
<li>Variations in deployment strategies across teams.</li>
<li>Securely managing secrets outside Git (e.g., Kubernetes Secrets, HashiCorp Vault).</li>
</ul>



<h2 id="the-gitflow-workflow-">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#the-gitflow-workflow-">The GitFlow Workflow üí®</a>
</h2>



<h3 id="workflow-overview">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#workflow-overview">Workflow Overview:</a>
</h3>
<ul>
<li>Developers create long-lived feature branches.</li>
<li>Separate primary branches for development, hotfixes, and releases.</li>
<li>The trunk (dev) branch isn‚Äôt always stable or deployable.</li>
<li>Multi-environment deployments often use separate release branches.</li>
</ul>



<h3 id="complexity">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#complexity">Complexity:</a>
</h3>
<ul>
<li>Complex merging strategies, especially for hotfixes.</li>
<li>Tools like ArgoCD or Flux can automate deployments.</li>
</ul>



<h2 id="trunk-based-development-">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#trunk-based-development-">Trunk-Based Development üêò</a>
</h2>



<h3 id="overview-1">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#overview-1">Overview:</a>
</h3>
<ul>
<li>Continuous integration with short-lived feature branches.</li>
<li>Frequent commits directly to the main branch.</li>
<li>Emphasizes small, incremental changes to reduce merge conflicts.</li>
</ul>



<h3 id="advantages">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#advantages">Advantages:</a>
</h3>
<ul>
<li>Simplifies CI/CD pipelines.</li>
<li>Encourages fast feedback and rapid delivery.</li>
</ul>



<h3 id="tools-1">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#tools-1">Tools:</a>
</h3>
<ul>
<li>Works seamlessly with automated systems like Kubernetes or Terraform.</li>
</ul>
<hr>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/k8sent/#prolug-links-">ProLUG Links ‚õìÔ∏è</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG Book: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug/" rel="tag">ProLUG</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/operating-systems/" rel="tag">Operating Systems</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/kubernetes/" rel="tag">Kubernetes</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/talos/" rel="tag">Talos</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/iac/" rel="tag">IaC</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/gitops/" rel="tag">GitOps</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/devops/" rel="tag">DevOps</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/homelab/" rel="tag">HomeLab</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/immutable-infrastructure/" rel="tag">Immutable Infrastructure</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/k3s/" rel="bookmark">Why K8S matters</a>
  </h1>
  
    <time datetime="2024-12-29T00:00:00Z">December 29, 2024</time>
  
</header>
      
        <h1 id="kubernetes-is-important-">
  <a class="Heading-link u-clickable" href="/techblog/post/k3s/#kubernetes-is-important-">Kubernetes is Important üåêüê≥</a>
</h1>
<p>Despite the jokes or criticisms you may have heard, Kubernetes matters a lot. Once I understood the &ldquo;Why,&rdquo; I became much more motivated to learn the &ldquo;How.&rdquo; This is how I got started with Kubernetes using my Proxmox Home-Lab and K3S.</p>
<p>Firstly, I would like to illuminate the &ldquo;Why,&rdquo; as it‚Äôs an important philosophy to grasp before diving in. I firmly believe in understanding the &ldquo;Why&rdquo; before the &ldquo;How.&rdquo; üß†</p>



<h2 id="a-brief-history-of-infrastructure-">
  <a class="Heading-link u-clickable" href="/techblog/post/k3s/#a-brief-history-of-infrastructure-">A Brief History of Infrastructure üï∞Ô∏è</a>
</h2>



<h3 id="the-evolution-">
  <a class="Heading-link u-clickable" href="/techblog/post/k3s/#the-evolution-">The Evolution üíæ</a>
</h3>
<p>Many moons ago üåõ, internet infrastructure relied on operating systems to run services. Unix and Linux were preferred because they are multi-user environments suitable for serving files to requesters. In fact, the first implementation of TCP was written on a UNIX system running on a NextSTEP computer. üñ•Ô∏è This model worked for decades: more users meant more machines. However, issues arose. Machines would go down, causing cascading effects. ‚ö†Ô∏è Misconfigurations wreaked havoc, and machines often ran inefficiently, either wasting resources or straining hardware. üîß</p>



<h3 id="in-comes-virtualization-">
  <a class="Heading-link u-clickable" href="/techblog/post/k3s/#in-comes-virtualization-">In Comes Virtualization üíª‚ú®</a>
</h3>
<p>Virtualization revolutionized infrastructure by allowing computers to be divided into independent virtual machines (VMs). A VM is a fully self-contained operating system. This innovation enabled more efficient utilization of hardware, increased flexibility, and reduced downtime caused by hardware failures. üöÄ</p>



<h3 id="containers-changed-the-game-">
  <a class="Heading-link u-clickable" href="/techblog/post/k3s/#containers-changed-the-game-">Containers Changed the Game üê≥üì¶</a>
</h3>
<p>Containers brought another layer of efficiency and standardization. Unlike VMs, containers share the host operating system‚Äôs kernel but encapsulate applications and their dependencies. This reduces overhead and enables applications to run consistently across different environments. üåç Developers could now &ldquo;build once, run anywhere,&rdquo; making containers a key tool in modern infrastructure. üõ†Ô∏è</p>



<h3 id="orchestration-was-needed-">
  <a class="Heading-link u-clickable" href="/techblog/post/k3s/#orchestration-was-needed-">Orchestration Was Needed ü§ñüéõÔ∏è</a>
</h3>
<p>As the use of containers exploded, managing them became increasingly complex. Deploying, scaling, monitoring, and maintaining hundreds or thousands of containers manually was impractical. This is where orchestration tools like Kubernetes stepped in, automating these tasks and ensuring applications are always running, balanced, and recoverable in case of failures. ‚úÖ</p>



<h2 id="the-why-">
  <a class="Heading-link u-clickable" href="/techblog/post/k3s/#the-why-">The Why ü§î</a>
</h2>
<p>Understanding the &ldquo;Why&rdquo; is key to appreciating Kubernetes&rsquo; value. Here are some of the core reasons:</p>
<ul>
<li><strong>Monitoring</strong> üìä: Kubernetes provides tools and integrations to monitor your workloads, ensuring you can observe application health and performance in real time.</li>
<li><strong>Logging</strong> üìù: Centralized logging in Kubernetes makes it easy to trace and debug issues across distributed systems.</li>
<li><strong>Security</strong> üîí: Kubernetes enhances security through role-based access control (RBAC), network policies, and automatic updates, reducing vulnerabilities in production systems.</li>
<li><strong>Ephemerality</strong> üåÄ: Kubernetes embraces the concept of ephemeral workloads, where containers can be replaced automatically if they fail, ensuring high availability.</li>
<li><strong>Reproducibility</strong> üîÑ: Kubernetes enables reproducible deployments by using declarative configurations, allowing you to deploy the same infrastructure consistently across environments.</li>
</ul>
<p>By addressing these challenges, Kubernetes transforms the way infrastructure is managed and applications are deployed, making it a cornerstone of modern cloud-native computing. ‚òÅÔ∏è</p>



<h3 id="during-week-10-of-the-prolug-course-1-">
  <a class="Heading-link u-clickable" href="/techblog/post/k3s/#during-week-10-of-the-prolug-course-1-">During Week 10 of the ProLUG Course <sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> üõ†Ô∏èüìö</a>
</h3>
<p>John Champine<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>, an OpenShift Engineer, delivered a compelling two-hour presentation on Kubernetes and OpenShift. His anecdotes and technical insights were especially engaging, offering both rich historical context drawn from his personal experience and intricate details about shared resource management. üñ•Ô∏è‚öôÔ∏è</p>



<h2 id="my-experience-">
  <a class="Heading-link u-clickable" href="/techblog/post/k3s/#my-experience-">My Experience üíªüîß</a>
</h2>
<p>I heavily utilize Proxmox VE to build out simulated production environments where I can practice various administrative and engineering tasks. In my homelab, I installed K3S and Talos to create a typical dev/testing/production environment. üåê One particularly unique workflow I used involved building custom Podman containers‚Äîyes, Podman! üêã</p>
<p>It‚Äôs not widely known that <code>podman play kube</code> <sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup> can create a manifest for use in Kubernetes pods. With this method, I could prototype and build out containers, functionally test them, and then publish them for declarative deployment. This approach felt incredibly slick to me, as bugs were ironed out during the process, and the final deployment was straightforward. ‚úÖüõ†Ô∏è</p>
<p>Most of my work was done with K3S<sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup>, a Rancher<sup id="fnref:5"><a href="#fn:5" class="footnote-ref" role="doc-noteref">5</a></sup>-based distro designed for low-resource environments. However, I also experimented with Talos OS, setting up multiple virtual machines in a configuration resembling a multi-machine/node environment‚Äîwith a sprinkle of jank to keep things interesting. ü§ñ‚ú®</p>
<p>This hands-on approach allowed me to deepen my understanding of Kubernetes while also refining workflows that integrate containerization and orchestration. üöÄ</p>



<h2 id="respect-">
  <a class="Heading-link u-clickable" href="/techblog/post/k3s/#respect-">Respect üôå</a>
</h2>
<p>From these experiences, I have developed a deep respect for Kubernetes. I see it as the operating system of the internet‚Äîan innovation that will inspire other similar systems. üåê While newer technologies like MicroVMs and hybrid container/VM architectures are emerging, I believe they can be easily incorporated into orchestration schemes like Kubernetes. ü§ñüõ†Ô∏è</p>
<p>Given this perspective, I think Kubernetes will remain relevant for a long time, much like Unix/Linux. üêß It simply makes sense given the strenuous demands of the modern internet and the ever-growing number of attacks and incidents. Such a resilient system enables greater efficiency, enhanced security, and improved situational awareness for everyone. üîíüöÄ</p>



<h2 id="footnotes">
  <a class="Heading-link u-clickable" href="/techblog/post/k3s/#footnotes">Footnotes</a>
</h2>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>The above quote is excerpted from an earlier BlogPost <a href="https://trevorsmale.github.io/techblog/post/pacu10/">Post</a> techblog, 2024.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>John Champine <a href="https://www.linkedin.com/in/john-champine-2ba878114?trk=people-guest_people_search-card">Profile</a> LinkedIn, 2024.&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p>Podman Export <a href="https://docs.podman.io/en/v3.4.1/markdown/podman-play-kube.1.html">Docs</a> Podman Docs, 2019.&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:4">
<p>K3S Website <a href="https://k3s.io/">Site</a> Site, 2025.&#160;<a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:5">
<p>Rancher Website <a href="https://www.rancher.com/">Site</a> Site, 2025.&#160;<a href="#fnref:5" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/experience/" rel="tag">Experience</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/kubernetes/" rel="tag">Kubernetes</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/k3s/" rel="tag">K3S</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/infrastructure/" rel="tag">Infrastructure</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/dev-ops/" rel="tag">Dev Ops</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/platform-engineering/" rel="tag">Platform Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/rancher/" rel="tag">Rancher</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/pacu16/" rel="bookmark">ProLUG Admin Course Unit 16 üêß</a>
  </h1>
  
    <time datetime="2024-12-28T00:00:00Z">December 28, 2024</time>
  
</header>
      
        <h1 id="incident-response">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu16/#incident-response">Incident Response</a>
</h1>
<p>Incident response is a structured approach to identifying, managing, and resolving unexpected events such as security breaches, system failures, or misconfigurations. It aims to minimize disruption, mitigate damage, and restore normal operations while implementing lessons learned to prevent future incidents.</p>
<p>Responding to incidents is a stressful event because it can involve many stakeholders and little time. This week we exercised our skills by live debugging in front of our peers on a remote host. The problems all related to failure modes and misconfiguration and the exercise was rewarding in that I learned a lot as always, and built some confidence.</p>
<hr>



<h1 id="incident-response--troubleshooting-scenarios-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu16/#incident-response--troubleshooting-scenarios-">Incident Response / Troubleshooting Scenarios üßë‚Äçüíª</a>
</h1>



<h2 id="scenario-1-web-server-not-running-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu16/#scenario-1-web-server-not-running-">Scenario #1: Web Server Not Running üï∏Ô∏è</a>
</h2>
<p><strong>Objective</strong>: Ensure the web server is running and responding on port 80.<br>
<strong>Steps</strong>:</p>
<ul>
<li><strong>Verify web server service</strong>:
<ul>
<li>Run: <code>systemctl enable --now httpd</code> (or similar command).</li>
</ul>
</li>
<li><strong>Check open ports</strong>:
<ul>
<li>Run: <code>ss -ntulp</code>.</li>
<li>Identify if the server is running on port 8087 instead of 80.</li>
<li>Edit the configuration:
<ul>
<li>File: <code>/etc/httpd/conf/httpd.conf</code>.</li>
<li>Change <code>Listen 8087</code> to <code>Listen 80</code>.</li>
</ul>
</li>
<li>Restart the service: <code>systemctl restart httpd</code>.</li>
</ul>
</li>
<li><strong>Ensure external connectivity</strong>:
<ul>
<li>Check the firewall status: <code>systemctl status firewalld</code>.</li>
<li>Options:
<ul>
<li>Disable the firewall: <code>systemctl stop firewalld</code>.</li>
<li>Open port 80 if needed.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Final step</strong>:
<ul>
<li>REBOOT the lab machine.</li>
</ul>
</li>
</ul>
<hr>



<h2 id="scenario-2-mount-point-space-not-working-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu16/#scenario-2-mount-point-space-not-working-">Scenario #2: Mount Point /space Not Working üíæ</a>
</h2>
<p><strong>Objective</strong>: Set up a 9GB partition on the <code>/space</code> mount point using LVM.<br>
<strong>Steps</strong>:</p>
<ol>
<li><strong>Verify <code>/space</code> setup</strong>:
<ul>
<li>Confirm the partition is not properly set up.</li>
</ul>
</li>
<li><strong>Create LVM setup</strong>:
<ul>
<li>Identify disks: <code>fdisk -l | grep -i xvd</code>.</li>
<li>Create physical volumes: <code>pvcreate /dev/xvd&lt;disk&gt;</code>.</li>
<li>Create a volume group:
<ul>
<li>Run: <code>vgcreate space /dev/xvd&lt;disk1&gt; /dev/xvd&lt;disk2&gt; /dev/xvd&lt;disk3&gt;</code>.</li>
</ul>
</li>
<li>Create a logical volume:
<ul>
<li>Run: <code>lvcreate -n space -l +100%FREE space</code>.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Format the logical volume</strong>:
<ul>
<li>Create a filesystem: <code>mkfs.ext4 /dev/mapper/&lt;logical_volume_name&gt;</code>.</li>
</ul>
</li>
<li><strong>Mount the filesystem</strong>:
<ul>
<li>Create the mount point: <code>mkdir /space</code>.</li>
<li>Add an entry in <code>/etc/fstab</code>:

  

<pre tabindex="0"><code class="language-fstab" data-lang="fstab">/dev/mapper/&lt;logical_volume_name&gt; /space &lt;ext4 or xfs&gt; defaults 1 2</code></pre>
</li>
<li>Mount the filesystem: <code>mount -a</code>.</li>
</ul>
</li>
<li><strong>Final step</strong>:
<ul>
<li>REBOOT the lab machine.</li>
</ul>
</li>
</ol>
<hr>



<h2 id="scenario-3-system-not-updating-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu16/#scenario-3-system-not-updating-">Scenario #3: System Not Updating üì¶</a>
</h2>
<p><strong>Objective</strong>: Fix the system to allow updates via <code>dnf</code> and ensure kernel updates.<br>
<strong>Steps</strong>:</p>
<ol>
<li><strong>Fix DNF repository configuration</strong>:
<ul>
<li>Edit <code>/etc/yum.repos.d/rocky.repo</code>:
<ul>
<li>Set <code>enabled=1</code> for all necessary repositories.</li>
</ul>
</li>
<li>Check <code>/etc/yum.repos.d/rocky.repo.orig</code> for reference.</li>
<li>Fix the EPEL repository the same way.</li>
</ul>
</li>
<li><strong>Verify kernel updates</strong>:
<ul>
<li>Edit <code>/etc/yum.conf</code>:
<ul>
<li>Comment out the line: <code>exclude=kernel*</code>.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Final step</strong>:
<ul>
<li>REBOOT the lab machine if necessary.</li>
</ul>
</li>
</ol>
<hr>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu16/#prolug-links-">ProLUG Links ‚õìÔ∏è</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG Book: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/operating-systems/" rel="tag">Operating Systems</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/trouble-shooting/" rel="tag">Trouble Shooting</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/incident-response/" rel="tag">Incident Response</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/pacurecap/" rel="bookmark">Wrapping up ProLUC PAC</a>
  </h1>
  
    <time datetime="2024-12-28T00:00:00Z">December 28, 2024</time>
  
</header>
      
        <h1 id="the-wrap-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacurecap/#the-wrap-">The Wrap üì¶</a>
</h1>
<p>Yesterday, our close-knit group completed an intensive 16-week hands-on course in Enterprise Linux Administration, culminating in a live incident response session.</p>
<p>Over the course of hundreds of hours, I pushed myself to go above and beyond in my studies and responsibilities. Along the way, I formed strong connections with like-minded peers, navigating the modern educational landscape of YouTube, Discord, and KillerCoda.</p>
<p>I am truly grateful to have stumbled upon this seemingly random community and to have experienced the structured, effective teaching methods of Scott Champine (Het Tanis), an experienced and traditional educator.</p>



<h2 id="discord-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacurecap/#discord-">Discord üí¨</a>
</h2>
<p>To understand the environment, we must first understand the platform. Discord is a communication platform that combines text, voice, and video chat, designed to create communities where people can interact in real-time. What makes it unique is its seamless integration of customizable servers, topic-specific channels, and robust tools for both casual conversation and collaborative work.</p>
<p>Working on discord harbored a comfortable sense of passive interaction. Unlike say Zoom, Skype or any other similar video communication platform, Discord allows for people to come and go as they please, have multiple presenters and open voice chat, replicating a real world meeting more closely.</p>
<p>This allowed for impromptu discussions / presentation, greatly improving the learning experience.</p>



<h2 id="study-group-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacurecap/#study-group-">Study group üèòÔ∏è</a>
</h2>
<p>Early in the course, I applied my leadership skills by organizing a formal schedule for our study group meetings. These sessions covered course assignments in detail while also exploring related topics through collaborative, interactive projects.</p>
<p>The format was casual and engaging. I would share my screen to walk through scenarios while the group discussed the subject matter. Others also shared their screens, demonstrating tips and tricks in unison.</p>
<p>One of the most effective tools I introduced was a shared note using Etherpad. Similar to Google Docs, Etherpad allows multiple people to edit a document simultaneously. However, it stands out by enabling access without requiring sign-in credentials, making it easy to share with anyone.</p>
<p>These activities relied heavily on trust, as it would have been easy for someone to disrupt the sessions. My leadership skills were frequently tested by off-topic individuals or disruptive participants, but such issues were usually short-lived.</p>



<h2 id="gains-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacurecap/#gains-">Gains üí™üèª</a>
</h2>
<p>Coming into the course, I already had a solid understanding of Linux, backed by a few years of experience. Additionally, I had completed RWXRob‚Äôs (Rob Muhlestein‚Äôs) Beginner Boost DevOps course a year prior.</p>
<p>What set this course apart was its group-learning dynamic. During Rob‚Äôs course, I worked alone, building projects and debugging through hard-fought, self-directed methods like reading documentation, brute-forcing solutions, and referencing forums. In contrast, group work brought added motivation, inspiration, and a collaborative approach to problem-solving. It helped eliminate mundane, off-topic roadblocks, allowing us to focus on core learning and progress more efficiently.</p>



<h2 id="connections-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacurecap/#connections-">Connections ‚õìÔ∏è</a>
</h2>
<p>Through the study group and community discussions, I‚Äôve developed a strong connection with the ProLUG community and feel confident that I can rely on the server for discussions, questions, and troubleshooting. In the near future, I plan to give back by supporting future coursework and helping new learners navigate their journey.</p>



<h2 id="thankful-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacurecap/#thankful-">Thankful üôè</a>
</h2>
<p>I‚Äôm deeply grateful to Scott Champine (Het Tanis) for offering this free course and dedicating so much of his time to it. I‚Äôm equally thankful to the server members who joined the study group and dove headfirst into the intricacies of systems.</p>
<p>Until next time! ‚úåÔ∏è</p>
<hr>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacurecap/#prolug-links-">ProLUG Links ‚õìÔ∏è</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG Book: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/gratitude/" rel="tag">Gratitude</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/graduation/" rel="tag">Graduation</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/pacu15/" rel="bookmark">ProLUG Admin Course Unit 15 üêß</a>
  </h1>
  
    <time datetime="2024-12-25T00:00:00Z">December 25, 2024</time>
  
</header>
      
        <h1 id="engineering-troubleshooting">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu15/#engineering-troubleshooting">Engineering Troubleshooting</a>
</h1>
<p>Systems engineering troubleshooting involves diagnosing and resolving complex issues within interconnected systems to ensure seamless operation and optimal performance. It requires a methodical approach to identify root causes, integrate solutions, and maintain system functionality while addressing both technical and process-related challenges.</p>
<hr>



<h2 id="discussion-post-1">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu15/#discussion-post-1">Discussion Post 1:</a>
</h2>
<p>Your management is all fired up about implementing some Six Sigma processes around the company. You decide to familiarize yourself and get some basic understanding to pass along to your team.</p>



<h3 id="quoted-from-the-book">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu15/#quoted-from-the-book">Quoted from the book</a>
</h3>
<p>5S is a Japanese Lean approach to organizing a workspace, so that by making a process more effective and efficient, it will become easier to identify and expunge muda. 5S relies on visual cues and a clean work area to enhance efficiencies, reduce accidents, and standardize workflows to reduce defects. The method is based on five steps:</p>
<ul>
<li>Sort (Seiri)</li>
<li>Straighten (Seiton)</li>
<li>Shine (Seiso)</li>
<li>Standardize (Seiketsu)</li>
<li>Sustain (Shitsuke)</li>
</ul>



<h3 id="what-about-the-5s-methodology-might-help-us-as-a-team-of-system-administrators">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu15/#what-about-the-5s-methodology-might-help-us-as-a-team-of-system-administrators">What about the ‚Äú5S‚Äù methodology might help us as a team of system administrators?</a>
</h3>
<ul>
<li>Identify and categorize common troubleshooting problems such as typos, illogical configurations, or vulnerabilities to establish clarity and prioritize issues. (Seiri)</li>
<li>Organize and catalog processes and procedures for addressing both routine and uncommon problem scenarios for quick access and consistency. (Seiton)</li>
<li>Validate and test all processes and procedures to ensure they function effectively and reliably. (Seiso)</li>
<li>Promote team familiarity by regularly practicing and drilling procedures, similar to incident response training, to build confidence and efficiency. (Seiketsu)</li>
<li>Apply the processes and procedures in real-world scenarios, evaluate their effectiveness, make necessary adjustments, and document improvements for future use. (Shitsuke)</li>
</ul>
<p>By applying the 5S methodology to troubleshooting, the team can develop a shared understanding of how to consistently address issues, identify system failure points, and create opportunities for incremental improvement, fostering a sense of flow and efficiency.</p>



<h3 id="what-are-the-four-layers-of-process-definition-how-would-you-explain-them-to-your-junior-engineers">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu15/#what-are-the-four-layers-of-process-definition-how-would-you-explain-them-to-your-junior-engineers">What are the four layers of process definition? How would you explain them to your junior engineers?</a>
</h3>
<p>input - anything entering the process or is required to enter the process to drive the creation of an output
outputs - service or product that is created by this process
events - predefined criteria or actions that cause a process to begin working.
tasks - activities are the heart. a unit of action within the process.
4.1 - Decisions are possible made during or for tasks.</p>
<p>The four layers of a process‚Äîinputs, outputs, events, and tasks‚Äîfunction similarly to how a computer program uses functions to process variables and produce results. However, in a Six Sigma process, these elements are more dynamic, encompassing both virtual and physical components, as well as steps that may be driven by either human actions or automated systems. This flexibility allows Six Sigma to address complex workflows that combine diverse inputs and tasks to achieve consistent and efficient outputs.</p>
<p>Looking at our operation as a series of processes with layers like this can help us to identify, refine and standardize processes into Standard Operating Procedures (SOP&rsquo;s).</p>
<hr>



<h2 id="discussion-post-2-your-team-looks-at-a-lot-of-visual-data-you-decide-to-write-up-an-explanation-for-them-to-explain-what-they-look-at">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu15/#discussion-post-2-your-team-looks-at-a-lot-of-visual-data-you-decide-to-write-up-an-explanation-for-them-to-explain-what-they-look-at">Discussion Post 2: Your team looks at a lot of visual data. You decide to write up an explanation for them to explain what they look at.</a>
</h2>



<h3 id="what-is-a-high-water-mark-why-might-it-be-good-to-know-in-utilization-of-systems">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu15/#what-is-a-high-water-mark-why-might-it-be-good-to-know-in-utilization-of-systems">What is a high water mark? Why might it be good to know in utilization of systems?</a>
</h3>
<p>The phrase ‚Äúhigh water mark‚Äù originates from marking a riverbank to indicate the highest water level reached during a season. This mark serves as a warning, signaling potential danger if the water rises beyond it in the future.
In the context of systems, the high water mark represents historically safe operational loads. If metrics indicate that this threshold has been exceeded, it should alert administrators to a potential issue.
For example, if the high water mark for daily memory usage was 14/18 GiB of RAM, and we observe the system suddenly using 16/16 GiB, this warrants attention as a potential problem requiring further investigation.</p>



<h3 id="what-is-an-upper-and-lower-control-limit-in-a-system-output-while-this-isnt-exactly-what-were-looking-at-why-might-it-be-good-to-explain-to-your-junior-engineers">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu15/#what-is-an-upper-and-lower-control-limit-in-a-system-output-while-this-isnt-exactly-what-were-looking-at-why-might-it-be-good-to-explain-to-your-junior-engineers">What is an upper and lower control limit in a system output? While this isn‚Äôt exactly what we‚Äôre looking at, why might it be good to explain to your junior engineers?</a>
</h3>
<p>Control limits are essential tools for monitoring the stability of a process over time. The upper and lower control limits define the normal range within which a process output should remain when the process is operating correctly. If the output exceeds these boundaries, it signals a potential issue, indicating that the process may be out of control and requiring investigation or troubleshooting.</p>
<hr>



<h2 id="definitionsterminology">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu15/#definitionsterminology">Definitions/Terminology</a>
</h2>
<ul>
<li><strong>Incident</strong> An unplanned event that disrupts normal operations.</li>
<li><strong>Problem</strong> The underlying cause of one or more incidents.</li>
<li><strong>FMEA</strong> (Failure Mode and Effects Analysis): A method for identifying and prioritizing potential failure points in a process.</li>
<li><strong>Six Sigma</strong> A data-driven methodology focused on improving processes by reducing defects and variability.</li>
<li><strong>TQM</strong> (Total Quality Management): A management approach emphasizing continuous improvement and customer satisfaction across all organizational processes.</li>
<li><strong>Post Mortem</strong> A retrospective analysis of an event to identify successes and areas for improvement.</li>
<li><strong>Scientific Method</strong> A systematic process of forming hypotheses, testing them, and analyzing results to draw conclusions.</li>
<li><strong>Iterative</strong> A repetitive approach to refining a process or solution through successive cycles.</li>
<li><strong>Discrete Data</strong> Data that can only take specific, distinct values.</li>
<li><strong>Ordinal</strong> Data with a meaningful order but no consistent interval (e.g., satisfaction ratings).</li>
<li><strong>Nominal</strong> (Binary/Attribute): Categorical data without order, such as ‚Äúyes/no‚Äù or ‚Äúmale/female.‚Äù</li>
<li><strong>Continuous Data</strong> Data that can take any value within a range, such as temperature or time.</li>
<li><strong>Risk Priority Number (RPN)</strong> A score in FMEA used to prioritize risks, calculated as Severity √ó Occurrence √ó Detection.</li>
<li><strong>5 Whys</strong> A technique to identify the root cause of a problem by repeatedly asking ‚Äúwhy‚Äù until the root cause is found.</li>
<li><strong>Fishbone Diagram (Ishikawa)</strong> A visual tool used to identify and categorize potential causes of a problem.</li>
<li><strong>Fault Tree Analysis (FTA)</strong> A deductive analysis method used to identify the root causes of system failures.</li>
<li><strong>PDCA (Plan-Do-Check-Act)</strong> A cyclical process for continuous improvement in workflows or systems.</li>
<li><strong>SIPOC</strong> A high-level process map identifying Suppliers, Inputs, Processes, Outputs, and Customers.</li>
</ul>
<hr>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu15/#prolug-links-">ProLUG Links ‚õìÔ∏è</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG Book: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/operating-systems/" rel="tag">Operating Systems</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/trouble-shooting/" rel="tag">Trouble Shooting</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/pacu14/" rel="bookmark">ProLUG Admin Course Unit 14 üêß</a>
  </h1>
  
    <time datetime="2024-12-22T00:00:00Z">December 22, 2024</time>
  
</header>
      
        <h1 id="ansible-automation">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#ansible-automation">Ansible Automation</a>
</h1>
<p>Ansible is an open-source automation tool used for configuration management, application deployment, and IT orchestration, enabling tasks to be executed on multiple systems simultaneously without the need for agents. It uses simple YAML-based playbooks and SSH for communication, making it efficient and easy to learn for managing infrastructure.</p>
<hr>



<h2 id="discussion-post-1">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#discussion-post-1">Discussion Post 1:</a>
</h2>
<p>Refer to your Unit 5 scan of the systems. You know that Ansible
is a tool that you want to maintain in the environment. Review this online documentation:
<a href="https://docs.ansible.com/ansible/latest/inventory_guide/intro_inventory.html">https://docs.ansible.com/ansible/latest/inventory_guide/intro_inventory.html</a></p>



<h3 id="make-an-inventory-of-the-servers-grouped-any-way-you-like">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#make-an-inventory-of-the-servers-grouped-any-way-you-like">Make an inventory of the servers, grouped any way you like.</a>
</h3>
<p>[warewulf]
192.168.200.25</p>
<p>[ubuntu]
192.168.200.[101:103]
192.168.200.[201:203]</p>
<p>[rockynodes]
192.168.200.[51:69]</p>



<h3 id="what-format-did-you-choose-to-use-for-your-inventory">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#what-format-did-you-choose-to-use-for-your-inventory">What format did you choose to use for your inventory?</a>
</h3>
<p>INI. YAML seems to be the clear choice as it allows for a more declarative inventory. However, while working in the study group it was easier to edit INI without making indentation errors.</p>



<h3 id="what-other-things-might-you-include-later-in-your-inventory-to-make-it-more-useful">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#what-other-things-might-you-include-later-in-your-inventory-to-make-it-more-useful">What other things might you include later in your inventory to make it more useful?</a>
</h3>
<p>I can add quite a few interesting things to an inventory file to make it more useful. Once the file reaches a certain size, it is better to break it out into separate unit files that are nested for things like Hosts, Host Variables, Production, Staging etc&hellip;</p>
<p>Some notable things I think make things pretty powerful are:</p>
<ul>
<li>Dynamic Inventorying</li>
<li>Vault encrypted secrets</li>
<li>Jinja2 Dynamic variables</li>
</ul>
<hr>



<h2 id="discussion-post-2">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#discussion-post-2">Discussion Post 2:</a>
</h2>
<p>You have been noticing drift on your server configurations, so
you want a way to generate a report on them every day to validate the configurations are the
same.</p>
<ul>
<li>Use any lab in here to find ideas: <a href="https://killercoda.com/het-tanis/course/Ansible-">https://killercoda.com/het-tanis/course/Ansible-</a>
Labs Use this webhook to send your relevant data out to our sandbox.
<a href="https://discord.com/api/webhooks/1317659221604433951/uyKpuq8fNNNSEyCra4n33PakI">https://discord.com/api/webhooks/1317659221604433951/uyKpuq8fNNNSEyCra4n33PakI</a>
Bk-XtTn1WrwTpHs9BcgkIu7URPV_Gd5HJCRX0_EJVUT</li>
</ul>
<hr>
<ul>
<li>name: System Information Check
hosts: all
become: yes
tasks:
<ul>
<li>
<p>name: Check kernel version
command: uname -r
register: kernel_version</p>
</li>
<li>
<p>name: Display kernel version
debug:
msg: &ldquo;Kernel Version: {{ kernel_version.stdout }}&rdquo;</p>
</li>
<li>
<p>name: Display kernel command line
command: cat /proc/cmdline
register: kernel_cmdline</p>
</li>
<li>
<p>name: Debug kernel command line
debug:
msg: &ldquo;Kernel Command Line: {{ kernel_cmdline.stdout }}&rdquo;</p>
</li>
<li>
<p>name: Check hardware information
command: lshw
register: hardware_info</p>
</li>
<li>
<p>name: Debug hardware information
debug:
msg: &ldquo;Hardware Information: {{ hardware_info.stdout }}&rdquo;</p>
</li>
<li>
<p>name: List installed RPM packages
command: rpm -qa
register: installed_rpms</p>
</li>
<li>
<p>name: Debug installed RPM packages
debug:
msg: &ldquo;Installed RPMs: {{ installed_rpms.stdout }}&rdquo;</p>
</li>
<li>
<p>name: Check active services
command: systemctl list-units &ndash;type=service &ndash;state=running
register: active_services</p>
</li>
<li>
<p>name: Debug active services
debug:
msg: &ldquo;Active Services: {{ active_services.stdout }}&rdquo;</p>
</li>
<li>
<p>name: List system users
command: cat /etc/passwd
register: system_users</p>
</li>
<li>
<p>name: Debug system users
debug:
msg: &ldquo;System Users: {{ system_users.stdout }}&rdquo;</p>
</li>
<li>
<p>name: Check last login information
command: last
register: last_login</p>
</li>
<li>
<p>name: Debug last login information
debug:
msg: &ldquo;Last Login Information: {{ last_login.stdout }}&rdquo;</p>
</li>
<li>
<p>name: Display currently logged-in users
command: w
register: logged_in_users</p>
</li>
<li>
<p>name: Debug currently logged-in users
debug:
msg: &ldquo;Logged-in Users: {{ logged_in_users.stdout }}&rdquo;</p>
</li>
<li>
<p>name: Display ISO time
command: date &ndash;iso-8601=seconds
register: iso_time</p>
</li>
<li>
<p>name: Debug ISO time
debug:
msg: &ldquo;ISO Time: {{ iso_time.stdout }}&rdquo;</p>
</li>
</ul>
</li>
</ul>
<hr>



<h2 id="discussion-post-3">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#discussion-post-3">Discussion Post 3:</a>
</h2>
<p>Using ansible module for git, pull down this repo: üëç
<a href="https://github.com/het-tanis/HPC_Deploy.git">https://github.com/het-tanis/HPC_Deploy.git</a></p>



<h3 id="how-is-the-repo-setup">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#how-is-the-repo-setup">How is the repo setup?</a>
</h3>
<p>We have 3 playbooks in the root of the directory. These playbooks utilize roles defined in the roles subdirectory.
Playbook 01 gathers facts about nfs using roles defined in a subdirectory called roles.
Playbook 02 gathers data from a target system using roles defined in a subdirectory called data-gather.
Playbook 03 updates and installs using roles defined in a subdirectory called packages_update/tasks &amp; packages_install/tasks.</p>



<h3 id="what-is-in-the-roles-directory">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#what-is-in-the-roles-directory">What is in the roles directory?</a>
</h3>
<p>Partially answered for the previous question.
Roles are structured with dedicated directories for tasks, handlers, and templates.</p>



<h3 id="how-are-these-playbooks-called-and-how-do-roles-differ-from-tasks">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#how-are-these-playbooks-called-and-how-do-roles-differ-from-tasks">How are these playbooks called, and how do roles differ from tasks?</a>
</h3>
<p>These playbooks incorporate roles based on specific conditions, executing the tasks defined within each role. When a role is included, the playbook inherits all its contents.</p>
<hr>



<h2 id="digging-deeper">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#digging-deeper">Digging Deeper</a>
</h2>



<h3 id="i-have-a-large-amount-of-labs-to-get-you-started-on-your-ansible-journey-all-free">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#i-have-a-large-amount-of-labs-to-get-you-started-on-your-ansible-journey-all-free">I have a large amount of labs to get you started on your Ansible Journey (all free):</a>
</h3>
<p><a href="https://killercoda.com/het-tanis/course/Ansible-Labs">https://killercoda.com/het-tanis/course/Ansible-Labs</a> üëç</p>



<h3 id="find-projects-from-our-channel-ansible-code-in-discord-and-find-something-that-is">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#find-projects-from-our-channel-ansible-code-in-discord-and-find-something-that-is">Find projects from our channel Ansible-Code, in Discord and find something that is</a>
</h3>
<p>interesting to you. üëç</p>



<h3 id="use-ansible-to-access-secrets-from-hashicorp-vault-httpskillercodacomhet-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#use-ansible-to-access-secrets-from-hashicorp-vault-httpskillercodacomhet-">Use Ansible to access secrets from Hashicorp Vault: <a href="https://killercoda.com/het-">https://killercoda.com/het-</a></a>
</h3>
<p>tanis/course/Hashicorp-Labs/004-vault-read-secrets-ansible üëç</p>
<hr>



<h1 id="lab-work---">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#lab-work---">Lab Work üß™  üëç</a>
</h1>



<h3 id="create-an-inventory">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#create-an-inventory">Create an inventory:</a>
</h3>
<ol>
<li>While still in the /root/ansible_madness directory, create a file hosts
vi /root/ansible_madness/hosts
Populate the file as follows</li>
</ol>
<p>[servers]</p>
<ul>
<li>192.168.200.101</li>
<li>192.168.200.102</li>
<li>192.168.200.103</li>
</ul>
<p>Run Ad Hoc commands against your servers
This will test your connection into all the servers.</p>



<h3 id="1-ansible-servers--i-hosts--u-inmate--k--m-shell--a-uptime">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#1-ansible-servers--i-hosts--u-inmate--k--m-shell--a-uptime">1. ansible servers -i hosts -u inmate -k -m shell -a uptime</a>
</h3>
<p>Use this password: LinuxR0cks1!</p>
<p>Do the same thing, but this time be verbose</p>



<h3 id="2-ansible--vvv-servers--i-hosts--u-inmate--k--m-shell--a-uptime">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#2-ansible--vvv-servers--i-hosts--u-inmate--k--m-shell--a-uptime">2. ansible -vvv servers -i hosts -u inmate -k -m shell -a uptime</a>
</h3>
<p>Create a playbook to push over files.</p>



<h3 id="3-echo-this-is-my-file-yourname--somefile">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#3-echo-this-is-my-file-yourname--somefile">3. echo &ldquo;This is my file <!-- raw HTML omitted -->&rdquo; &gt; somefile</a>
</h3>



<h3 id="4-vi-deployyaml">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#4-vi-deployyaml">4. vi deploy.yaml</a>
</h3>
<p>Populate it as follows:</p>
<pre><code>name: Start of push playbook

hosts: servers
vars:
gather_facts: True
become: False
tasks:
name: Copy somefile over at {{ ansible_date_time.iso8601_basic_short }}
copy:
src: /root/ansible_madness/somefile
dest: /tmp/somefile.txt
</code></pre>



<h3 id="5-execute-your-playbook">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#5-execute-your-playbook">5. Execute your playbook</a>
</h3>
<p>ansible-playbook -i hosts -k deploy.yaml</p>



<h3 id="6-verify-that-your-file-pushed-everywhere">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#6-verify-that-your-file-pushed-everywhere">6. Verify that your file pushed everywhere</a>
</h3>
<p>ansible servers -i hosts -u inmate -k -m shell -a ‚Äúls -l /tmp/somefile‚Äù
Pull down a github repo</p>
<ol>
<li>git clone <a href="https://github.com/het-tanis/HPC_Deploy.git">https://github.com/het-tanis/HPC_Deploy.git</a>
cd HPC_Deploy
What do you see in here?
What do you need to learn about more to deploy some of these tools?
Can you execute some of these, why or why not?</li>
</ol>
<hr>



<h2 id="reflection-questions">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#reflection-questions">Reflection Questions</a>
</h2>
<ol>
<li>
<p>What questions do you still have about this week?</p>
</li>
<li>
<p>How can you apply this now in your current role in IT? If you‚Äôre not in IT, how can you
look to put something like this into your resume or portfolio?</p>
</li>
</ol>
<hr>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#prolug-links-">ProLUG Links ‚õìÔ∏è</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG Book: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/operating-systems/" rel="tag">Operating Systems</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/declaritive/" rel="tag">Declaritive</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/configuration/" rel="tag">Configuration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/ansible/" rel="tag">Ansible</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/iac/" rel="tag">IaC</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/pacu13/" rel="bookmark">ProLUG Admin Course Unit 13 üêß</a>
  </h1>
  
    <time datetime="2024-12-15T00:00:00Z">December 15, 2024</time>
  
</header>
      
        <h1 id="system-hardening">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#system-hardening">System Hardening</a>
</h1>
<p>Linux system hardening involves securing the system by reducing its attack surface through measures such as disabling unnecessary services, enforcing access controls, applying security patches, and using tools like OpenSCAP, STIG compliance frameworks, or the OSCAP Scanner. These tools help automate security audits, enforce compliance standards, and identify vulnerabilities to enhance system security.</p>
<hr>



<h2 id="discussion-post-1">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#discussion-post-1">Discussion Post 1:</a>
</h2>
<p>Your security team comes to you with a discrepancy between
the production security baseline and something that is running on one of your servers in
production. There are 5 servers in a web cluster and only one of them is showing this
behavior. They want you to account for why something is different.</p>



<h3 id="how-are-you-going-to-validate-that-the-difference-between-the-systems">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#how-are-you-going-to-validate-that-the-difference-between-the-systems">How are you going to validate that the difference between the systems?</a>
</h3>
<p>I am going to assume that I am new to the system in general and have very surface knowledge from fellow staff. I am also assuming we are working with a redhat based system.</p>



<h4 id="starting-off-simple">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#starting-off-simple">Starting off simple</a>
</h4>
<p>Maybe the problem is an obvious one, so I would just start off with a glance.</p>
<ul>
<li>Quick cursory check (Kernel Version uname-a)</li>
<li>Manually Checking Logs (Journalctl, dmesg, audit.log, syslog)</li>
<li>Checking ports (Socket Statistics, ss -ntulp)</li>
<li>Listing installed packages (DNF list, RPM -qa)</li>
<li>Listing users and Logins (/etc/passwd, w, last)</li>
<li>Seeing what System D services are running (systemctl list-units - -type=service)</li>
<li>Digging for documentation and or commit history</li>
</ul>



<h4 id="deeper-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#deeper-">Deeper ‚õèÔ∏è</a>
</h4>
<p>If no low hanging fruit were there, then I would check configurations</p>
<ul>
<li>Grub.conf, FirewallD/Apparmour, SELinux,</li>
</ul>



<h4 id="sorting-ish-from-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#sorting-ish-from-">Sorting ü™∞&lsquo;ish from üå∂Ô∏è</a>
</h4>
<p>If I do that see something distinctly different, I would employ a more sophisticated approach with difference checking.
Given that everything is a structured file, I can append the output from a working system and the goose ü™ø to a new file and run diff against them.</p>
<ul>
<li>Diff&rsquo;ing the Logs</li>
<li>Diff&rsquo;ing Socket Statistics</li>
<li>Diff&rsquo;ing Installed Packages</li>
</ul>



<h3 id="what-are-you-going-to-look-at-to-explain-this">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#what-are-you-going-to-look-at-to-explain-this">What are you going to look at to explain this?</a>
</h3>
<p>I think I have answered this above.</p>



<h3 id="what-could-be-done-to-prevent-this-problem-in-the-future">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#what-could-be-done-to-prevent-this-problem-in-the-future">What could be done to prevent this problem in the future?</a>
</h3>
<ul>
<li>Introducing or Improving the change management policy and employing version control would be my first suggestion.</li>
<li>Ensuring that there is a build/test/deploy pipeline that integrates tightly with change management.</li>
<li>Using IaC and Automation to ensure consistency and repeatability with tools like Ansible, Packer, Podman or Kubernetes.</li>
<li>Hardening systems with either simple policies or through the guidance of STIG&rsquo;s.</li>
<li>Introducing stronger controls over user privileges like employing RBA policies.</li>
</ul>
<hr>



<h2 id="discussion-post-2">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#discussion-post-2">Discussion Post 2:</a>
</h2>
<p>Your team has been giving you more and more engineering
responsibilities. You are being asked to build out the next set of servers to integrate into the
development environment. Your team is going from RHEL 8 to Rocky 9.4.</p>



<h3 id="how-might-you-start-to-plan-out-your-migration">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#how-might-you-start-to-plan-out-your-migration">How might you start to plan out your migration?</a>
</h3>



<h4 id="observe">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#observe">Observe</a>
</h4>
<p>Firstly I would gather system information</p>
<ul>
<li>Benchmark/baseline performance metrics and utilization (Disk, I/O, PS, Connections etc)</li>
<li>Configs (Scripts and configuration files)</li>
<li>Installed Packages.</li>
<li>users (Listing users and privileges)</li>
<li>Policies (Firewall, SELinux)</li>
<li>Purpose (Assessing the use of a particular system to see if may need changes/upgrades)</li>
</ul>



<h4 id="capture">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#capture">Capture</a>
</h4>
<ul>
<li>I would snapshot the current system if possible</li>
<li>If a complete snapshot copy is not possible, I would gather files essential to rebuilding a replica</li>
</ul>



<h4 id="reconstruct">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#reconstruct">Reconstruct</a>
</h4>
<ul>
<li>Build it in a test VM emulating the current environment</li>
<li>Template the VM for experimental changes (Adding additional tools or Configs)</li>
</ul>



<h4 id="analyze--optimize">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#analyze--optimize">Analyze / Optimize</a>
</h4>
<ul>
<li>Gather business or operational requirements, perhaps the system needs enhancements</li>
<li>Experiment with performance tuning</li>
<li>Test new packages and/or configurations</li>
</ul>



<h4 id="build">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#build">Build</a>
</h4>
<p>During the analysis and optimization phase, I would start a playbook with information gathered from previous phases.
I would build and run the playbook against VM templates until satisfied.</p>



<h4 id="deploy">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#deploy">Deploy</a>
</h4>
<p>Given the prior phases, my Playbook would be robust and capable of the transition.
However, I would ensure a robust backup and rollback plan in the case something fails.</p>



<h3 id="what-are-you-going-to-check-on-the-existing-systems-to-baseline-your-build">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#what-are-you-going-to-check-on-the-existing-systems-to-baseline-your-build">What are you going to check on the existing systems to baseline your build?</a>
</h3>
<ol>
<li><strong>Compute Usage</strong></li>
<li><strong>Memory Load</strong></li>
<li><strong>Disk Resources</strong></li>
<li><strong>Networking Metrics</strong></li>
</ol>



<h3 id="what-kind-of-validation-plan-might-you-use-for-your-new-rocky-94-systems">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#what-kind-of-validation-plan-might-you-use-for-your-new-rocky-94-systems">What kind of validation plan might you use for your new Rocky 9.4 systems?</a>
</h3>
<p>I would have a seperate playbook built that would validate performance against what I was observing during my VM experimentation.
Though the environment may differ from that of the VM, I would still be able to discern performance characteristics and notice any outlier differences.</p>
<hr>



<h2 id="digging-deeper">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#digging-deeper">Digging Deeper</a>
</h2>
<ol>
<li>Run through this lab: <a href="https://killercoda.com/het-tanis/course/Linux-Labs/107-server-startup-process">https://killercoda.com/het-tanis/course/Linux-Labs/107-server-startup-process</a> üëç</li>
</ol>



<h3 id="how-does-this-help-you-better-understand-the-discussion-13-2-question">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#how-does-this-help-you-better-understand-the-discussion-13-2-question">How does this help you better understand the discussion 13-2 question?</a>
</h3>
<p>Well when I am gathering a picture of my current security baseline, I can use some of these tools like dmesg and ss to see what possible attack surface I may have.</p>
<ol start="2">
<li>Run through this lab: <a href="https://killercoda.com/het-tanis/course/Linux-Labs/203-updating-golden-image">https://killercoda.com/het-tanis/course/Linux-Labs/203-updating-golden-image</a> üëç</li>
</ol>



<h3 id="how-does-this-help-you-better-understand-the-process-of-hardening-systems">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#how-does-this-help-you-better-understand-the-process-of-hardening-systems">How does this help you better understand the process of hardening systems?</a>
</h3>
<hr>



<h2 id="reflection-questions">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#reflection-questions">Reflection Questions</a>
</h2>
<ol>
<li>
<p>What questions do you still have about this week?</p>
</li>
<li>
<p>How can you apply this now in your current role in IT? If you‚Äôre not in IT, how can you
look to put something like this into your resume or portfolio?</p>
</li>
</ol>
<hr>



<h1 id="lab-work-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#lab-work-">Lab Work üß™</a>
</h1>



<h3 id="1-you-will-scan-a-server-for-a-scc-report-and-get-a-stig-score-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#1-you-will-scan-a-server-for-a-scc-report-and-get-a-stig-score-">1. You will scan a server for a SCC Report and get a STIG Score üëç</a>
</h3>



<h3 id="2-you-will-remediate-some-of-the-items-from-the-scan-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#2-you-will-remediate-some-of-the-items-from-the-scan-">2. You will remediate some of the items from the scan üëç</a>
</h3>



<h3 id="3-you-will-rescan-and-verify-a-better-score-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#3-you-will-rescan-and-verify-a-better-score-">3. You will rescan and verify a better score. üëç</a>
</h3>
<hr>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#prolug-links-">ProLUG Links ‚õìÔ∏è</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG Book: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/operating-systems/" rel="tag">Operating Systems</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/stig/" rel="tag">STIG</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/system-hardening/" rel="tag">System Hardening</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/pacu12/" rel="bookmark">ProLUG Admin Course Unit 12 üêß</a>
  </h1>
  
    <time datetime="2024-11-30T00:00:00Z">November 30, 2024</time>
  
</header>
      
        <h1 id="baselining--benchmarking">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#baselining--benchmarking">Baselining &amp; Benchmarking</a>
</h1>
<p>The purpose of a baseline is not to find fault, load, or to take corrective action. A baseline simply
determines what is. You must know what is so that you can test against that when you make a change to
be able to objectively say there was or wasn&rsquo;t an improvement. You must know where you are at to be
able to properly plan where you are going. A poor baseline assessment, because of inflated numbers or
inaccurate testing, does a disservice to the rest of your project. You must accurately draw the first line
and understand your system&rsquo;s performance.</p>
<hr>



<h2 id="discussion-post-1">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#discussion-post-1">Discussion Post 1:</a>
</h2>
<p>Your manager has come to you with another emergency. He has a meeting next week to discuss capacity planning and usage of the system with IT upper management. He doesn‚Äôt want to lose his budget, but he has to prove that the system utilization warrants spending more.</p>
<ul>
<li>What information can you show your manager from your systems?</li>
</ul>
<p>You could present your manager with a progressive trend graph showing time on the x-axis and several fields on the y-axis that represent changes from a baseline, assuming the necessary data has been collected. With this information, it would be possible to predict when various system resources will reach their maximum capacity.</p>
<ul>
<li>
<p>What type of data would prove system utilization? (Remember the big 4: compute, memory, disk, networking)</p>
<p>CPU load, process execution time, throughput.
Disk Operations (IOPS).
Networking Requests and Bandwidth.
RAM utilization, memory paging/swapping rates.</p>
</li>
<li>
<p>What would your report look like to your manager?</p>
</li>
</ul>



<h1 id="capacity-planning-report">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#capacity-planning-report">Capacity Planning Report</a>
</h1>
<p>Current and projected system utilization. By examining trends over time, we can predict when critical resources will reach their limits if no additional capacity is provisioned.</p>



<h2 id="key-areas-of-focus">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#key-areas-of-focus">Key Areas of Focus</a>
</h2>
<ol>
<li><strong>Compute Usage</strong></li>
<li><strong>Memory Load</strong></li>
<li><strong>Disk Resources</strong></li>
<li><strong>Networking Metrics</strong></li>
</ol>



<h2 id="historical-data-and-trends">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#historical-data-and-trends">Historical Data and Trends</a>
</h2>
<p>Below is a sample progressive trend graph over the last 6 months. The x-axis represents time (in weeks), while the y-axis shows percentage utilization relative to an established baseline.</p>
<p><strong>Example Metrics (relative to baseline):</strong></p>
<ul>
<li>
<p><strong>CPU Utilization (% of baseline)</strong></p>
</li>
<li>
<p><strong>Memory Load (% of baseline)</strong></p>
</li>
<li>
<p><strong>Disk IOPS (% of baseline)</strong></p>
</li>
<li>
<p><strong>Network Throughput (% of baseline)</strong></p>
<p>Time (Weeks):    1   2   3   4   5   6   ‚Ä¶   20   21   22
CPU Util(%):    50  52  55  57  60  62   ‚Ä¶   80   82   85
Memory(%):      45  47  50  50  52  55   ‚Ä¶   70   73   75
Disk IOPS(%):   30  32  35  36  38  40   ‚Ä¶   60   63   68
Network(%):     40  42  45  47  49  51   ‚Ä¶   75   78   80</p>
</li>
</ul>
<p>As time progresses, each of the key metrics is trending upward, indicating increasing load and approaching capacity thresholds.</p>



<h2 id="projections">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#projections">Projections</a>
</h2>
<p>We can estimate the ‚Äútime to ceiling‚Äù for critical resources. For instance, if CPU load is rising at an average rate of 2‚Äì3% per month, and we know that at 90% utilization the system will experience performance degradation.</p>
<p><strong>Projected Time to CPU Ceiling:</strong> 3‚Äì5 months<br>
<strong>Projected Time to Memory Ceiling:</strong> 6‚Äì8 months<br>
<strong>Projected Time to Disk IOPS Ceiling:</strong> 8‚Äì10 months<br>
<strong>Projected Time to Network Bandwidth Ceiling:</strong> 4‚Äì6 months</p>



<h2 id="recommendations">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#recommendations">Recommendations</a>
</h2>
<ul>
<li><strong>Compute</strong>: Consider adding more CPU cores or upgrading processors before reaching the predicted 90% utilization mark.</li>
<li><strong>Memory</strong>: Upgrade RAM or optimize applications to reduce memory footprint.</li>
<li><strong>Disk</strong>: Enhance disk subsystems or switch to faster storage (e.g., SSDs) to handle projected IOPS.</li>
<li><strong>Networking</strong>: Increase network capacity (e.g., from 1Gb to 10Gb links) or optimize network traffic.</li>
</ul>



<h2 id="conclusion">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#conclusion">Conclusion</a>
</h2>
<p>Investment in scaling resources now will prevent future performance bottlenecks, ensuring the system can continue to meet business demands effectively.</p>
<hr>



<h2 id="discussion-post-2">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#discussion-post-2">Discussion Post 2:</a>
</h2>
<p>You are in a capacity planning meeting with a few of the architects. They have decided to add 2 more agents to your Linux Sytems, Bacula Agent and an Avamar Agent . They expect these agents to run their work starting at 0400 every morning.</p>
<ul>
<li>What do these agents do? (May have to look them up)</li>
</ul>
<p>Bacula is an open-source suite of tools designed to automate backup tasks. It‚Äôs widely regarded for its flexibility and reliability. Dell Avamar, on the other hand, is a commercial backup automation solution. Both tools handle incremental backups using custom daemons that monitor changes over time, offering greater sophistication than simple scheduling systems like Cron. Additionally, they can manage backups across diverse, heterogeneous storage environments.</p>
<ul>
<li>Do you think there is a good reason not to use these agents at this timeframe?</li>
</ul>
<p>This approach is about balancing workload. If all processes start at a fixed time, they can consume valuable resources simultaneously. The best schedule depends on the environment. For example, if the environment experiences downtime‚Äîsuch as a traditional office setting‚Äîstarting backups at 4 a.m. might be fine. However, if services run around the clock, it‚Äôs better to stagger the tasks so they use only a fraction of the available resources at any given time. This approach also reduces the impact of failures, since not all systems are involved at once.</p>
<ul>
<li>Is there anything else you might want to point out to these architects about these agents they are installing?</li>
</ul>
<p>There are several factors architects should consider. However, in the context of this discussion, performance overhead is particularly relevant. They need to ensure that the chosen backup solutions won‚Äôt overburden the system‚Äôs resources and that there‚Äôs enough ‚Äúbreathing room‚Äù to maintain smooth operations.</p>
<hr>



<h2 id="discussion-post-3-todo">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#discussion-post-3-todo">Discussion Post 3: &lsquo;TODO&rsquo;</a>
</h2>
<p>Your team has recently tested at proof of concept of a new storage system. The vendor has published the blazing fast speeds that are capable of being run through this storage system. You have a set of systems connected to both the old storage system and the new storage system.</p>
<ul>
<li>Write up a test procedure of how you may test these two systems.</li>
</ul>
<p>I did a bit of research regarding tooling for such a task and found FIO &lsquo;Flexible Input / Output&rsquo;, a program written for the purpose of testing systems with various scenarios.
Rather than using BASH, I can run more comprehensive testing with more data to analyze using FIO.</p>



<h3 id="baseline-test">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#baseline-test">Baseline Test</a>
</h3>
<pre><code> fio --filename=/dev/new_storage_lun --direct=1 --rw=read --bs=128k --size=10G --numjobs=1 --iodepth=32 --runtime=300 --time_based --name=new_storage_seq_read
 fio --filename=/dev/old_storage_lun --direct=1 --rw=read --bs=128k --size=10G --numjobs=1 --iodepth=32 --runtime=300 --time_based --name=old_storage_seq_read
</code></pre>



<h3 id="running-mixed-workload-tests">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#running-mixed-workload-tests">Running Mixed Workload Tests</a>
</h3>
<pre><code> fio --filename=/dev/new_storage_lun --direct=1 --rw=randrw --rwmixread=70 --bs=4k --size=10G --numjobs=4 --iodepth=16 --runtime=300 --time_based --name=new_storage_mixed
</code></pre>



<h3 id="increased-concurrency-and-scale">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#increased-concurrency-and-scale">Increased Concurrency and Scale</a>
</h3>
<ul>
<li>
<p>Increase <code>numjobs</code> and <code>iodepth</code> in subsequent runs to measure how performance changes:</p>
<p>fio &ndash;filename=/dev/new_storage_lun &ndash;direct=1 &ndash;rw=read &ndash;bs=128k &ndash;size=10G &ndash;numjobs=8 &ndash;iodepth=64 &ndash;runtime=300 &ndash;time_based &ndash;name=new_storage_high_concurrency</p>
</li>
<li>
<p>Run the same tests on the old storage system and record all metrics.</p>
</li>
</ul>



<h3 id="stresssoak-tests">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#stresssoak-tests">Stress/Soak Tests</a>
</h3>
<ul>
<li>
<p>12-hour continuous I/O test on both storage systems.</p>
<p>fio &ndash;filename=/dev/new_storage_lun &ndash;direct=1 &ndash;rw=randwrite &ndash;bs=4k &ndash;size=100G &ndash;numjobs=1 &ndash;iodepth=32 &ndash;runtime=43200 &ndash;time_based &ndash;name=new_storage_soak</p>
</li>
</ul>



<h3 id="awk-line-parsing">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#awk-line-parsing">AWK Line Parsing</a>
</h3>
<p>I would then pipe the output of these commands to <strong>AWK</strong> to seperate out specific datapoints to append to files for full analysis.</p>
<ul>
<li>How are you assuring these test are objective?</li>
</ul>
<p>By gathering multiple datasets with varying run parameters, I can reduce statistical noise and better isolate data of interest by comparing these datasets against one another.</p>
<ul>
<li>What is meant by the term Ceteris Paribus, in this context?</li>
</ul>
<p>in the context of system benchmarking means that when measuring the performance of one specific aspect of the system, all other variables and conditions are kept constant. This approach ensures that any observed changes in performance can be attributed directly to the variable under test, rather than being influenced by unrelated fluctuations in the environment or system load.</p>
<hr>



<h2 id="definitions--terminology">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#definitions--terminology">Definitions &amp; Terminology</a>
</h2>
<ul>
<li>Benchmark</li>
<li>High watermark</li>
<li>Scope</li>
<li>Methodology</li>
<li>Testing</li>
<li>Control</li>
<li>Experiment</li>
<li>Analytics</li>
<li>Descriptive</li>
<li>Diagnostic</li>
<li>Predictive</li>
<li>Prescriptive</li>
</ul>



<h2 id="digging-deeper-optional">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#digging-deeper-optional">Digging Deeper (optional)</a>
</h2>
<ol>
<li>Analyzing data may open up a new field of interest to you. Go through some of the
free lessons on Kaggle, here: <a href="https://www.kaggle.com/learn">https://www.kaggle.com/learn</a></li>
</ol>
<p>a. What did you learn?</p>
<p>b. How will you apply these lessons to data and monitoring you have already
collected as a system administrator?</p>
<ol start="2">
<li>Find a blog or article that discusses the 4 types of data analytics.</li>
</ol>
<p>a. What did you learn about past operations?
b. What did you learn about predictive operations?</p>
<ol start="3">
<li>Download Spyder IDE (Open source)</li>
</ol>
<p>a. Find a blog post or otherwise try to evaluate some data.
b. Perform some Linear regression. My block of code (but this requires some
additional libraries to be added. I can help with that if you need it.)</p>
<p>import matplotlib.pyplot as plt</p>
<p>from sklearn.linear_model import LinearRegression</p>
<p>size = [[5.0], [5.5], [5.9], [6.3], [6.9], [7.5]]
price =[[165], [200], [223], [250], [278], [315]]
plt.title(&lsquo;Pizza Price plotted against the size&rsquo;)</p>
<p>plt.xlabel(&lsquo;Pizza Size in inches&rsquo;)</p>
<p>plt.ylabel(&lsquo;Pizza Price in cents&rsquo;)</p>
<p>plt.plot(size, price, &lsquo;k.&rsquo;)</p>
<p>plt.axis([5.0, 9.0, 99, 355])</p>
<p>plt.grid(True)</p>
<p>model = LinearRegression()</p>
<p>model.fit(X = size, y = price)</p>
<p>#plot the regression line</p>
<p>plt.plot(size, model.predict(size), color=&lsquo;r&rsquo;)</p>
<p>Reflection Questions</p>
<ol>
<li>
<p>What questions do you still have about this week?</p>
</li>
<li>
<p>How can you apply this now in your current role in IT? If you‚Äôre not in IT, how can you
look to put something like this into your resume or portfolio?</p>
</li>
</ol>
<hr>



<h2 id="digging-deeper">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#digging-deeper">Digging Deeper</a>
</h2>



<h4 id="1-read-the-rest-of-the-chapter-httpssregoogleworkbookmonitoring-and-note-anything-else-of-interest-when-it-comes-to-monitoring-and-dashboarding">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#1-read-the-rest-of-the-chapter-httpssregoogleworkbookmonitoring-and-note-anything-else-of-interest-when-it-comes-to-monitoring-and-dashboarding">1. Read the rest of the chapter <a href="https://sre.google/workbook/monitoring/">https://sre.google/workbook/monitoring/</a> and note anything else of interest when it comes to monitoring and dashboarding.</a>
</h4>



<h4 id="2-look-up-the-prolug-prometheus-certified-associate-prep-2024-in-resources---presentations-in-our-prolug-discord-study-that-for-a-deep-dive-into-prometheus">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#2-look-up-the-prolug-prometheus-certified-associate-prep-2024-in-resources---presentations-in-our-prolug-discord-study-that-for-a-deep-dive-into-prometheus">2. Look up the ‚ÄúProLUG Prometheus Certified Associate Prep 2024‚Äù in Resources -&gt; Presentations in our ProLUG Discord. Study that for a deep dive into Prometheus.</a>
</h4>



<h4 id="3-complete-the-project-section-of-monitoring-deep-dive-project-guide-from-the-prolug-projects-section-of-the-discord-we-have-a-youtube-video-on-that-project-as-well-httpswwwyoutubecomwatchv54vgghr99qg">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#3-complete-the-project-section-of-monitoring-deep-dive-project-guide-from-the-prolug-projects-section-of-the-discord-we-have-a-youtube-video-on-that-project-as-well-httpswwwyoutubecomwatchv54vgghr99qg">3. Complete the project section of ‚ÄúMonitoring Deep Dive Project Guide‚Äù from the prolug-projects section of the Discord. We have a Youtube video on that project as well. <a href="https://www.youtube.com/watch?v=54VgGHr99Qg">https://www.youtube.com/watch?v=54VgGHr99Qg</a></a>
</h4>



<h2 id="labs">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#labs">Labs</a>
</h2>
<p><a href="https://killercoda.com/het-tanis/course/Linux-Labs/102-monitoring-linux-logs">https://killercoda.com/het-tanis/course/Linux-Labs/102-monitoring-linux-logs</a></p>
<p><a href="https://killercoda.com/het-tanis/course/Linux-Labs/103-monitoring-linux-telemetry">https://killercoda.com/het-tanis/course/Linux-Labs/103-monitoring-linux-telemetry</a></p>
<p><a href="https://killercoda.com/het-tanis/course/Linux-Labs/104-monitoring-linux-Influx-Grafana">https://killercoda.com/het-tanis/course/Linux-Labs/104-monitoring-linux-Influx-Grafana</a></p>
<ol start="2">
<li>While completing each lab think about the following:</li>
</ol>
<p>a. How does it tie into the diagram below?</p>
<p>b. What could you improve, or what would you change based on your previous administration
experience.</p>
<p>Install Grafana
on the Rocky Linux system by adding the Grafana repo manually.
Red = Inputs
Blue = Outputs</p>
<ol>
<li>Create a new repository configuration
sudo vim /etc/yum.repos.d/grafana.repo</li>
</ol>
<p>Paste:</p>
<p>[grafana]
name=grafana
baseurl=https://packages.grafana.com/oss/rpm <br>
repo_gpgcheck=1
enabled=1
gpgcheck=1
gpgkey=https://packages.grafana.com/gpg.key
sslverify=1</p>
<ol start="2">
<li>Verify using the DNF</li>
</ol>
<p>sudo dnf repolist</p>
<p>sudo dnf clean - verifies whether files are working</p>
<p>Should see:</p>
<p>repo id                                      repo name
appstream                               Rocky Linux 8 - AppStream
baseos                                      Rocky Linux 8 - BaseOS
extras                                       Rocky Linux 8 - Extras
grafana                                    grafana/spl</p>
<ol start="3">
<li>Check the grafana package on the official repository</li>
</ol>
<p>sudo dnf info grafana</p>
<p>Should see something similar üëÄ</p>
<p>Importing GPG key 0x24098CB6:
Userid     : &ldquo;Grafana &quot;
Fingerprint: 4E40 DDF6 D76E 284A 4A67 80E4 8C8C 34C5 2409 8CB6
From       : <a href="https://packages.grafana.com/gpg.key">https://packages.grafana.com/gpg.key</a>
Is this ok [y/N]: y</p>
<p>Should see üëÄ</p>
<p>Name         : grafana
Version      : 8.2.5
Release      : 1
rchitecture : x86_64
Size         : 64 M
Source       : grafana-8.2.5-1.src.rpm
Repository   : grafana
Summary      : Grafana
URL          : <a href="https://grafana.com">https://grafana.com</a>
License      : &ldquo;Apache 2.0&rdquo;
Description  : Grafana</p>
<ol start="4">
<li>Install Grafana
sudo dnf install grafana -y</li>
</ol>
<p>‚è≥ Takes a while&hellip;</p>
<ol start="5">
<li>Restart SystemD unit
sudo systemctl enable &ndash;now grafana-server</li>
</ol>
<p>Verify
sudo systemctl status grafana-server</p>
<p>5.5. Firewall (Security)
Firewall is Managed by files present in /etc/firedwalld</p>
<p>cd /etc/firewalld/
ls -l</p>
<p>cp /usr/lib/firewalld/services/ssh.xml  /etc/firewalld/services/example.xml</p>
<p>sudo  firewall-cmd &ndash;add-service=grafana &ndash;permanent</p>
<p>sudo firewall-cmd &ndash;add-port=3000/tcp &ndash;permanent
sudo firewall-cmd &ndash;reload</p>
<ol start="6">
<li>
<p>Create config file
sudo vim /etc/grafana/grafana.ini</p>
</li>
<li>
<p>Change the default value of:</p>
</li>
</ol>
<p>The option &lsquo;http_addr&rsquo; to &rsquo;localhost&rsquo;, the &lsquo;http_port&rsquo; to &lsquo;3000&rsquo;, and the &lsquo;domain&rsquo; option to your domain name as below. For this example, the domain name is &lsquo;grafana.example.io&rsquo;.</p>
<p>For non-standard port, be sure to uncomment ;
[server] üëç
http_port = 4000 üëç</p>
<p>The public facing domain name used to access grafana from a browser
domain = grafana.example.io</p>
<p>7.1 Turn off the nasty default report of analytics üë∫
[analytics]
reporting_enabled = false</p>
<p>7.2. Restart the grafana service to apply a new configuration.</p>
<p>sudo systemctl restart grafana-server</p>
<p>Reverse Proxy Setup</p>
<ol>
<li>Install NGINX</li>
</ol>
<p>sudo dnf install nginx -y</p>
<ol start="2">
<li>Create a new server block for grafana</li>
</ol>
<p>/etc/nginx/conf.d/grafana.conf</p>
<p>Required to proxy Grafana Live WebSocket connections</p>
<p>map $http_upgrade $connection_upgrade {
default upgrade;
&rsquo;&rsquo; close;
}
server {
listen      80;
server_name grafana.example.io;
rewrite     ^   https://$server_name$request_uri? permanent;
}
server {
listen      443 ssl http2;
server_name grafana.example.io;
root /usr/share/nginx/html;
index index.html index.htm;
ssl_certificate /etc/letsencrypt/live/grafana.example.io/fullchain.pem;
ssl_certificate_key /etc/letsencrypt/live/grafana.example.io/privkey.pem;
access_log /var/log/nginx/grafana-access.log;
error_log /var/log/nginx/grafana-error.log;
location / {
proxy_pass http://localhost:3000/;
}</p>
<p>Proxy Grafana Live WebSocket connections
location /api/live {
rewrite  ^/(.*)  /$1 break;
proxy_http_version 1.1;
proxy_set_header Upgrade $http_upgrade;
proxy_set_header Connection $connection_upgrade;
proxy_set_header Host $http_host;
proxy_pass http://localhost:3000/;
}
}</p>
<ol start="3">
<li>Next, verify the Nginx configuration</li>
</ol>
<p>sudo nginx -t</p>
<p>Should see üëÄ</p>
<p>nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful üëç</p>
<ol start="4">
<li>Start and enable the Nginx service
sudo systemctl enable &ndash;now nginx
sudo systemctl status nginx</li>
</ol>
<p>Install Prometheus (Saturday)</p>



<h2 id="rocky-prometheus-install">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#rocky-prometheus-install">Rocky Prometheus Install</a>
</h2>
<ol>
<li>Add New User and Directory &lsquo;prometheus&rsquo;</li>
</ol>
<p>create a new configuration directory and data directory for the Prometheus installation.</p>
<p>sudo adduser -M -r -s /sbin/nologin prometheus</p>
<ol start="2">
<li>create a new configuration
directory &lsquo;/etc/prometheus&rsquo; and the data directory &lsquo;/var/lib/prometheus&rsquo;</li>
</ol>
<p>(Only needed for running as service)</p>
<p>sudo mkdir /etc/prometheus
sudo mkdir /var/lib/prometheus</p>
<p>Note:
All Prometheus configuration at the &lsquo;/etc/prometheus&rsquo; directory, and all Prometheus data will automatically be saved to the directory &lsquo;/var/lib/prometheus&rsquo;.
Installing Prometheus on Rocky Linux</p>
<p>Install Prometheus monitoring system manually from the tarball or tar.gz file.</p>
<ol>
<li>Change the working directory
to &lsquo;/usr/src&rsquo; and download the Prometheus binary</li>
</ol>
<p>cd /usr/src
wget <a href="https://github.com/prometheus/prometheus/releases/download/v3.0.1/prometheus-3.0.1.linux-amd64.tar.gz">https://github.com/prometheus/prometheus/releases/download/v3.0.1/prometheus-3.0.1.linux-amd64.tar.gz</a></p>
<p>Extract</p>
<p>tar -xzf ***.tar.gz</p>
<p>cd into folder</p>
<p>Run bin:</p>
<pre><code>./bin üëç

If bin works, proceed
</code></pre>
<ol start="2">
<li>Copy all Prometheus configurations
to the directory &lsquo;/etc/prometheus&rsquo; and the binary file &lsquo;prometheus&rsquo; to the &lsquo;/usr/local/bin&rsquo; directory.</li>
</ol>
<ul>
<li>Move prometheus configuration &lsquo;prometheus.yml&rsquo; to the directory &lsquo;/etc/prometheus.</li>
</ul>
<p>sudo mv $PROM_SRC/prometheus.yml /etc/prometheus/</p>
<ul>
<li>Move the binary file &lsquo;prometheus&rsquo; and &lsquo;promtool&rsquo; to the directory &lsquo;/usr/local/bin/&rsquo;.</li>
</ul>
<p>sudo mv $PROM_SRC/prometheus /usr/local/bin/
sudo mv $PROM_SRC/promtool /usr/local/bin/</p>
<ul>
<li>Move Prometheus console templates and libraries to the &lsquo;/etc/prometheus&rsquo; directory.</li>
</ul>
<p>sudo mv -r $PROM_SRC/consoles /etc/prometheus
sudo mv -r $PROM_SRC/console_libraries /etc/prometheus</p>
<ol start="3">
<li>Edit Prometheus configuration &lsquo;/etc/prometheus/prometheus.yml&rsquo;</li>
</ol>
<p>vim /etc/prometheus/prometheus.yml</p>
<p>On the &lsquo;scrape_configs&rsquo; option, you may need to add monitoring jobs</p>
<p>The default configuration comes with the default monitoring job name &lsquo;prometheus&rsquo; and the target server &rsquo;localhost&rsquo; through the &lsquo;static_configs&rsquo; option.</p>
<p>Change the target from &rsquo;localhost:9090&rsquo; to the server IP address &lsquo;192.168.1.10:9090&rsquo; as below.</p>
<p>Note:
Scrape configuration containing exactly one endpoint to scrape:
Here it&rsquo;s Prometheus itself.
scrape_configs:
The job name is added as a label <code>job=&lt;job_name&gt;</code> to any timeseries scraped from this config.
job_name: &ldquo;prometheus&rdquo;</p>
<p>metrics_path defaults to &lsquo;/metrics&rsquo;
scheme defaults to &lsquo;http&rsquo;.</p>
<p>static_configs:
targets: [&ldquo;192.168.1.10:9090&rdquo;]</p>
<ol start="4">
<li>Change the configuration and data directories to the user &lsquo;promethues&rsquo;.</li>
</ol>
<p>sudo chown prometheus:prometheus /etc/prometheus
sudo chown prometheus:prometheus /var/lib/prometheus</p>
<p>Basic prometheus installation finished, Hopefully üëç .</p>
<p>Configure Prometheus</p>
<ol>
<li>Create a new systemd service
sudo vim /etc/systemd/system/prometheus.service</li>
</ol>
<p>Copy and paste the following configuration.</p>
<p>[Unit]
Description=Prometheus
Wants=network-online.target
After=network-online.target</p>
<p>[Service]
User=prometheus
Group=prometheus
Type=simple
ExecStart=/usr/local/bin/prometheus <br>
&ndash;config.file /etc/prometheus/prometheus.yml <br>
&ndash;storage.tsdb.path /var/lib/prometheus/ <br>
&ndash;web.console.templates=/etc/prometheus/consoles <br>
&ndash;web.console.libraries=/etc/prometheus/console_libraries</p>
<p>[Install]
WantedBy=multi-user.target</p>
<ol start="2">
<li>Reload the systemd manager to apply a new config.</li>
</ol>
<p>sudo systemctl daemon-reload</p>
<ol start="3">
<li>Start and enable the Prometheus service</li>
</ol>
<p>sudo systemctl enable &ndash;now prometheus
sudo systemctl status prometheus</p>
<p>Prometheus monitoring tool is now accessible on the TCP port &lsquo;9090.</p>
<ol start="4">
<li>Visit IP address with port &lsquo;9090&rsquo;</li>
</ol>
<p>http://192.168.1.10:9090/</p>
<p>And you will see the prometheus dashboard query below.</p>
<p>Prometheus query dashboard</p>
<hr>



<h2 id="reflection-questions">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#reflection-questions">Reflection Questions</a>
</h2>
<ol>
<li>
<p>What questions do you still have about this week?</p>
</li>
<li>
<p>How can you apply this now in your current role in IT? If you‚Äôre not in IT, how can you
look to put something like this into your resume or portfolio?</p>
</li>
</ol>
<hr>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#prolug-links-">ProLUG Links ‚õìÔ∏è</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG Book: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/operating-systems/" rel="tag">Operating Systems</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/baselining/" rel="tag">Baselining</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/benchmarking/" rel="tag">Benchmarking</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/pacu11/" rel="bookmark">ProLUG Admin Course Unit 11 üêß</a>
  </h1>
  
    <time datetime="2024-11-28T00:00:00Z">November 28, 2024</time>
  
</header>
      
        <h1 id="monitoring-systems">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#monitoring-systems">Monitoring Systems</a>
</h1>
<p>In this unit, we explore monitoring systems, which often consist of multiple interconnected components. At its core, monitoring involves carefully exposing system data and transmitting it to tools for analysis and alerting. From my experience with Prometheus and Grafana‚Äîtwo widely used and versatile solutions‚ÄîI‚Äôve seen how effective these tools can be for various scenarios. However, many other tools are also available. One of my key takeaways from the unit‚Äôs readings and labs was the importance of careful data exposure. Much like setting permissions in a Linux system, it‚Äôs crucial to determine what data can be accessed and who is allowed to see it in the reporting chain. System information, if mishandled, can easily become a double-edged sword.</p>
<hr>



<h2 id="discussion-post-1">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#discussion-post-1">Discussion Post 1</a>
</h2>



<h3 id="scenario">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#scenario">Scenario</a>
</h3>
<p>You‚Äôve heard the term ‚Äúloose coupling‚Äù thrown around the
office about a new monitoring solution coming down the pike. You find a good resource and
read the section on ‚ÄúPrefer Loose Coupling‚Äù <a href="https://sre.google/workbook/monitoring/">https://sre.google/workbook/monitoring/</a></p>



<h4 id="1-what-does-loose-coupling-mean-if-you-had-to-summarize-to-your-junior-team">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#1-what-does-loose-coupling-mean-if-you-had-to-summarize-to-your-junior-team">1. What does ‚Äúloose coupling‚Äù mean, if you had to summarize to your junior team</a>
</h4>
<p>members?</p>
<p>Loose coupling means the components of a system can operate independently, yet still work together when combined. This design allows individual components to be swapped or replaced with minimal disruption to the overall system. In contrast, a strongly coupled system binds its components so tightly that altering one would disrupt or even break the entire system‚Äôs functionality.</p>



<h4 id="2-what-is-the-advantage-given-for-why-you-might-want-to-implement-this-type-of-tooling-in-your-monitoring-do-you-agree-why-or-why-not">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#2-what-is-the-advantage-given-for-why-you-might-want-to-implement-this-type-of-tooling-in-your-monitoring-do-you-agree-why-or-why-not">2. What is the advantage given for why you might want to implement this type of tooling in your monitoring? Do you agree? Why or why not?</a>
</h4>
<p>The advantage of a loosely coupled monitoring system lies in its flexibility to evolve over time. Systems change, requirements shift, and new tools emerge, making adaptability essential. A design that allows components to be replaced or upgraded with minimal disruption is highly valuable‚Äînot only for an organization aiming to maintain efficiency but also for the administrators and engineers responsible for ensuring stability and resolving issues.</p>



<h4 id="3-they-mention-exposing-metrics-what-does-it-mean-to-expose-metrics-what-happens-to-metrics-that-are-exposed-but-never-collected">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#3-they-mention-exposing-metrics-what-does-it-mean-to-expose-metrics-what-happens-to-metrics-that-are-exposed-but-never-collected">3. They mention ‚Äúexposing metrics‚Äù what does it mean to expose metrics? What happens to metrics that are exposed but never collected?</a>
</h4>
<p>Exposing metrics involves making system information accessible for monitoring and analysis. However, this must be approached with caution, as exposing such information can introduce vulnerabilities. Simply exposing data without actively collecting or utilizing it needlessly increases security risks without providing any benefit.</p>
<hr>



<h2 id="discussion-post-2">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#discussion-post-2">Discussion Post 2</a>
</h2>



<h3 id="scenario-1">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#scenario-1">Scenario</a>
</h3>
<p>Your HPC team is asking for more information about how CPU 0
is behaving on a set of servers. Your team has node exporter writing data out to Prometheus
(Use this to simulate <a href="https://promlabs.com/promql-cheat-sheet/)">https://promlabs.com/promql-cheat-sheet/)</a>.</p>



<h4 id="1-can-you-see-the-usage-of-cpu0-and-what-is-the-query">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#1-can-you-see-the-usage-of-cpu0-and-what-is-the-query">1. Can you see the usage of CPU0 and what is the query?</a>
</h4>
<p>Yes one can use a query that focuses on the metrics provided by the Node Exporter. Specifically, filter for CPU 0 and its usage.</p>
<pre><code>100 - (avg by (instance) (irate(node_cpu_seconds_total{cpu=&quot;0&quot;, mode=&quot;idle&quot;}
</code></pre>



<h4 id="2-can-you-see-the-usage-of-cpu0-for-just-the-last-5-minutes-and-what-is-the-query">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#2-can-you-see-the-usage-of-cpu0-for-just-the-last-5-minutes-and-what-is-the-query">2. Can you see the usage of CPU0 for just the last 5 minutes and what is the query?</a>
</h4>
<p>Yes</p>
<pre><code>100 - (avg by (instance) (rate(node_cpu_seconds_total{cpu=&quot;0&quot;, mode=&quot;idle&quot;}[5m])) * 100)
</code></pre>



<h4 id="3-you-know-that-cpu0-is-excluded-from-slurm-can-you-exclude-that-and-only-pull-the-user-and-system-for-the-remaining-cpus-and-what-is-that-query">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#3-you-know-that-cpu0-is-excluded-from-slurm-can-you-exclude-that-and-only-pull-the-user-and-system-for-the-remaining-cpus-and-what-is-that-query">3. You know that CPU0 is excluded from Slurm, can you exclude that and only pull the user and system for the remaining CPUs and what is that query?</a>
</h4>
<p>Yes</p>
<pre><code>sum by (instance) (rate(node_cpu_seconds_total{cpu!=&quot;0&quot;, mode=~&quot;user|system&quot;}[5m])) * 100
</code></pre>
<hr>



<h2 id="digging-deeper">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#digging-deeper">Digging Deeper</a>
</h2>



<h4 id="1-read-the-rest-of-the-chapter-httpssregoogleworkbookmonitoring-and-note-anything-else-of-interest-when-it-comes-to-monitoring-and-dashboarding">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#1-read-the-rest-of-the-chapter-httpssregoogleworkbookmonitoring-and-note-anything-else-of-interest-when-it-comes-to-monitoring-and-dashboarding">1. Read the rest of the chapter <a href="https://sre.google/workbook/monitoring/">https://sre.google/workbook/monitoring/</a> and note anything else of interest when it comes to monitoring and dashboarding.</a>
</h4>



<h4 id="2-look-up-the-prolug-prometheus-certified-associate-prep-2024-in-resources---presentations-in-our-prolug-discord-study-that-for-a-deep-dive-into-prometheus">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#2-look-up-the-prolug-prometheus-certified-associate-prep-2024-in-resources---presentations-in-our-prolug-discord-study-that-for-a-deep-dive-into-prometheus">2. Look up the ‚ÄúProLUG Prometheus Certified Associate Prep 2024‚Äù in Resources -&gt; Presentations in our ProLUG Discord. Study that for a deep dive into Prometheus.</a>
</h4>



<h4 id="3-complete-the-project-section-of-monitoring-deep-dive-project-guide-from-the-prolug-projects-section-of-the-discord-we-have-a-youtube-video-on-that-project-as-well-httpswwwyoutubecomwatchv54vgghr99qg">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#3-complete-the-project-section-of-monitoring-deep-dive-project-guide-from-the-prolug-projects-section-of-the-discord-we-have-a-youtube-video-on-that-project-as-well-httpswwwyoutubecomwatchv54vgghr99qg">3. Complete the project section of ‚ÄúMonitoring Deep Dive Project Guide‚Äù from the prolug-projects section of the Discord. We have a Youtube video on that project as well. <a href="https://www.youtube.com/watch?v=54VgGHr99Qg">https://www.youtube.com/watch?v=54VgGHr99Qg</a></a>
</h4>



<h2 id="labs">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#labs">Labs</a>
</h2>
<p><a href="https://killercoda.com/het-tanis/course/Linux-Labs/102-monitoring-linux-logs">https://killercoda.com/het-tanis/course/Linux-Labs/102-monitoring-linux-logs</a></p>
<p><a href="https://killercoda.com/het-tanis/course/Linux-Labs/103-monitoring-linux-telemetry">https://killercoda.com/het-tanis/course/Linux-Labs/103-monitoring-linux-telemetry</a></p>
<p><a href="https://killercoda.com/het-tanis/course/Linux-Labs/104-monitoring-linux-Influx-Grafana">https://killercoda.com/het-tanis/course/Linux-Labs/104-monitoring-linux-Influx-Grafana</a></p>
<ol start="2">
<li>While completing each lab think about the following:</li>
</ol>
<p>a. How does it tie into the diagram below?</p>
<p>b. What could you improve, or what would you change based on your previous administration
experience.</p>
<hr>



<h3 id="1-install-grafana">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#1-install-grafana">1. Install Grafana</a>
</h3>



<h4 id="11-create-a-new-repository-configuration">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#11-create-a-new-repository-configuration">1.1 Create a New Repository Configuration</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo vim /etc/yum.repos.d/grafana.repo</span></span></code></pre></div>
<p>Paste the following:</p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="k">[grafana]</span>
</span></span><span class="line"><span class="cl"><span class="na">name</span><span class="o">=</span><span class="s">grafana</span>
</span></span><span class="line"><span class="cl"><span class="na">baseurl</span><span class="o">=</span><span class="s">https://packages.grafana.com/oss/rpm</span>
</span></span><span class="line"><span class="cl"><span class="na">repo_gpgcheck</span><span class="o">=</span><span class="s">1</span>
</span></span><span class="line"><span class="cl"><span class="na">enabled</span><span class="o">=</span><span class="s">1</span>
</span></span><span class="line"><span class="cl"><span class="na">gpgcheck</span><span class="o">=</span><span class="s">1</span>
</span></span><span class="line"><span class="cl"><span class="na">gpgkey</span><span class="o">=</span><span class="s">https://packages.grafana.com/gpg.key</span>
</span></span><span class="line"><span class="cl"><span class="na">sslverify</span><span class="o">=</span><span class="s">1</span></span></span></code></pre></div>



<h4 id="12-verify-the-repository">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#12-verify-the-repository">1.2 Verify the Repository</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo dnf repolist
</span></span><span class="line"><span class="cl">sudo dnf clean all</span></span></code></pre></div>
<p>Expected Output:</p>

  

<pre tabindex="0"><code>repo id                                      repo name
appstream                                    Rocky Linux 8 - AppStream
baseos                                       Rocky Linux 8 - BaseOS
extras                                       Rocky Linux 8 - Extras
grafana                                      grafana/spl</code></pre>



<h4 id="13-check-the-grafana-package">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#13-check-the-grafana-package">1.3 Check the Grafana Package</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo dnf info grafana</span></span></code></pre></div>
<p>Example Output:</p>

  

<pre tabindex="0"><code>Importing GPG key 0x24098CB6:
Userid     : &#34;Grafana&#34;
Fingerprint: 4E40 DDF6 D76E 284A 4A67 80E4 8C8C 34C5 2409 8CB6
From       : https://packages.grafana.com/gpg.key
Is this ok [y/N]: y</code></pre>



<h4 id="14-install-grafana">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#14-install-grafana">1.4 Install Grafana</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo dnf install grafana -y</span></span></code></pre></div>



<h4 id="15-enable-and-start-grafana-service">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#15-enable-and-start-grafana-service">1.5 Enable and Start Grafana Service</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo systemctl <span class="nb">enable</span> --now grafana-server
</span></span><span class="line"><span class="cl">sudo systemctl status grafana-server</span></span></code></pre></div>



<h4 id="16-configure-firewall">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#16-configure-firewall">1.6 Configure Firewall</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo firewall-cmd --add-service<span class="o">=</span>grafana --permanent
</span></span><span class="line"><span class="cl">sudo firewall-cmd --add-port<span class="o">=</span>3000/tcp --permanent
</span></span><span class="line"><span class="cl">sudo firewall-cmd --reload</span></span></code></pre></div>



<h4 id="17-create-and-edit-configuration-file">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#17-create-and-edit-configuration-file">1.7 Create and Edit Configuration File</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo vim /etc/grafana/grafana.ini</span></span></code></pre></div>
<p>Update the following settings:</p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="k">[server]</span>
</span></span><span class="line"><span class="cl"><span class="na">http_port</span> <span class="o">=</span> <span class="s">4000</span>
</span></span><span class="line"><span class="cl"><span class="na">domain</span> <span class="o">=</span> <span class="s">grafana.example.io</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">[analytics]</span>
</span></span><span class="line"><span class="cl"><span class="na">reporting_enabled</span> <span class="o">=</span> <span class="s">false</span></span></span></code></pre></div>
<p>Restart the service:</p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo systemctl restart grafana-server</span></span></code></pre></div>
<hr>



<h3 id="2-reverse-proxy-setup-with-nginx">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#2-reverse-proxy-setup-with-nginx">2. Reverse Proxy Setup with NGINX</a>
</h3>



<h4 id="21-install-nginx">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#21-install-nginx">2.1 Install NGINX</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo dnf install nginx -y</span></span></code></pre></div>



<h4 id="22-create-a-server-block-for-grafana">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#22-create-a-server-block-for-grafana">2.2 Create a Server Block for Grafana</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo vim /etc/nginx/conf.d/grafana.conf</span></span></code></pre></div>
<p>Paste the configuration:</p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">map</span> <span class="nv">$http_upgrade</span> <span class="nv">$connection_upgrade</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kn">default</span> <span class="s">upgrade</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kn">&#39;&#39;</span> <span class="s">close</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kn">server_name</span> <span class="s">grafana.example.io</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kn">rewrite</span> <span class="s">^</span> <span class="s">https://</span><span class="nv">$server_name$request_uri?</span> <span class="s">permanent</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kn">listen</span> <span class="mi">443</span> <span class="s">ssl</span> <span class="s">http2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kn">server_name</span> <span class="s">grafana.example.io</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kn">ssl_certificate</span> <span class="s">/etc/letsencrypt/live/grafana.example.io/fullchain.pem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kn">ssl_certificate_key</span> <span class="s">/etc/letsencrypt/live/grafana.example.io/privkey.pem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_pass</span> <span class="s">http://localhost:3000/</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kn">location</span> <span class="s">/api/live</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_http_version</span> <span class="mi">1</span><span class="s">.1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_set_header</span> <span class="s">Upgrade</span> <span class="nv">$http_upgrade</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_set_header</span> <span class="s">Connection</span> <span class="nv">$connection_upgrade</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_pass</span> <span class="s">http://localhost:3000/</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>



<h4 id="23-verify-nginx-configuration">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#23-verify-nginx-configuration">2.3 Verify NGINX Configuration</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo nginx -t</span></span></code></pre></div>
<p>Expected Output:</p>

  

<pre tabindex="0"><code>nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful</code></pre>



<h4 id="24-start-and-enable-nginx">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#24-start-and-enable-nginx">2.4 Start and Enable NGINX</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo systemctl <span class="nb">enable</span> --now nginx
</span></span><span class="line"><span class="cl">sudo systemctl status nginx</span></span></code></pre></div>
<hr>



<h3 id="3-install-prometheus">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#3-install-prometheus">3. Install Prometheus</a>
</h3>



<h4 id="31-add-a-new-user-and-directories">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#31-add-a-new-user-and-directories">3.1 Add a New User and Directories</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo adduser -M -r -s /sbin/nologin prometheus
</span></span><span class="line"><span class="cl">sudo mkdir /etc/prometheus
</span></span><span class="line"><span class="cl">sudo mkdir /var/lib/prometheus</span></span></code></pre></div>



<h4 id="32-download-and-extract-prometheus">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#32-download-and-extract-prometheus">3.2 Download and Extract Prometheus</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> /usr/src
</span></span><span class="line"><span class="cl">wget https://github.com/prometheus/prometheus/releases/download/v3.0.1/prometheus-3.0.1.linux-amd64.tar.gz
</span></span><span class="line"><span class="cl">tar -xzf prometheus-3.0.1.linux-amd64.tar.gz
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> prometheus-3.0.1.linux-amd64</span></span></code></pre></div>



<h4 id="33-move-files-to-appropriate-locations">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#33-move-files-to-appropriate-locations">3.3 Move Files to Appropriate Locations</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo mv prometheus /usr/local/bin/
</span></span><span class="line"><span class="cl">sudo mv promtool /usr/local/bin/
</span></span><span class="line"><span class="cl">sudo mv consoles /etc/prometheus
</span></span><span class="line"><span class="cl">sudo mv console_libraries /etc/prometheus
</span></span><span class="line"><span class="cl">sudo mv prometheus.yml /etc/prometheus/</span></span></code></pre></div>



<h4 id="34-change-ownership">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#34-change-ownership">3.4 Change Ownership</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo chown -R prometheus:prometheus /etc/prometheus /var/lib/prometheus</span></span></code></pre></div>



<h4 id="35-configure-prometheus">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#35-configure-prometheus">3.5 Configure Prometheus</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo vim /etc/prometheus/prometheus.yml</span></span></code></pre></div>
<p>Example scrape configuration:</p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">scrape_configs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">job_name</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;prometheus&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">static_configs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">targets</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&#34;192.168.1.10:9090&#34;</span><span class="p">]</span></span></span></code></pre></div>



<h4 id="36-create-a-systemd-service">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#36-create-a-systemd-service">3.6 Create a Systemd Service</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo vim /etc/systemd/system/prometheus.service</span></span></code></pre></div>
<p>Paste the following:</p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="k">[Unit]</span>
</span></span><span class="line"><span class="cl"><span class="na">Description</span><span class="o">=</span><span class="s">Prometheus</span>
</span></span><span class="line"><span class="cl"><span class="na">Wants</span><span class="o">=</span><span class="s">network-online.target</span>
</span></span><span class="line"><span class="cl"><span class="na">After</span><span class="o">=</span><span class="s">network-online.target</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">[Service]</span>
</span></span><span class="line"><span class="cl"><span class="na">User</span><span class="o">=</span><span class="s">prometheus</span>
</span></span><span class="line"><span class="cl"><span class="na">Group</span><span class="o">=</span><span class="s">prometheus</span>
</span></span><span class="line"><span class="cl"><span class="na">Type</span><span class="o">=</span><span class="s">simple</span>
</span></span><span class="line"><span class="cl"><span class="na">ExecStart</span><span class="o">=</span><span class="s">/usr/local/bin/prometheus     --config.file /etc/prometheus/prometheus.yml     --storage.tsdb.path /var/lib/prometheus/     --web.console.templates=/etc/prometheus/consoles     --web.console.libraries=/etc/prometheus/console_libraries</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">[Install]</span>
</span></span><span class="line"><span class="cl"><span class="na">WantedBy</span><span class="o">=</span><span class="s">multi-user.target</span></span></span></code></pre></div>



<h4 id="37-start-prometheus-service">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#37-start-prometheus-service">3.7 Start Prometheus Service</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo systemctl daemon-reload
</span></span><span class="line"><span class="cl">sudo systemctl <span class="nb">enable</span> --now prometheus
</span></span><span class="line"><span class="cl">sudo systemctl status prometheus</span></span></code></pre></div>



<h4 id="38-access-prometheus">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#38-access-prometheus">3.8 Access Prometheus</a>
</h4>
<p>Visit <code>http://192.168.1.10:9090</code> in your browser to view the Prometheus dashboard.</p>
<hr>



<h2 id="reflection-questions">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#reflection-questions">Reflection Questions</a>
</h2>
<ol>
<li>
<p>What questions do you still have about this week?</p>
</li>
<li>
<p>How can you apply this now in your current role in IT? If you‚Äôre not in IT, how can you
look to put something like this into your resume or portfolio?</p>
</li>
</ol>
<hr>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#prolug-links-">ProLUG Links ‚õìÔ∏è</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG Book: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/operating-systems/" rel="tag">Operating Systems</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/monitoring/" rel="tag">Monitoring</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
  

  
  <nav>
    
      <a class="Pagination u-clickable" href="/techblog/page/2/" rel="prev">¬´ Previous</a>
    
    
  </nav>




      </div>
    </div>
  </main>
  
</body>

</html>
