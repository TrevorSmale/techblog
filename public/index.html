<!DOCTYPE html>
<html lang="en-us">

<head><script src="/techblog/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=techblog/livereload" data-no-instant defer></script>
  

  
  


  <meta charset="utf-8">



<meta name="viewport" content="width=device-width, initial-scale=1.0">


  
    
  


<meta name="color-scheme" content="light dark">







<meta name="generator" content="Hugo 0.147.3">
  <title>Tech Blog</title>
  <link rel="canonical" href="http://localhost:1313/techblog/">




  <link rel="alternate" href="/techblog/feed.xml" type="application/rss+xml">

  








  

  
    
    
    
      
      
    
    
    
  
    
    
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  


  
    <link rel="stylesheet" href="/techblog/css/base.css">

    <link rel="stylesheet" href="/techblog/css/syntax.css">



</head>

<body>
  <nav class="u-background">
  <div class="u-wrapper">
    <ul class="Banner">
      <li class="Banner-item Banner-item--title">
        <a class="Banner-link u-clickable" href="/techblog/">Tech Blog</a>
      </li>
      
        
        
        <li class="Banner-item">
          <a class="Banner-link u-clickable" href="/techblog/about/">About</a>
        </li>
      
        
        
        <li class="Banner-item">
          <a class="Banner-link u-clickable" href="/techblog/post/">Posts</a>
        </li>
      
        
        
        <li class="Banner-item">
          <a class="Banner-link u-clickable" href="/techblog/tags/">Tags</a>
        </li>
      
        
        
        <li class="Banner-item">
          <a class="Banner-link u-clickable" href="/techblog/categories/">Categories</a>
        </li>
      
        
        
          
        
        <li class="Banner-item">
          <a class="Banner-link u-clickable" href="/techblog/feed.xml">RSS</a>
        </li>
      
    </ul>
  </div>
</nav>

  <main>
    <div class="u-wrapper">
      <div class="u-padding">
        

  
    <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/" rel="bookmark">Tech Blog</a>
  </h1>
  
    <time datetime="2025-05-11T00:00:00Z">May 11, 2025</time>
  
</header>
  

  

  
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/psc7/" rel="bookmark">Monitoring &amp; Parsing Logs</a>
  </h1>
  
    <time datetime="2025-05-11T00:00:00Z">May 11, 2025</time>
  
</header>
      
        <h2 id="intro-">
  <a class="Heading-link u-clickable" href="/techblog/post/psc7/#intro-">Intro 👋</a>
</h2>
<p>This is the 2 sentence intro Footnote<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<hr>



<h2 id="worksheet">
  <a class="Heading-link u-clickable" href="/techblog/post/psc7/#worksheet">Worksheet</a>
</h2>



<h3 id="discussion-post-1">
  <a class="Heading-link u-clickable" href="/techblog/post/psc7/#discussion-post-1"><code>Discussion Post 1</code></a>
</h3>
<p>Intro to the scenario</p>
<p>Read about telemetry, logs, and traces<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup><sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup>.</p>
<p><code>Question</code></p>
<ul>
<li>How does the usage guidance of that blog align with your understanding of these three items?</li>
</ul>
<p><code>Answer</code></p>
<p>Though the concepts involved in telemetry are really quite simple, they took me some time to internalize and fully understand.
I can&rsquo;t say it paralleled my own understanding as my understanding was very limited. Prior to the lectures, if I were to hear the word telemetry, I would think of non GPS tracking techniques or some sort of secret tracking by Palantir.</p>
<p>My simplified outline of these 3 things:</p>
<ul>
<li>A metric represents a point in time measurement of a particular source</li>
<li>Logs are discrete and event triggered occurrences.</li>
<li>Traces follow a program’s flow and data progression.</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>What other useful blogs or AI write-ups were you able to find?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>Yes Grafana has a good writeup on the subject.</li>
<li><a href="https://grafana.com/docs/tempo/latest/introduction/telemetry/">https://grafana.com/docs/tempo/latest/introduction/telemetry/</a></li>
</ul>
<p><code>Question</code></p>
<ul>
<li>What is the usefulness of this in securing your system?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>Securing a System is useful in many ways.</li>
<li>Prevents unwanted access.</li>
<li>Potentially mitigates Data Exfiltration.</li>
<li>Potentially mitigates unwanted Data Infiltration.</li>
<li>Prevents miss-use by users.</li>
<li>Can simply mitigate the overload of available resources.</li>
<li>Not only does the attack surface shrink when a system is properly secured, but the monitoring tasks reduce.</li>
<li>Secure systems are more predictable systems.</li>
</ul>



<h3 id="discussion-post-2">
  <a class="Heading-link u-clickable" href="/techblog/post/psc7/#discussion-post-2"><code>Discussion Post 2</code></a>
</h3>
<p>Intro to the scenario</p>
<p>When we think of our systems, sometimes an airgapped system is simple to think about because everything is closed in. The idea of alerting or reporting is the opposite. We are trying to get the correct, timely, and important information out of the system when and where it is needed.</p>
<p>Read the summary at the top<sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup>.</p>
<p><code>Question</code></p>
<ul>
<li>What is the litmus test for a page? (Sending something out of the system?)</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>The page must be pertaining to an imminent, actionable situation that must be addressed quickly.</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>What is over-monitoring v. under-monitoring. Do you agree with the assessment of the paper? Why or why not, in your experience?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>
<p>Over-monitoring can be compared to hyper-vigilance. Over time it works against you as fatigue or indifference sets in. Furthermore over-monitoring includes the transporting, receiving and dissemination of too much information, causing cognitive overload, leading to poor decision making. Furthermore, the additional information being broadcast leaves a system more susceptible/vulnerable from a security stand-point.</p>
</li>
<li>
<p>Under monitoring would be lack of contextual reporting, responsiveness and diligence needed in order to keep a system from going down.</p>
</li>
<li>
<p>From reading this article, it seems to me that one must turn monitoring into a spectrum of detail. Hypercritical indicators like uptime, load, capacity should be reported daily with a pre-determined baseline. Estimations can be made from this allowing for prediction. While major changes &ndash;those outside the predicted norm, could trigger alerts. Paging should be reserved for the utmost critical issues.</p>
</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>What is cause-based v. symptom-based and where do they belong? Do you agree?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>
<p>Cause based is the analysis/investigation of the root cause of a certain outcome. In the context of systems operating and security, it is finding the vulnerability, infiltration/exfilration point or cause of failure like hitting memory/cpu/disc space limitations.</p>
</li>
<li>
<p>Symptom based analysis would be to observe the effects of an unknown origins ie. systems going down, data loss etc&hellip;
Bringing the system back up, or restoring data from backups does nothing to address the root cause, it only remediates the effects.</p>
</li>
</ul>
<hr>



<h3 id="definitions">
  <a class="Heading-link u-clickable" href="/techblog/post/psc7/#definitions">Definitions</a>
</h3>
<ul>
<li>
<p>Def 1: Explainer</p>
</li>
<li>
<p>Def 2: Explainer</p>
</li>
<li>
<p>Def 3: Explainer</p>
</li>
<li>
<p>Telemetry</p>
</li>
<li>
<p>Tracing
Span
Label</p>
</li>
<li>
<p>Time Series Database (TSDB)</p>
</li>
<li>
<p>Queue</p>
</li>
<li>
<p>Upper control limit / Lower control limit (UCL/LCL)</p>
</li>
<li>
<p>Aggregation</p>
</li>
<li>
<p>SLO, SLA, SLI</p>
</li>
<li>
<p>Push v. Pull of data</p>
</li>
<li>
<p>Alerting rules</p>
</li>
<li>
<p>Alertmanager</p>
<p>Alert template
Routing
Throttling</p>
</li>
<li>
<p>Monitoring for defensive operations</p>
<p>SIEM
Intrusion Detection Systems - IDS
Intrusion Prevention Systems - IPS</p>
</li>
</ul>



<h2 id="lab">
  <a class="Heading-link u-clickable" href="/techblog/post/psc7/#lab">Lab</a>
</h2>
<p>Install fail2ban</p>
<p>apt install -y fail2ban</p>
<p>Verify the version number of fail2ban client</p>
<p>fail2ban-client &ndash;version</p>
<p>Configure fail2ban for sshd jail.</p>
<p>vi /etc/fail2ban/jail.conf</p>
<p>#Uncomment [sshd] and enter the following lines under [sshd] section</p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">     <span class="o">[</span>sshd<span class="o">]</span>
</span></span><span class="line"><span class="cl">     <span class="nv">enabled</span> <span class="o">=</span> <span class="nb">true</span>
</span></span><span class="line"><span class="cl">     <span class="nv">maxretry</span> <span class="o">=</span>  <span class="m">5</span>
</span></span><span class="line"><span class="cl">     <span class="nv">findtime</span> <span class="o">=</span> <span class="m">10</span>
</span></span><span class="line"><span class="cl">     <span class="nv">bantime</span> <span class="o">=</span> 4h</span></span></code></pre></div>
<p>#Check the rest of the file and ensure that there is no [sshd] config later in the file, delete or comment it out.</p>
<p>Review the configurations for apache and nginx to see what other types of jails are available in fail2ban.</p>
<p>Restart the service and verify that it is running properly.</p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">systemctl restart fail2ban</span></span></code></pre></div>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">systemctl status fail2ban --no-pager</span></span></code></pre></div>
<p>Test the fail2ban is properly working by trying to connect back to the controlplane server from node01 as a fake account.</p>
<p>ssh node01</p>
<p>Run a for loop and keep trying to connect back to controlplane. You will have to hit enter on each password line until lockout occurs.</p>
<p>for i in {1..6}; do ssh invaliduser@controlplane; done</p>
<p>You will have to hit &lsquo;ctrl + c&rsquo; to exit when it stops trying to connect to the far end.</p>
<p>Exit back to controlplane and check the logs and fail status.</p>
<p>Check the log of fail2ban</p>
<p>tail -20 /var/log/fail2ban.log</p>
<p>Verify that you see the banned IP.</p>
<p>fail2ban-client get sshd banned</p>
<p>Do you see the IP address that you expect? Why do you think that is?</p>
<p>Unban the ip address from the logs. You must manually enter the correct IP address below from the upper output</p>
<p>fail2ban-client set sshd unbanip <!-- raw HTML omitted --></p>
<p>Test that the unban has happened correctly.</p>
<p>ssh node01</p>
<p>Try to connect back to controlplane with a correct user, the root user.</p>
<p>ssh controlplane</p>
<p>Did you connect back correctly? If so, move on to the next part of the lab.</p>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/psc7/#prolug-links-">ProLUG Links ⛓️</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG PSC Repo: <a href="https://github.com/ProfessionalLinuxUsersGroup/psc">https://github.com/ProfessionalLinuxUsersGroup/psc</a>
ProLUG PSC Book: <a href="https://professionallinuxusersgroup.github.io/psc/">https://professionallinuxusersgroup.github.io/psc/</a>
ProLUG Book of Labs: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
<hr>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Example Title <a href="Link">Format</a> Source, 2025.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>Example Title <a href="https://microsoft.github.io/code-with-engineering-playbook/observability/log-vs-metric-vs-trace/">Format</a> Source, 2025.&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p>Example Title <a href="https://grafana.com/docs/tempo/latest/introduction/telemetry/">Format</a> Source, 2025.&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:4">
<p>Example Title <a href="https://docs.google.com/document/d/199PqyG3UsyXlwieHaqbGiWVa8eMWi8zzAn0YfcApr8Q/edit?tab=t.0">Format</a> Source, 2025.&#160;<a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/capstoneproject/" rel="tag">CapstoneProject</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/psc6/" rel="bookmark">Template for ProLUG Reports</a>
  </h1>
  
    <time datetime="2025-05-04T00:00:00Z">May 4, 2025</time>
  
</header>
      
        <h2 id="intro-">
  <a class="Heading-link u-clickable" href="/techblog/post/psc6/#intro-">Intro 👋</a>
</h2>
<p>This is the 2 sentence intro Footnote<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<hr>



<h2 id="worksheet">
  <a class="Heading-link u-clickable" href="/techblog/post/psc6/#worksheet">Worksheet</a>
</h2>



<h3 id="discussion-post-1">
  <a class="Heading-link u-clickable" href="/techblog/post/psc6/#discussion-post-1"><code>Discussion Post 1</code></a>
</h3>
<p>Review chapter 15 of the SRE book:<br>
<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup></p>
<p>There are 14 references at the end of the chapter. Follow them for more information. One of them by Julia Evans <sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup>should be reviewed for question “c”.</p>
<p><code>Question</code></p>
<ul>
<li>What are some concepts that are new to you?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>
<p>Core dumps, Memory dumps, or Stack traces.</p>
<p>I have heard the terms before and understand the concepts to a basic degree. I decided to do a bit of further reading to understand each of the dumps and traces so here is a gist.</p>
<ul>
<li><strong>A core dump</strong> is a snapshot of the processes state at the time of downing.</li>
<li><strong>A Memory dump</strong> is a snapshot of the Random Access Memory (RAM) at the time of downing.</li>
<li><strong>A Stack trace</strong> is the process of tracing function calls through the stack from end (error) to beginning (Call). The way I personally conceptualize this is through comparison to root cause analysis, something I am familiar with.</li>
</ul>
</li>
<li>
<p><strong>Host intrusion detection systems (HIDS)</strong> or <strong>Host Agents</strong></p>
</li>
</ul>
<p>A few ideas from the book<sup id="fnref1:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>
&ldquo;Modern (sometimes referred to as “next-gen”) host agents use innovative techniques aimed at detecting increasingly sophisticated threats. Some agents blend system and user behavior modeling, machine learning, and threat intelligence to identify previously unknown attacks.&rdquo;</p>
<p>&ldquo;Host agents always impact performance, and are often a source of friction between end users and IT teams. Generally speaking, the more data an agent can gather, the greater its performance impact may be because of deeper platform integration and more on-host processing.&rdquo;</p>
<p><code>Question</code></p>
<ul>
<li>There are 5 conclusions drawn, do you agree with them? Would you add or remove anything from the list?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>To begin with, here are the conclusions drawn:</li>
</ul>
<ol>
<li>&ldquo;Debugging is an essential activity whereby systematic techniques—not guesswork—achieve results.&rdquo;</li>
<li>&ldquo;Security investigations are different from debugging. They involve different people, tactics, and risks.&rdquo;</li>
<li>&ldquo;Centralized logging is useful for debugging purposes, critical for investigations, and often useful for business analysis.&rdquo;</li>
<li>&ldquo;Iterate by looking at some recent investigations and asking yourself what information would have helped you debug an issue or investigate a concern.&rdquo;</li>
<li>&ldquo;Design for safety. You need logs. Debuggers need access to systems and stored data. However, as the amount of data you store increases, both logs and debugging endpoints can become targets for adversaries.&rdquo;</li>
</ol>
<p>Firstly, I would like to preface this answer with a disclaimer. I lack the competency to critisize and/or disect O&rsquo;Relly&rsquo;s book. With that out of the way. I am going to target the first point.</p>
<p>My only criticism here is that the point is very broad in scope as compared to the more granular and topics specific to this book/chapter.</p>
<p><code>Question</code></p>
<ul>
<li>In Julia Evan’s debugging blog, which shows that debugging is just another form of troubleshooting, what useful things do you learn about the relationship between these topics?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>
<p>Both debugging and troubleshooting involve:</p>
</li>
<li>
<p><strong>Proceduralization</strong>: If a clear procedure doesn’t exist, begin documenting and formalizing the process into a repeatable method.</p>
</li>
<li>
<p><strong>Humility</strong>: Acknowledge that you might be the cause of the problem. This is especially important in development.</p>
</li>
<li>
<p><strong>Methodical Experimentation</strong>: Form a hypothesis, then devise a controlled method to test it—use unit tests in development, or targeted scripts and commands when debugging.</p>
</li>
<li>
<p><strong>One Step at a Time</strong>: Tackle problems incrementally—“eat the elephant one bite at a time.”</p>
</li>
<li>
<p><strong>Strong Foundations</strong>: Write debuggable code and build robust systems. A good foundation makes issues easier to isolate.</p>
</li>
<li>
<p><strong>More Is Better</strong>: Verbose error messages provide more clues—enable detailed output when possible.</p>
</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>Are there any techniques you already do that this helps solidify for you?</li>
</ul>
<p><code>Answer</code></p>
<p>Yes, I try to create excellent documentation with respect for my future self or others I may need to share it with. This involves numbered procedural steps with inputs and outputs, if that is the nature of the work. Otherwise, I write in a general manner that is legible to others.</p>



<h3 id="discussion-post-2">
  <a class="Heading-link u-clickable" href="/techblog/post/psc6/#discussion-post-2"><code>Discussion Post 2</code></a>
</h3>
<p>Read Monitoring Distributed Systems <sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup></p>
<p><code>Question</code></p>
<ul>
<li>What interesting or new things do you learn in this reading? What may you want to know more about?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>Interesting Concept:</li>
</ul>
<p>One of the general themes I gathered from this article is <em>low cognitive overhead</em>. It’s a concept I’m very familiar with from accessibility-focused design. Too much information overwhelms our ability to observe, absorb, and decide effectively.</p>
<p>For example, public signage must be simple, legible, and self-descriptive through clear graphic composition—guiding the eye where to look first and in which direction to proceed. This closely parallels the need for simplicity in monitoring and alerting systems. When such systems become overly complex, they can lead to misinterpretation, miscommunication, and fatigue due to information overload.</p>
<p>Information must be derived and presented in a way that is easily consumable, where errors are unmistakable—without exhausting the viewer.</p>
<p>New concepts</p>
<ul>
<li>White box monitoring systems vs. Black box monitoring systems.</li>
<li>Conducting ad hoc retrospective analysis (ie. Debugging)</li>
<li>(4 Golden signals) Latency, Traffic, Saturation, Errors
<ul>
<li>This one in particular relates strongly to the <code>USE</code> acronym I had recently picked up from Het, <code>Utilization, Saturation, Errors</code></li>
</ul>
</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>What are the “4 golden signals”?</li>
</ul>
<p><code>Answer</code></p>
<ol>
<li>Latency</li>
<li>Traffic</li>
<li>Saturation</li>
<li>Errors</li>
</ol>
<p><code>Question</code></p>
<ul>
<li>After reading these, why is immutability so important to logging?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li><strong>Tamper Resistance</strong>: Immutable logs cannot be altered or deleted without detection, which helps prevent covering up malicious activity or mistakes.</li>
<li><strong>Auditability</strong>: Logs serve as historical records. If they can be changed, audits and investigations lose their value.</li>
<li><strong>Debugging Integrity</strong>: Developers and operators rely on logs to trace errors. Mutable logs can introduce false positives or hide root causes.</li>
<li><strong>Regulatory Compliance</strong>: Standards like HIPAA, PCI-DSS, and GDPR often require tamper-evident or immutable log storage.</li>
<li><strong>Forensic Value</strong>: In incident response, immutable logs serve as trustworthy evidence for timelines and breach analysis.</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>What do you think the other required items are for logging to be effective?</li>
</ul>
<p><code>Answer</code></p>
<p>In order to be effective, log must be:</p>
<ul>
<li><strong>Trustworthy</strong>: Logs should be <strong>immutable</strong>.</li>
<li><strong>Time-stamped</strong>: Every entry needs a synced timestamp.</li>
<li><strong>Clear levels</strong>: Use <code>INFO</code>, <code>ERROR</code>, <code>DEBUG</code>, etc., to show importance.</li>
<li><strong>Structured</strong>: Format logs so machines and humans can read them.</li>
<li><strong>Context-rich</strong>: Include request IDs, user info, IPs—anything that helps trace the story.</li>
<li><strong>Centralized</strong>: Gather logs in one place for easy searching and alerting.</li>
<li><strong>Searchable</strong>: You should be able to find issues fast with good queries.</li>
<li><strong>Safe</strong>: Control who can see logs—some contain sensitive info.</li>
<li><strong>Durable</strong>: Logs shouldn’t disappear in a crash—use backups and redundancy.</li>
<li><strong>Noise-controlled</strong>: Avoid flooding—rotate logs and cap log rates.</li>
</ul>
<hr>



<h3 id="definitions">
  <a class="Heading-link u-clickable" href="/techblog/post/psc6/#definitions">Definitions</a>
</h3>
<ul>
<li>Def 1: Explainer</li>
<li>Def 2: Explainer</li>
<li>Def 3: Explainer</li>
</ul>
<p>Types of logs</p>
<pre><code>Application
Host
Network
DB
</code></pre>
<p>Immutable</p>
<p>Structure of Logs</p>
<pre><code>RFC 3164 BSD Syslog
RFC 5424 IETF Syslog
Systemd Journal
</code></pre>
<p>Log rotation</p>
<p>Rsyslog</p>
<p>Log aggregation</p>
<pre><code>ELK
Splunk
Graylog
Loki
</code></pre>
<p>SIEM</p>



<h2 id="lab-">
  <a class="Heading-link u-clickable" href="/techblog/post/psc6/#lab-">Lab 🧪🥼</a>
</h2>



<h3 id="rsyslog">
  <a class="Heading-link u-clickable" href="/techblog/post/psc6/#rsyslog">RSYSLOG</a>
</h3>
<p>Reliable System and Kernel Logging System</p>
<p>Basic Steps:</p>
<ol>
<li>Ensure Rsyslog is installed and running on both the control-plane and target node.</li>
<li>Configure sending of logs over UDP Port.</li>
<li>Editing Rsyslog config to split out logs.</li>
</ol>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/psc6/#prolug-links-">ProLUG Links ⛓️</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG PSC Repo: <a href="https://github.com/ProfessionalLinuxUsersGroup/psc">https://github.com/ProfessionalLinuxUsersGroup/psc</a>
ProLUG PSC Book: <a href="https://professionallinuxusersgroup.github.io/psc/">https://professionallinuxusersgroup.github.io/psc/</a>
ProLUG Book of Labs: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
<hr>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Example Title <a href="https://professionallinuxusersgroup.github.io/psc/u6ws.html">Format</a> Source, 2025.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>Example Title <a href="https://google.github.io/building-secure-and-reliable-systems/raw/ch15.html#collect_appropriate_and_useful_logs">Format</a> Source, 2025.&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref1:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p>Example Title <a href="https://jvns.ca/blog/2019/06/23/a-few-debugging-resources/">Format</a> Source, 2025.&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:4">
<p>Example Title <a href="https://sre.google/sre-book/monitoring-distributed-systems/">Format</a> Source, 2025.&#160;<a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/capstoneproject/" rel="tag">CapstoneProject</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/psc5/" rel="bookmark">ProLUG Security Engineering Course Unit 5</a>
  </h1>
  
    <time datetime="2025-04-27T00:00:00Z">April 27, 2025</time>
  
</header>
      
        <h2 id="intro-">
  <a class="Heading-link u-clickable" href="/techblog/post/psc5/#intro-">Intro 👋</a>
</h2>
<p>Repositories and Patching is the general theme of this unit. We dive into creating internally audited repositories for safe enterprise operation. This configuration allows for greater security scrutiny and compatibility testing before schedule patching takes place. For example, a company would like to skip every other version of a package in order to reduce update cadence, giving more time for assessment, correction and troubleshooting of internal software. Much like any enterprise decision regarding cost and effort and analysis must take place. <sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<hr>



<h2 id="worksheet">
  <a class="Heading-link u-clickable" href="/techblog/post/psc5/#worksheet">Worksheet</a>
</h2>



<h3 id="discussion-post-1">
  <a class="Heading-link u-clickable" href="/techblog/post/psc5/#discussion-post-1"><code>Discussion Post 1</code></a>
</h3>
<p>Review the rocky documentation on Software management in Linux.<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup></p>
<p><code>Question</code></p>
<ul>
<li>What do you already understand about the process?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>I had gained a decent understanding of the package management systems of both RHEL and DEBIAN based distros through both studying for the LPIC 1 and completing the ELAC course through this group. From this I had learned about versioning and dependency management including modules. The differences between RPM, YUM, and DNF and how these evolutions of package management came into being.</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>What new things did you learn or pick up?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>
<ul>
<li>I did not understand the depth to which RPM packages tracked package data.</li>
</ul>
</li>
<li>I did not know that headers could be edited in the package in order to add custom labeling.</li>
<li>I had basic awareness and high level understanding of internal package management. Prior to our lecture, I had not seen an internal package server/relay be setup/configured.</li>
<li>I did not know much about EPEL beyond having to call it in the CLI for additional packages outside of DNF.</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>What are the DNF plugins? What is the use of the versionlock plugin?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>DNF plugins are external modules that extend the functionality of DNF. I have some experience activating the <code>COPR</code> repo using DNF plugins. Furthermore, <code>versionlock</code> is a specific plugin that allows for an admin/engineer/dev to lock a particular package to a specified version so that it is not mistakenly changed/overwritten. This is typically done in software development in my experience, with software development many dependencies might be needed. Breaking updates were common place, so most modern software projects contain a <code>lock</code> file that indicates what specific dependency version must be used in order to build or interpret the project.</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>What is an EPEL? Why do you need to consider this when using one?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li><code>EPEL</code> stands for Extra Packages for Enterprise Linux. These packages exist outside of the core enterprise offering and are therefore potentially issue causing. Unlike core packages, these extra packages could introduce possible incompatibility issues, resulting in rejection by endorsed support specialists.</li>
</ul>



<h3 id="discussion-post-2">
  <a class="Heading-link u-clickable" href="/techblog/post/psc5/#discussion-post-2"><code>Discussion Post 2</code></a>
</h3>
<p>Do a google search for “patching enterprise Linux”<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup></p>
<p><code>Question</code></p>
<ul>
<li>What blogs (or AI) do you find that enumerates a list of steps or checklists to consider?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>I used to sources that I had found to be concise
<ul>
<li>RedHat Documentation<sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup></li>
<li>Chat*ippity</li>
</ul>
</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>After looking at that, how does patching a fleet of systems in the enterprise differ from pushing “update now” on your local desktop?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>Patching a fleet of systems involves the systematic updating of installed software to fix security vulnerabilities, improve stability, and introduce minor enhancements. The process is governed by organizational policies to ensure uptime and compliance.</li>
</ul>
<p>Because changes affect many systems simultaneously, patching acts as an amplifier of problems if not handled carefully. Therefore, enterprise patching must be strategic, managed, and auditable.</p>
<p>In contrast, running updates on a personal system is typically an automated, low-risk operation, with little concern for version conflicts or trust in the source. Additionally, modern filesystems like ZFS and Btrfs provide the ability to quickly roll back changes if something fails.</p>
<p><code>Question</code></p>
<ul>
<li>What seems to be the major considerations? What seems to be the major roadblocks?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>
<p>Major Considerations</p>
<ul>
<li>Uptime and Service Continuity</li>
<li>Security and Compliance</li>
<li>Testing and Validation</li>
<li>Dependency Management</li>
<li>Rollback and Recovery Planning</li>
<li>Orchestration and Scalability</li>
</ul>
</li>
<li>
<p>Major Roadblocks</p>
<ul>
<li>Legacy Systems</li>
<li>Change Resistance</li>
<li>Incomplete Asset Inventory</li>
<li>Tight Maintenance Windows</li>
<li>Patch Quality and vendor Bugs</li>
<li>Complex Dependencies and Integration Points</li>
<li>Resource Constraints</li>
</ul>
</li>
</ul>
<hr>



<h3 id="definitions">
  <a class="Heading-link u-clickable" href="/techblog/post/psc5/#definitions">Definitions</a>
</h3>
<ul>
<li>Def 1: Explainer</li>
<li>Def 2: Explainer</li>
<li>Def 3: Explainer</li>
</ul>
<p>Patching</p>
<p>Repos</p>
<p>Software</p>
<p>EPEL</p>
<p>BaseOS v. Appstream (in RHEL/Rocky)</p>
<p>Other types you can find?</p>
<pre><code>httpd
patching
GPG Key
DNF/YUM
</code></pre>



<h2 id="lab-">
  <a class="Heading-link u-clickable" href="/techblog/post/psc5/#lab-">Lab 🧪🥼</a>
</h2>



<h3 id="apache-stigs-review">
  <a class="Heading-link u-clickable" href="/techblog/post/psc5/#apache-stigs-review">Apache STIGs Review</a>
</h3>
<ol>
<li>Look at the 4 STIGs for “tls”</li>
</ol>
<ul>
<li>What file is fixed for all of them to be remediated?</li>
</ul>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Install httpd on your Rocky server</span>
</span></span><span class="line"><span class="cl">systemctl stop wwclient
</span></span><span class="line"><span class="cl">dnf install -y httpd
</span></span><span class="line"><span class="cl">systemctl start httpd</span></span></code></pre></div>
<ol start="2">
<li>Check STIG V-214234</li>
</ol>
<p><code>Question</code></p>
<ul>
<li>What is the problem?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>Event logging can fail.</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>What is the fix?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>This can be fixed by implementing failure alerts.</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>What type of control is being implemented?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>This type of control would be a <code>Detective Control</code></li>
</ul>
<p><code>Question</code></p>
<ul>
<li>Is it set properly on your system?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>No, this is not setup by default, it must be implemented after installation.</li>
</ul>
<p>Check STIG V-214248</p>
<p><code>Question</code></p>
<ul>
<li>What is the problem?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>By default, sensitive information including security controls may be available to all users because privelaged user access controls have not been implemented.</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>What is the fix?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>Develop roles for privelaged users and define access policies.</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>What type of control is being implemented?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>This is a preventative type control.</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>Is it set properly on your system?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>No, not by default. Of course super user has special priveledges. However, beyond that there are no other tiers of access.</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>How do you think SELINUX will help implement this control in an enforcing state? Or
will it not affect it?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>SELINUX allows for strong group creation and control. So it would help batch users and apply granular control mechanisms.</li>
</ul>
<hr>



<h3 id="building-repos">
  <a class="Heading-link u-clickable" href="/techblog/post/psc5/#building-repos">Building repos</a>
</h3>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Start out by removing all your active repos</span>
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /etc/yum.repos.d
</span></span><span class="line"><span class="cl">mkdir old_archive
</span></span><span class="line"><span class="cl">mv *.repo old_archive
</span></span><span class="line"><span class="cl">dnf repolist</span></span></code></pre></div>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Mount the local repository and make a local repo</span>
</span></span><span class="line"><span class="cl">mount -o loop /lab_work/repos_and_patching/Rocky-9.5-x86_64-dvd.iso /mnt
</span></span><span class="line"><span class="cl">df -h <span class="c1">#should see the mount point</span>
</span></span><span class="line"><span class="cl">ls -l /mnt
</span></span><span class="line"><span class="cl">touch /etc/yum.repos.d/rocky9.repo
</span></span><span class="line"><span class="cl">vi /etc/yum.repos.d/rocky9.repo</span></span></code></pre></div>

  

<pre tabindex="0"><code class="language-rocky9.repo" data-lang="rocky9.repo">[BaseOS]
name=BaseOS Packages Rocky Linux 9
metadata_expire=-1
gpgcheck=1
enabled=1
baseurl=file:///mnt/BaseOS/
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release
[AppStream]
name=AppStream Packages Rocky Linux 9
metadata_expire=-1
gpgcheck=1
enabled=1
baseurl=file:///mnt/AppStream/
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release
#Save with esc :wq or “shift + ZZ”</code></pre>
<p><code>Question</code></p>
<ul>
<li>Do the paths you’re using here make sense to you based off what you saw
with the ls -l? Why or why not?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>TODO</li>
</ul>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">chmod <span class="m">644</span> /etc/yum.repos.d/rocky9.repo
</span></span><span class="line"><span class="cl">dnf clean all
</span></span><span class="line"><span class="cl"><span class="c1"># Test the local repository</span>
</span></span><span class="line"><span class="cl">dnf repolist
</span></span><span class="line"><span class="cl">dnf --disablerepo<span class="o">=</span><span class="s2">&#34;*&#34;</span> --enablerepo<span class="o">=</span><span class="s2">&#34;AppStream&#34;</span> list available
</span></span><span class="line"><span class="cl">Approximately how many are available?
</span></span><span class="line"><span class="cl">dnf --disablerepo<span class="o">=</span><span class="s2">&#34;*&#34;</span> --enablerepo<span class="o">=</span><span class="s2">&#34;AppStream&#34;</span> list available <span class="p">|</span> nl
</span></span><span class="line"><span class="cl">dnf --disablerepo<span class="o">=</span><span class="s2">&#34;*&#34;</span> --enablerepo<span class="o">=</span><span class="s2">&#34;AppStream&#34;</span> list available <span class="p">|</span> nl <span class="p">|</span> head
</span></span><span class="line"><span class="cl">dnf --disablerepo<span class="o">=</span><span class="s2">&#34;*&#34;</span> --enablerepo<span class="o">=</span><span class="s2">&#34;BaseOS&#34;</span> list available
</span></span><span class="line"><span class="cl">Approximately how many are available?
</span></span><span class="line"><span class="cl">dnf --disablerepo<span class="o">=</span><span class="s2">&#34;*&#34;</span> --enablerepo<span class="o">=</span><span class="s2">&#34;BaseOS&#34;</span> list available <span class="p">|</span> nl
</span></span><span class="line"><span class="cl">dnf --disablerepo<span class="o">=</span><span class="s2">&#34;*&#34;</span> --enablerepo<span class="o">=</span><span class="s2">&#34;BaseOS&#34;</span> list available <span class="p">|</span> nl <span class="p">|</span> head
</span></span><span class="line"><span class="cl"><span class="c1"># Try to install something</span>
</span></span><span class="line"><span class="cl">dnf --disablerepo<span class="o">=</span><span class="s2">&#34;*&#34;</span> --enablerepo<span class="o">=</span><span class="s2">&#34;BaseOS AppStream&#34;</span> install gimp
</span></span><span class="line"><span class="cl">hit “n”</span></span></code></pre></div>
<p><code>Question</code></p>
<ul>
<li>How many packages does it want to install?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>TODO</li>
</ul>
<p><code>Question</code></p>
<p>How can you tell they’re from different repos?</p>
<p><code>Answer</code></p>
<ul>
<li>TODO</li>
</ul>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Share out the local repository for your internal systems (tested on just this one system)</span>
</span></span><span class="line"><span class="cl">rpm -qa <span class="p">|</span> grep -i httpd
</span></span><span class="line"><span class="cl">systemctl status httpd
</span></span><span class="line"><span class="cl">ss -ntulp <span class="p">|</span> grep <span class="m">80</span>
</span></span><span class="line"><span class="cl">lsof -i :80
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /etc/httpd/conf.d
</span></span><span class="line"><span class="cl">vi repos.conf</span></span></code></pre></div>

  

<pre tabindex="0"><code class="language-repos.conf" data-lang="repos.conf">&lt;Directory &#34;/mnt&#34;&gt;
Options Indexes FollowSymLinks
AllowOverride None
Require all granted
&lt;/Directory&gt;
Alias /repo /mnt
&lt;Location /repo&gt;
Options Indexes FollowSymLinks
AllowOverride None
Require all granted
&lt;/Location&gt;</code></pre>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">systemctl restart httpd
</span></span><span class="line"><span class="cl">vi /etc/yum.repos.d/rocky9.repo</span></span></code></pre></div>

  

<pre tabindex="0"><code class="language-rocky9.repo" data-lang="rocky9.repo">###USE YOUR HAMMER MACHINE IN BASEURL###
[BaseOS]
name=BaseOS Packages Rocky Linux 9
metadata_expire=-1
gpgcheck=1
enabled=1
#baseurl=file:///mnt/BaseOS/
baseurl=http://hammer25/repo/BaseOS/
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release
[AppStream]
name=AppStream Packages Rocky Linux 9
metadata_expire=-1
gpgcheck=1
enabled=1
#baseurl=file:///mnt/AppStream/
baseurl=http://hammer25/repo/AppStream/
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release</code></pre>
<p><code>Question</code></p>
<ul>
<li>Do the paths you’ve modified at baseurl make sense to you? If not, what do you need to better understand?</li>
</ul>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">dnf clean all
</span></span><span class="line"><span class="cl">dnf repolist
</span></span><span class="line"><span class="cl"><span class="c1"># Try to install something</span>
</span></span><span class="line"><span class="cl">dnf --disablerepo<span class="o">=</span><span class="s2">&#34;*&#34;</span> --enablerepo<span class="o">=</span><span class="s2">&#34;BaseOS AppStream&#34;</span> install gimp</span></span></code></pre></div>



<h3 id="digging-deeper">
  <a class="Heading-link u-clickable" href="/techblog/post/psc5/#digging-deeper">Digging Deeper</a>
</h3>
<p><code>Question</code></p>
<ul>
<li>You’ve set up a local repository and you’ve shared that repo out to other systems that might want to
connect. Why might you need this if you’re going to fully air-gap systems? Is it still necessary even if
your enterprise patching solution is well designed? Why or why not?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>TODO</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>Can you add the Mellanox ISO that is included in the /lab_work/repos_and_patching section to be a
repository that your systems can access? If you have trouble, troubleshoot and ask the group for
help.</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>TODO</li>
</ul>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/psc5/#prolug-links-">ProLUG Links ⛓️</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG PSC Repo: <a href="https://github.com/ProfessionalLinuxUsersGroup/psc">https://github.com/ProfessionalLinuxUsersGroup/psc</a>
ProLUG PSC Book: <a href="https://professionallinuxusersgroup.github.io/psc/">https://professionallinuxusersgroup.github.io/psc/</a>
ProLUG Book of Labs: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
<hr>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Example Title <a href="https://professionallinuxusersgroup.github.io/psc/u5ws.html">Format</a> Source, 2025.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>Rocky Documentation: Software Management <a href="https://docs.rockylinux.org/books/admin_guide/13-softwares/">Website</a> Rocky Docs, 2025.&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p>Example Title <a href="Link">Format</a> Source, 2025.&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:4">
<p>Example Title <a href="Link">Format</a> Source, 2025.&#160;<a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/capstoneproject/" rel="tag">CapstoneProject</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/psc4/" rel="bookmark">ProLUG Security Engineering Course Unit 4</a>
  </h1>
  
    <time datetime="2025-04-21T00:00:00Z">April 21, 2025</time>
  
</header>
      
        <h2 id="intro-">
  <a class="Heading-link u-clickable" href="/techblog/post/psc4/#intro-">Intro 👋</a>
</h2>
<p>This is the 2 sentence intro Footnote<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<hr>



<h2 id="worksheet">
  <a class="Heading-link u-clickable" href="/techblog/post/psc4/#worksheet">Worksheet</a>
</h2>



<h3 id="discussion-post-1">
  <a class="Heading-link u-clickable" href="/techblog/post/psc4/#discussion-post-1"><code>Discussion Post 1</code></a>
</h3>
<p><a href="https://aws.amazon.com/search/?searchQuery=air+gapped#facet_type=blogs&amp;page=1">https://aws.amazon.com/search/?searchQuery=air+gapped#facet_type=blogs&amp;page=1</a></p>
<p><a href="https://aws.amazon.com/blogs/security/tag/bastion-host/">https://aws.amazon.com/blogs/security/tag/bastion-host/</a></p>
<ul>
<li>Or find some on your own about air-gapped systems.</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>What seems to be the theme of air-gapped systems?</li>
</ul>
<p><code>Answer</code></p>
<p>Air gapped systems are highly controlled and isolated systems. The degree of isolation directly correlates to the level of operational burden as modern productive systems are typically highly connected to either LANs and/or WANs.</p>
<ul>
<li>Blocking/Limiting/Bottlenecking Network Traffic</li>
<li>Limiting Services to Bare Essentials</li>
<li>Mitigating Data Egress</li>
<li>Quardening off un-expected behavior</li>
<li>Logging use events</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>What seems to be their purpose?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>To limit attack surface, mitigate malicious access and/or data infiltration/exfiltraion</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>If you use google, or an AI, what are some of the common themes that come up when asked about air-gapped or bastion systems?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>
<p><strong>Common Themes in Air-Gapped Systems</strong></p>
<ul>
<li>Data Transfer Procedures</li>
<li>Patch Management &amp; Updates</li>
<li>Logging and Auditing</li>
<li>Threat Models</li>
<li>Authentication &amp; Access</li>
<li>Compliance &amp; Certification</li>
<li>Operational Burden</li>
</ul>
</li>
<li>
<p><strong>Common Themes in Bastion Hosts</strong></p>
<ul>
<li>Network Segmentation</li>
<li>Hardened OS Configuration</li>
<li>Jump Host Architecture</li>
<li>Access Control &amp; MFA</li>
<li>Monitoring and Alerting</li>
<li>Change Management</li>
</ul>
</li>
<li>
<p><strong>Shared Themes</strong></p>
<ul>
<li>Both require strict access control</li>
<li>Emphasis on tamper resistance and detection</li>
<li>Tradeoffs between security vs. usability</li>
<li>Often part of zero-trust or defense-in-depth architectures</li>
</ul>
</li>
</ul>



<h3 id="discussion-post-2">
  <a class="Heading-link u-clickable" href="/techblog/post/psc4/#discussion-post-2"><code>Discussion Post 2</code></a>
</h3>
<p><code>Question</code></p>
<p>Do a Google or AI search of topics around jailing a user or processes in Linux.</p>
<p><code>Answer</code></p>
<p><strong>User Jailing Techniques</strong></p>
<ul>
<li>chroot</li>
<li>Namespaces</li>
<li>Control groups (cgroups)</li>
<li>Seccomp</li>
<li>AppArmor / SELinux</li>
</ul>
<p><strong>Container and Jail Environments</strong></p>
<ul>
<li>LXC</li>
<li>Docker / Podman</li>
<li>Firejail</li>
<li>Bubblewrap (bwrap) Flatpak unpriveledged namespaces</li>
</ul>
<p><strong>Use Cases</strong></p>
<ul>
<li>Jailed SSH users: Using chroot in sshd_config to restrict access.</li>
<li>systemd-nspawn: Lightweight containers for sandboxed environments.</li>
<li>Flatpak / Snap: Sandboxed app delivery systems for desktop applications.</li>
</ul>
<p><strong>Related Tools &amp; Commands</strong></p>
<ul>
<li>chroot, unshare, setfacl, auditd</li>
<li>firejail, bwrap, systemd-nspawn</li>
<li>docker, podman, lxc-start</li>
</ul>
<p><code>Question</code></p>
<p>Can you enumerate the methods of jailing users?</p>
<p><code>Answer</code></p>
<p>Yes there are 5 possible avenues that I know of.</p>
<p><code>Question</code></p>
<p>Can you think of when you’ve been jailed as a Linux user? If not, can you think of the useful ways to use a jail?</p>
<p><code>Answer</code></p>
<p>No I have not experienced being jailed as a user. However, if I could think of some use-cases, perhaps one would be as a honeypot for observability. Another usecase I think could work would be to trap crawlers/bots.</p>
<hr>



<h2 id="lab-">
  <a class="Heading-link u-clickable" href="/techblog/post/psc4/#lab-">Lab 🧪🥼</a>
</h2>
<p>process of chroot jail build</p>
<p>nf -1 in awk = number of fields -1
What seems to be the theme of air-gapped systems?
What seems to be their purpose?
If you use google, or an AI, what are some of the common themes that come up when asked about air-gapped or bastion systems?</p>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/psc4/#prolug-links-">ProLUG Links ⛓️</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG PSC Repo: <a href="https://github.com/ProfessionalLinuxUsersGroup/psc">https://github.com/ProfessionalLinuxUsersGroup/psc</a>
ProLUG PSC Book: <a href="https://professionallinuxusersgroup.github.io/psc/">https://professionallinuxusersgroup.github.io/psc/</a>
ProLUG Book of Labs: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
<hr>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Example Title <a href="https://professionallinuxusersgroup.github.io/psc/u4ws.html">Format</a> Source, 2025.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/capstoneproject/" rel="tag">CapstoneProject</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/psc3/" rel="bookmark">ProLUG Security Engineering Course Unit 3</a>
  </h1>
  
    <time datetime="2025-04-13T00:00:00Z">April 13, 2025</time>
  
</header>
      
        <h2 id="intro-">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#intro-">Intro 👋</a>
</h2>
<p>This is the 2 sentence intro Footnote<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<hr>



<h2 id="worksheet">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#worksheet">Worksheet</a>
</h2>



<h3 id="discussion-post-1">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#discussion-post-1"><code>Discussion Post 1</code></a>
</h3>
<p>There are 16 Stigs that involve PAM for RHEL 9<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>.</p>
<p><code>Question</code></p>
<ul>
<li>What are the mechanisms and how do they affect PAM functionality?</li>
</ul>
<p><code>Answer</code></p>



<h4 id="hardening-defaults">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#hardening-defaults">Hardening Defaults</a>
</h4>
<p>STIGs replace permissive PAM modules with stricter ones. 2 Categories/Areas are covered in regards to Stig&rsquo;ing PAMs</p>
<ol>
<li>Lockout Policies that effect login frequency and failure.</li>
<li>Password Strength Enforcement that effects password complexity and re-use.</li>
</ol>



<h4 id="review-etcpamdsshd-on-a-linux-system">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#review-etcpamdsshd-on-a-linux-system">Review /etc/pam.d/sshd on a Linux system.</a>
</h4>
<p><code>Question</code></p>
<ul>
<li>What is happening in that file relative to these functionalities?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>This file specifies the PAM module control flags that sshd uses during authentication.</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>What are the common PAM modules?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>pam_sepermit.so, pam_nologin.so, apassword-auth and postlogin.</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>Look for a blog post or article about PAM that discusses real world application. ost it here and give us a quick synopsis.</li>
</ul>
<p><code>Answer</code></p>
<p><a href="https://www.redhat.com/en/blog/pluggable-authentication-modules-pam?utm_source=chatgpt.com">https://www.redhat.com/en/blog/pluggable-authentication-modules-pam?utm_source=chatgpt.com</a></p>
<p><code>Synopsis:</code></p>
<p>PAM are a modular and flexible framework for integrating authentication methods into applications. By seperating / abstracting authentication mechanisms from application code, PAM allows admins to manage authentication policies centrally. PAM also allows from customized authentication processes (Security through obscurity)</p>



<h3 id="discussion-post-2">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#discussion-post-2"><code>Discussion Post 2</code></a>
</h3>
<p>Intro to the scenario</p>
<p>Read about active directory (or LDAP) configurations of Linux via sssd<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup> 👍</p>
<p><code>Question</code></p>
<ul>
<li>Why do we not want to just use local authentication in Linux? Or really any system?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>Local authentication presents several problems. Firstly, there is no federated access, so there is fragmentation of systems. Secondly, scalability is an issue as each local system manages that local system&rsquo;s users, requiring individual account provisioning and password management. Thirdly, it complicates auditing and compliance, since there is no centralized logging or consistent policy enforcement. Additionally, stale or orphaned accounts can accumulate unnoticed, increasing security risks. Finally, it prevents the implementation of modern security practices such as single sign-on (SSO), multi-factor authentication (MFA), and role-based access control across a distributed environment.</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>There are 4 SSSD STIGS.</li>
</ul>
<p><code>Response</code></p>



<h4 id="vuln-id-258122">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#vuln-id-258122">Vuln ID 258122</a>
</h4>
<p><strong>Enforce Smart Card Authentication</strong> – Require certificate-based smart card login to implement multi-factor authentication and enhance access security.</p>



<h4 id="vuln-id-248131">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#vuln-id-248131">Vuln ID 248131</a>
</h4>
<p><strong>Validate Certificate Chains</strong> – Ensure that certificates used for PKI-based authentication are properly validated by building a complete certification path to a trusted root.</p>



<h4 id="vuln-id-258132">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#vuln-id-258132">Vuln ID 258132</a>
</h4>
<p><strong>Associate Certificates with User Accounts</strong> – Confirm that every authentication certificate is explicitly mapped to a valid user account to maintain identity integrity.</p>



<h4 id="vuln-id-258133">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#vuln-id-258133">Vuln ID 258133</a>
</h4>
<p><strong>Restrict Credential Caching Duration</strong> – Limit the validity period of cached authentication credentials to a maximum of 24 hours to reduce risk in the event of compromise.</p>
<hr>



<h3 id="definitions">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#definitions">Definitions</a>
</h3>
<ul>
<li><strong>PAM:</strong> Pluggable Authentication Modules provide a flexible mechanism for authenticating users on Unix-like systems.</li>
<li><strong>AD:</strong> Active Directory is Microsoft&rsquo;s centralized directory service for authentication, authorization, and resource management.</li>
<li><strong>LDAP:</strong> Lightweight Directory Access Protocol is an open, vendor-neutral protocol for accessing and maintaining distributed directory information services.</li>
<li><strong>sssd:</strong> System Security Services Daemon provides access to remote identity and authentication providers like LDAP or Kerberos.</li>
<li><strong>oddjob:</strong> A D-Bus service used to perform privileged tasks on behalf of unprivileged users, often for domain enrollment or home directory creation.</li>
<li><strong>krb5:</strong> Kerberos 5 is a network authentication protocol that uses tickets for securely proving identity over untrusted networks.</li>
<li><strong>realm/realmd:</strong> A tool that simplifies joining and managing a system in a domain like Active Directory or IPA using standard services.</li>
<li><strong>wheel (system group in RHEL):</strong> A special administrative group whose members are allowed to execute privileged commands using <code>sudo</code>.</li>
</ul>



<h2 id="lab">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#lab">Lab</a>
</h2>



<h4 id="examine-stig-v-257986">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#examine-stig-v-257986">Examine STIG V-257986</a>
</h4>
<p><code>Question</code></p>
<ul>
<li>What is the problem?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>TODO</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>What is the fix?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>TODO</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>What type of control is being implemented?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>TODO</li>
</ul>
<p><code>Question</code></p>
<ul>
<li>Is it set properly on your system?</li>
</ul>
<p><code>Answer</code></p>
<ul>
<li>TODO</li>
</ul>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">grep -i pam /etc/ssh/sshd_config</span></span></code></pre></div>
<p><code>Question</code></p>
<ul>
<li>Can you remediate this finding?</li>
</ul>



<h4 id="check-and-remediate-stig-v-258055">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#check-and-remediate-stig-v-258055">Check and remediate STIG V-258055</a>
</h4>
<p><code>Questions</code></p>
<ul>
<li>What is the problem?</li>
<li>What is the fix?</li>
<li>What type of control is being implemented?</li>
<li>Are there any major implications to think about with this change on your system? Why or why not?</li>
<li>Is it set properly on your system?</li>
<li>How would you go about remediating this on your system?</li>
</ul>
<p><code>Answers</code></p>
<ul>
<li>TODO</li>
</ul>



<h4 id="check-and-remediate-stig-v-258098">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#check-and-remediate-stig-v-258098">Check and remediate STIG V-258098</a>
</h4>
<p><code>Questions</code></p>
<ul>
<li>What is the problem?</li>
<li>What is the fix?</li>
<li>What type of control is being implemented?</li>
<li>Is it set properly on your system?</li>
</ul>
<p><code>Answers</code></p>
<ul>
<li>TODO</li>
</ul>



<h4 id="filter-stigs-by-password-complexity">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#filter-stigs-by-password-complexity">Filter STIGS by “password complexity”</a>
</h4>
<p><code>Questions</code></p>
<ul>
<li>How many are there?</li>
<li>What are the password complexity rules?</li>
<li>Are there any you haven’t seen before?</li>
</ul>
<p><code>Answers</code></p>
<ul>
<li>TODO</li>
</ul>



<h4 id="openldap-setup">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#openldap-setup">OpenLDAP Setup</a>
</h4>
<p>You will likely not build an LDAP server in a real world environment. We are doing it for understanding and ability to complete the lab. In a normal corporate environment this is likely Active Directory.</p>
<p>To simplify some of the typing in this lab, there is a file located at /lab_work/identity_and_access_management.tar.gz that you can pull down to your system with the correct .ldif files.</p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># cp /lab_work/identity_and_access_management.tar.gz .</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># tar -xzvf identity_and_access_management.tar </span></span></span></code></pre></div>



<h5 id="1-stop-the-warewulf-client">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#1-stop-the-warewulf-client">1. Stop the warewulf client</a>
</h5>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># systemctl stop wwclient</span></span></span></code></pre></div>



<h5 id="2-edit-your-etchosts-file">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#2-edit-your-etchosts-file">2. Edit your /etc/hosts file</a>
</h5>
<p>Look for and edit the line that has your current server</p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># vi /etc/hosts</span></span></span></code></pre></div>
<p>Entry for hammer1 for example:</p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">192.168.200.151 hammer1 hammer1-default ldap.prolug.lan ldap</span></span></code></pre></div>



<h5 id="3-setup-dnf-repo">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#3-setup-dnf-repo">3. Setup dnf repo</a>
</h5>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># dnf config-manager --set-enabled plus</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># dnf repolist</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># dnf -y install openldap-servers openldap-clients openldap</span></span></span></code></pre></div>



<h5 id="4-start-slapd-systemctl">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#4-start-slapd-systemctl">4. Start slapd systemctl</a>
</h5>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># systemctl start slapd</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># ss -ntulp | grep slapd</span></span></span></code></pre></div>



<h5 id="5-allow-ldap-through-the-firewall">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#5-allow-ldap-through-the-firewall">5. Allow ldap through the firewall</a>
</h5>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># firewall-cmd --add-service={ldap,ldaps} --permanent</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># firewall-cmd --reload</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># firewall-cmd --list-all</span></span></span></code></pre></div>



<h5 id="6-generate-a-password-our-example-uses-testpassword-this-will-return-a-salted-ssha-password-save-this-password-and-stalted-hash-for-later-input">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#6-generate-a-password-our-example-uses-testpassword-this-will-return-a-salted-ssha-password-save-this-password-and-stalted-hash-for-later-input">6. Generate a password (Our example uses testpassword) This will return a salted SSHA password. Save this password and stalted hash for later input</a>
</h5>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># slappasswd</span></span></span></code></pre></div>
<p>Output:</p>
<p><code>New password:   Re-enter new password:   {SSHA}wpRvODvIC/EPYf2GqHUlQMDdsFIW5yig</code></p>



<h5 id="7-change-the-password">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#7-change-the-password">7. Change the password</a>
</h5>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># vi changerootpass.ldif</span></span></span></code></pre></div>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">dn</span><span class="p">:</span><span class="w"> </span><span class="l">olcDatabase={0}config,cn=config</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">changetype</span><span class="p">:</span><span class="w"> </span><span class="l">modify</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">replace</span><span class="p">:</span><span class="w"> </span><span class="l">olcRootPW</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">olcRootPW</span><span class="p">:</span><span class="w"> </span>{<span class="l">SSHA}vKobSZO1HDGxp2OElzli/xfAzY4jSDMZ</span></span></span></code></pre></div>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># ldapadd -Y EXTERNAL -H ldapi:/// -f changerootpass.ldif </span></span></span></code></pre></div>
<p>Output:</p>
<p><code>SASL/EXTERNAL authentication started</code>
<code>SASL username: gidNumber=0+uidNumber=0,cn=peercred,cn=external,cn=auth</code><br>
<code>SASL SSF: 0</code><br>
<code>modifying entry &quot;olcDatabase={0}config,cn=config&quot;</code></p>



<h5 id="8-generate-basic-schemas">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#8-generate-basic-schemas">8. Generate basic schemas</a>
</h5>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ldapadd -Y EXTERNAL -H ldapi:/// -f /etc/openldap/schema/cosine.ldif
</span></span><span class="line"><span class="cl">ldapadd -Y EXTERNAL -H ldapi:/// -f /etc/openldap/schema/nis.ldif
</span></span><span class="line"><span class="cl">ldapadd -Y EXTERNAL -H ldapi:/// -f /etc/openldap/schema/inetorgperson.ldif</span></span></code></pre></div>



<h5 id="9-set-up-the-domain-use-the-password-you-generated-earlier">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#9-set-up-the-domain-use-the-password-you-generated-earlier">9. Set up the domain (USE THE PASSWORD YOU GENERATED EARLIER)</a>
</h5>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># vi setdomain.ldif</span></span></span></code></pre></div>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">dn</span><span class="p">:</span><span class="w"> </span><span class="l">olcDatabase={1}monitor,cn=config</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">changetype</span><span class="p">:</span><span class="w"> </span><span class="l">modify</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">replace</span><span class="p">:</span><span class="w"> </span><span class="l">olcAccess</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">olcAccess</span><span class="p">:</span><span class="w"> </span>{<span class="m">0</span>}<span class="l">to * by dn.base=&#34;gidNumber=0+uidNumber=0,cn=peercred,cn=external,cn=auth&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">read by dn.base=&#34;cn=Manager,dc=prolug,dc=lan&#34; read by * none</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">dn</span><span class="p">:</span><span class="w"> </span><span class="l">olcDatabase={2}mdb,cn=config</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">changetype</span><span class="p">:</span><span class="w"> </span><span class="l">modify</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">replace</span><span class="p">:</span><span class="w"> </span><span class="l">olcSuffix</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">olcSuffix</span><span class="p">:</span><span class="w"> </span><span class="l">dc=prolug,dc=lan</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">dn</span><span class="p">:</span><span class="w"> </span><span class="l">olcDatabase={2}mdb,cn=config</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">changetype</span><span class="p">:</span><span class="w"> </span><span class="l">modify</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">replace</span><span class="p">:</span><span class="w"> </span><span class="l">olcRootDN</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">olcRootDN</span><span class="p">:</span><span class="w"> </span><span class="l">cn=Manager,dc=prolug,dc=lan</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">dn</span><span class="p">:</span><span class="w"> </span><span class="l">olcDatabase={2}mdb,cn=config</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">changetype</span><span class="p">:</span><span class="w"> </span><span class="l">modify</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">add</span><span class="p">:</span><span class="w"> </span><span class="l">olcRootPW</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">olcRootPW</span><span class="p">:</span><span class="w"> </span>{<span class="l">SSHA}s4x6uAxcAPZN/4e3pGnU7UEIiADY0/Ob</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">dn</span><span class="p">:</span><span class="w"> </span><span class="l">olcDatabase={2}mdb,cn=config</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">changetype</span><span class="p">:</span><span class="w"> </span><span class="l">modify</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">add</span><span class="p">:</span><span class="w"> </span><span class="l">olcAccess</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">olcAccess</span><span class="p">:</span><span class="w"> </span>{<span class="m">0</span>}<span class="l">to attrs=userPassword,shadowLastChange by</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">dn=&#34;cn=Manager,dc=prolug,dc=lan&#34; write by anonymous auth by self write by * none</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">olcAccess</span><span class="p">:</span><span class="w"> </span>{<span class="m">1</span>}<span class="l">to dn.base=&#34;&#34; by * read</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">olcAccess</span><span class="p">:</span><span class="w"> </span>{<span class="m">2</span>}<span class="l">to * by dn=&#34;cn=Manager,dc=prolug,dc=lan&#34; write by * read</span></span></span></code></pre></div>



<h5 id="10-run-it">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#10-run-it">10. Run it</a>
</h5>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># ldapmodify -Y EXTERNAL -H ldapi:/// -f setdomain.ldif</span></span></span></code></pre></div>
<p>Output:</p>
<p><code>SASL/EXTERNAL authentication started</code><br>
<code>SASL username: gidNumber=0+uidNumber=0,cn=peercred,cn=external,cn=auth</code><br>
<code>SASL SSF: 0</code><br>
<code>modifying entry &quot;olcDatabase={1}monitor,cn=config</code><br>
<code>modifying entry &quot;olcDatabase={2}mdb,cn=config</code><br>
<code>modifying entry &quot;olcDatabase={2}mdb,cn=config</code><br>
<code>modifying entry &quot;olcDatabase={2}mdb,cn=config</code><br>
<code>modifying entry &quot;olcDatabase={2}mdb,cn=config</code></p>
<!-- raw HTML omitted -->



<h5 id="11-search-and-verify-the-domain-is-working">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#11-search-and-verify-the-domain-is-working">11. Search and verify the domain is working.</a>
</h5>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># ldapsearch -H ldap:// -x -s base -b &#34;&#34; -LLL &#34;namingContexts&#34;</span></span></span></code></pre></div>
<p>Output:</p>
<p><code>dn:</code>
<code>namingContexts: dc=prolug,dc=lan</code></p>



<h5 id="12-add-the-base-group-and-organization">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#12-add-the-base-group-and-organization">12. Add the base group and organization.</a>
</h5>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># vi addou.ldif</span></span></span></code></pre></div>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">dn</span><span class="p">:</span><span class="w"> </span><span class="l">dc=prolug,dc=lan</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">objectClass</span><span class="p">:</span><span class="w"> </span><span class="l">top</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">objectClass</span><span class="p">:</span><span class="w"> </span><span class="l">dcObject</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">objectclass</span><span class="p">:</span><span class="w"> </span><span class="l">organization</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">o</span><span class="p">:</span><span class="w"> </span><span class="l">My prolug Organisation</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">dc</span><span class="p">:</span><span class="w"> </span><span class="l">prolug</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">dn</span><span class="p">:</span><span class="w"> </span><span class="l">cn=Manager,dc=prolug,dc=lan</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">objectClass</span><span class="p">:</span><span class="w"> </span><span class="l">organizationalRole</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">cn</span><span class="p">:</span><span class="w"> </span><span class="l">Manager</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">OpenLDAP Manager</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">dn</span><span class="p">:</span><span class="w"> </span><span class="l">ou=People,dc=prolug,dc=lan</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">objectClass</span><span class="p">:</span><span class="w"> </span><span class="l">organizationalUnit</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">ou</span><span class="p">:</span><span class="w"> </span><span class="l">People</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">dn</span><span class="p">:</span><span class="w"> </span><span class="l">ou=Group,dc=prolug,dc=lan</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">objectClass</span><span class="p">:</span><span class="w"> </span><span class="l">organizationalUnit</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">ou</span><span class="p">:</span><span class="w"> </span><span class="l">Group</span></span></span></code></pre></div>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># ldapadd -x -D cn=Manager,dc=prolug,dc=lan -W -f addou.ldif</span></span></span></code></pre></div>



<h5 id="13-verifying">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#13-verifying">13. Verifying</a>
</h5>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># ldapsearch -H ldap:// -x -s base -b &#34;&#34; -LLL &#34;+&#34;  </span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># ldapsearch -x -b &#34;dc=prolug,dc=lan&#34; ou</span></span></span></code></pre></div>



<h5 id="14-add-a-user">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#14-add-a-user">14. Add a user</a>
</h5>
<p>Generate a password  (use testuser1234)</p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># slappasswd </span></span></span></code></pre></div>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># vi adduser.ldif</span></span></span></code></pre></div>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">dn</span><span class="p">:</span><span class="w"> </span><span class="l">uid=testuser,ou=People,dc=prolug,dc=lan</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">objectClass</span><span class="p">:</span><span class="w"> </span><span class="l">inetOrgPerson</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">objectClass</span><span class="p">:</span><span class="w"> </span><span class="l">posixAccount</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">objectClass</span><span class="p">:</span><span class="w"> </span><span class="l">shadowAccount</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">cn</span><span class="p">:</span><span class="w"> </span><span class="l">testuser</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">sn</span><span class="p">:</span><span class="w"> </span><span class="l">temp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">userPassword</span><span class="p">:</span><span class="w"> </span>{<span class="l">SSHA}yb6e0ICSdlZaMef3zizvysEzXRGozQOK</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">loginShell</span><span class="p">:</span><span class="w"> </span><span class="l">/bin/bash</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">uidNumber</span><span class="p">:</span><span class="w"> </span><span class="m">15000</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">gidNumber</span><span class="p">:</span><span class="w"> </span><span class="m">15000</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">homeDirectory</span><span class="p">:</span><span class="w"> </span><span class="l">/home/testuser</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">shadowLastChange</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">shadowMax</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">shadowWarning</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">dn</span><span class="p">:</span><span class="w"> </span><span class="l">cn=testuser,ou=Group,dc=prolug,dc=lan</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">objectClass</span><span class="p">:</span><span class="w"> </span><span class="l">posixGroup</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">cn</span><span class="p">:</span><span class="w"> </span><span class="l">testuser</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">gidNumber</span><span class="p">:</span><span class="w"> </span><span class="m">15000</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">memberUid</span><span class="p">:</span><span class="w"> </span><span class="l">testuser</span></span></span></code></pre></div>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># ldapadd -x -D cn=Manager,dc=prolug,dc=lan -W -f adduser.ldif</span></span></span></code></pre></div>



<h5 id="16-verify-that-your-user-is-in-the-system">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#16-verify-that-your-user-is-in-the-system">16. Verify that your user is in the system.</a>
</h5>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># ldapsearch -x -b &#34;ou=People,dc=prolug,dc=lan&#34;</span></span></span></code></pre></div>



<h5 id="17-secure-the-system-with-tls-accept-all-defaults">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#17-secure-the-system-with-tls-accept-all-defaults">17. Secure the system with TLS (accept all defaults)</a>
</h5>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout /etc/pki/tls/ldapserver.key -out /etc/pki/tls/ldapserver.crt</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># chown ldap:ldap /etc/pki/tls/{ldapserver.crt,ldapserver.key}</span></span></span></code></pre></div>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># ls -l /etc/pki/tls/ldap*</span></span></span></code></pre></div>
<p>Output:</p>
<p><code>-rw-r--r--. 1 ldap ldap 1224 Apr 12 18:23 /etc/pki/tls/ldapserver.crt </code>
<code>-rw-------. 1 ldap ldap 1704 Apr 12 18:22 /etc/pki/tls/ldapserver.key</code></p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># vi tls.ldif</span></span></span></code></pre></div>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">dn</span><span class="p">:</span><span class="w"> </span><span class="l">cn=config</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">changetype</span><span class="p">:</span><span class="w"> </span><span class="l">modify</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">add</span><span class="p">:</span><span class="w"> </span><span class="l">olcTLSCACertificateFile</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">olcTLSCACertificateFile</span><span class="p">:</span><span class="w"> </span><span class="l">/etc/pki/tls/ldapserver.crt</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">add</span><span class="p">:</span><span class="w"> </span><span class="l">olcTLSCertificateKeyFile</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">olcTLSCertificateKeyFile</span><span class="p">:</span><span class="w"> </span><span class="l">/etc/pki/tls/ldapserver.key</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">add</span><span class="p">:</span><span class="w"> </span><span class="l">olcTLSCertificateFile</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">olcTLSCertificateFile</span><span class="p">:</span><span class="w"> </span><span class="l">/etc/pki/tls/ldapserver.crt</span></span></span></code></pre></div>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># ldapadd -Y EXTERNAL -H ldapi:/// -f tls.ldif</span></span></span></code></pre></div>



<h5 id="18-fix-the-etcopenldapldapconf-to-allow-for-certs">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#18-fix-the-etcopenldapldapconf-to-allow-for-certs">18. Fix the /etc/openldap/ldap.conf to allow for certs</a>
</h5>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># vi /etc/openldap/ldap.conf</span></span></span></code></pre></div>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1"># LDAP Defaults</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># See ldap.conf(5) for details</span>
</span></span><span class="line"><span class="cl"><span class="c1"># This file should be world readable but not world writable.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#BASE dc=example,dc=com</span>
</span></span><span class="line"><span class="cl"><span class="c1">#URI ldap://ldap.example.com ldap://ldap-master.example.com:666</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#SIZELIMIT 12</span>
</span></span><span class="line"><span class="cl"><span class="c1">#TIMELIMIT 15</span>
</span></span><span class="line"><span class="cl"><span class="c1">#DEREF never</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># When no CA certificates are specified the Shared System Certificates</span>
</span></span><span class="line"><span class="cl"><span class="c1"># are in use. In order to have these available along with the ones specified # by TLS_CACERTDIR one has to include them explicitly:</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">TLS_CACERT /etc/pki/tls/ldapserver.crt
</span></span><span class="line"><span class="cl">TLS_REQCERT never
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># System-wide Crypto Policies provide up to date cipher suite which should</span>
</span></span><span class="line"><span class="cl"><span class="c1"># be used unless one needs a finer grinded selection of ciphers. Hence, the</span>
</span></span><span class="line"><span class="cl"><span class="c1"># PROFILE=SYSTEM value represents the default behavior which is in place</span>
</span></span><span class="line"><span class="cl"><span class="c1"># when no explicit setting is used. (see openssl-ciphers(1) for more info)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#TLS_CIPHER_SUITE PROFILE=SYSTEM</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Turning this off breaks GSSAPI used with krb5 when rdns = false</span>
</span></span><span class="line"><span class="cl">SASL_NOCANON on</span></span></code></pre></div>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># systemctl restart slapd</span></span></span></code></pre></div>



<h4 id="sssd-configuration-and-realmd-join-to-ldap">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#sssd-configuration-and-realmd-join-to-ldap">SSSD Configuration and Realmd join to LDAP</a>
</h4>
<p>SSSD can connect a server to a trusted LDAP system and authenticate users for access to
local resources. You will likely do this during your career and it is a valuable skill to work with.</p>



<h5 id="1-install-sssd-configure-and-validate-that-the-user-is-seen-by-the-system">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#1-install-sssd-configure-and-validate-that-the-user-is-seen-by-the-system">1. Install sssd, configure, and validate that the user is seen by the system</a>
</h5>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># dnf install openldap-clients sssd sssd-ldap oddjob-mkhomedir authselect</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># authselect select sssd with-mkhomedir --force</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># systemctl enable --now oddjobd.service</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># systemctl status oddjobd.service</span></span></span></code></pre></div>



<h5 id="2-uncomment-and-fix-the-lines-in-etcopenldapldapconf">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#2-uncomment-and-fix-the-lines-in-etcopenldapldapconf">2. Uncomment and fix the lines in /etc/openldap/ldap.conf</a>
</h5>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># vi /etc/openldap/ldap.conf</span></span></span></code></pre></div>
<p>Output:</p>
<p><code>BASE dc=prolug,dc=lan</code>
<code>URI ldap://ldap.ldap.lan/</code></p>



<h5 id="3-edit-the-sssdconf-file">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#3-edit-the-sssdconf-file">3. Edit the sssd.conf file</a>
</h5>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># vi /etc/sssd/sssd.conf</span></span></span></code></pre></div>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="p">[</span><span class="l">domain/default]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">id_provider = ldap</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">autofs_provider = ldap</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">auth_provider = ldap</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">chpass_provider = ldap</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">ldap_uri = ldap://ldap.prolug.lan/</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">ldap_search_base = dc=prolug,dc=lan</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c">#ldap_id_use_start_tls = True</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c">#ldap_tls_cacertdir = /etc/openldap/certs</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">cache_credentials = True</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c">#ldap_tls_reqcert = allow</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">[</span><span class="l">sssd]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">services = nss, pam, autofs</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">domains = default</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">[</span><span class="l">nss]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">homedir_substring = /home</span></span></span></code></pre></div>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># chmod 0600 /etc/sssd/sssd.conf</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># systemctl start sssd</span>
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># systemctl status sssd</span></span></span></code></pre></div>



<h4 id="4-validate-that-the-user-can-be-seen">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#4-validate-that-the-user-can-be-seen">4. Validate that the user can be seen</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer1 ~<span class="o">]</span><span class="c1"># id testuser</span></span></span></code></pre></div>
<p>Output:</p>
<p><code>uid=15000(testuser) gid=15000 groups=15000</code></p>
<p>Congratulations! Look at you, doing all the Linux.</p>



<h4 id="please-reboot-the-the-lab-machine-when-done">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#please-reboot-the-the-lab-machine-when-done">Please reboot the the lab machine when done.</a>
</h4>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/psc3/#prolug-links-">ProLUG Links ⛓️</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG PSC Repo: <a href="https://github.com/ProfessionalLinuxUsersGroup/psc">https://github.com/ProfessionalLinuxUsersGroup/psc</a>
ProLUG PSC Book: <a href="https://professionallinuxusersgroup.github.io/psc/">https://professionallinuxusersgroup.github.io/psc/</a>
ProLUG Book of Labs: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
<hr>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Example Title <a href="https://professionallinuxusersgroup.github.io/psc/u3ws.html">Format</a> Source, 2025.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>Stigs that involve PAM for RHEL 9 [Webstie](<a href="https://docs.rockylinux.org/guides/security/pam/">https://docs.rockylinux.org/guides/security/pam/</a> Source, 2025.&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p>configurations of Linux via sssd <a href="https://docs.rockylinux.org/guides/security/authentication/active_directory_authentication">Website</a> Source, 2025.&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/capstoneproject/" rel="tag">CapstoneProject</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/psc2/" rel="bookmark">ProLUG Security Engineering Course Unit 2</a>
  </h1>
  
    <time datetime="2025-04-05T00:00:00Z">April 5, 2025</time>
  
</header>
      
        <h1 id="intro-">
  <a class="Heading-link u-clickable" href="/techblog/post/psc2/#intro-">Intro 👋</a>
</h1>
<hr>



<h3 id="discussion-post-1">
  <a class="Heading-link u-clickable" href="/techblog/post/psc2/#discussion-post-1"><code>Discussion Post 1</code></a>
</h3>
<p><code>Preface</code></p>
<p>There are 401 stigs for RHEL 9. If you filter in your stig viewer for sysctl there are 33 (mostly network focused), ssh - 39, and network - 58. Now there are some overlaps between those, but review them and answer these questions</p>
<p><code>Question</code> 1. As systems engineers why are we focused on protecting the network portion of our
server builds?</p>
<p><code>Answer</code></p>
<ul>
<li>Most attacks come through the network</li>
<li>Misconfigured services can expose critical ports.</li>
<li>Data in transit is vulnerable without proper encryption and access control.</li>
<li>External exposure often increases the attack surface for things like brute-force attempts, malware injection, or unauthorized access.</li>
</ul>
<p><code>Question</code> 2. Why is it important to understand all the possible ingress points to our servers that
exist?</p>
<p><code>Answer</code></p>
<ul>
<li>Ingress points = potential paths of attack. Unexpected ingress can be exploited.</li>
<li>Zero-trust environments rely on strict control and observability of ingress.</li>
<li>Compliance and auditing require accurate records of what’s accessible.</li>
</ul>
<p><code>Question</code> 3. Why is it so important to understand the behaviors of processes that are
connecting on those ingress points?</p>
<p><code>Answer</code></p>
<ul>
<li>Security posture depends on visibility</li>
<li>Attackers scan for overlooked vulnerabilities</li>
<li>Automation tools (e.g., Ansible, Terraform) can introduce new ingress points unknowingly during updates.</li>
<li>Incident response is much faster and more effective when engineers understand the network surface.</li>
</ul>
<hr>



<h3 id="discussion-post-2">
  <a class="Heading-link u-clickable" href="/techblog/post/psc2/#discussion-post-2"><code>Discussion Post 2</code></a>
</h3>
<p>Intro to the scenario[^3]</p>
<p>Read this: <a href="https://ciq.com/blog/demystifying-and-">https://ciq.com/blog/demystifying-and-</a>
troubleshooting-name-resolution-in-rocky-linux/ or similar blogs on DNS and host file
configurations.</p>
<ul>
<li>
<p>What is the significance of the nsswitch.conf file?</p>
</li>
<li>
<p>What are security problems associated with DNS and common exploits? (May have
to look into some more blogs or posts for this)</p>
</li>
</ul>
<hr>



<h3 id="definitions">
  <a class="Heading-link u-clickable" href="/techblog/post/psc2/#definitions">Definitions</a>
</h3>
<ul>
<li><code>sysctl</code>: Linux interface to modify kernel parameters at runtime for system performance and security. <a href="https://en.wikipedia.org/wiki/Sysctl">https://en.wikipedia.org/wiki/Sysctl</a></li>
<li><code>nsswitch.conf</code>: Configuration file controlling the order of name service lookups (e.g., DNS, files, LDAP). <a href="https://en.wikipedia.org/wiki/Nsswitch.conf">https://en.wikipedia.org/wiki/Nsswitch.conf</a></li>
<li><code>DNS: Domain Name System</code> — translates human-readable domain names into IP addresses. <a href="https://en.wikipedia.org/wiki/Domain_Name_System">https://en.wikipedia.org/wiki/Domain_Name_System</a></li>
<li><code>Openscap</code>: Open-source framework for automated vulnerability scanning, compliance checking, and security auditing. <a href="https://en.wikipedia.org/wiki/OpenSCAP">https://en.wikipedia.org/wiki/OpenSCAP</a></li>
<li><code>CIS Benchmarks</code>: Prescriptive security configuration guidelines provided by the Center for Internet Security. <a href="https://en.wikipedia.org/wiki/Center_for_Internet_Security">https://en.wikipedia.org/wiki/Center_for_Internet_Security</a></li>
<li><code>ss/netstat</code>: Command-line tools to display network sockets, connections, and statistics on Unix-like systems. <a href="https://en.wikipedia.org/wiki/Netstat">https://en.wikipedia.org/wiki/Netstat</a></li>
<li><code>tcpdump</code>: Command-line packet analyzer for capturing and inspecting network traffic in real-time. <a href="https://en.wikipedia.org/wiki/Tcpdump">https://en.wikipedia.org/wiki/Tcpdump</a></li>
<li><code>ngrep</code>: Network packet analyzer like grep, allowing pattern matching on network traffic payloads. <a href="https://en.wikipedia.org/wiki/Ngrep">https://en.wikipedia.org/wiki/Ngrep</a></li>
</ul>



<h2 id="lab-">
  <a class="Heading-link u-clickable" href="/techblog/post/psc2/#lab-">Lab 🧪🥼</a>
</h2>



<h3 id="warmup">
  <a class="Heading-link u-clickable" href="/techblog/post/psc2/#warmup">Warmup</a>
</h3>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sysctl -a <span class="p">|</span> grep -i ipv4 <span class="p">|</span> grep -i forward
</span></span><span class="line"><span class="cl"><span class="c1"># Does this system appear to be set to forward? Why or why not?</span></span></span></code></pre></div>



<h4 id="output">
  <a class="Heading-link u-clickable" href="/techblog/post/psc2/#output">Output:</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer2 ~<span class="o">]</span><span class="c1"># sysctl -a | grep -i ipv4 | grep -i forward</span>
</span></span><span class="line"><span class="cl">net.ipv4.conf.all.bc_forwarding <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">net.ipv4.conf.all.forwarding <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">net.ipv4.conf.all.mc_forwarding <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">net.ipv4.conf.default.bc_forwarding <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">net.ipv4.conf.default.forwarding <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">net.ipv4.conf.default.mc_forwarding <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">net.ipv4.conf.eth0.bc_forwarding <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">net.ipv4.conf.eth0.forwarding <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">net.ipv4.conf.eth0.mc_forwarding <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">net.ipv4.conf.lo.bc_forwarding <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">net.ipv4.conf.lo.forwarding <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">net.ipv4.conf.lo.mc_forwarding <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">net.ipv4.ip_forward <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">net.ipv4.ip_forward_update_priority <span class="o">=</span> <span class="m">1</span>
</span></span><span class="line"><span class="cl">net.ipv4.ip_forward_use_pmtu <span class="o">=</span> <span class="m">0</span></span></span></code></pre></div>



<h4 id="answer-i-dont-think-so">
  <a class="Heading-link u-clickable" href="/techblog/post/psc2/#answer-i-dont-think-so"><strong>Answer:</strong> I don&rsquo;t think so</a>
</h4>
<hr>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sysctl -a <span class="p">|</span> grep -i ipv4 <span class="p">|</span> grep -i martian
</span></span><span class="line"><span class="cl"><span class="c1"># What are martians and is this system allowing them?</span></span></span></code></pre></div>



<h4 id="output-1">
  <a class="Heading-link u-clickable" href="/techblog/post/psc2/#output-1">Output:</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer2 ~<span class="o">]</span><span class="c1"># sysctl -a | grep -i ipv4 | grep -i martian</span>
</span></span><span class="line"><span class="cl">net.ipv4.conf.all.log_martians <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">net.ipv4.conf.default.log_martians <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">net.ipv4.conf.eth0.log_martians <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">net.ipv4.conf.lo.log_martians <span class="o">=</span> <span class="m">0</span></span></span></code></pre></div>



<h4 id="answer">
  <a class="Heading-link u-clickable" href="/techblog/post/psc2/#answer"><strong>Answer:</strong></a>
</h4>
<ul>
<li>In Linux networking, martians refer to packets with bogus, invalid, or impossible source or destination IP addresses.</li>
<li>If setting is 0 we allow martians and do not log them.</li>
</ul>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sysctl -a <span class="p">|</span> grep -i panic
</span></span><span class="line"><span class="cl"><span class="c1"># How does this system handle panics?</span></span></span></code></pre></div>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer2 ~<span class="o">]</span><span class="c1"># sysctl -a | grep -i panic</span>
</span></span><span class="line"><span class="cl">kernel.hardlockup_panic <span class="o">=</span> <span class="m">1</span>
</span></span><span class="line"><span class="cl">kernel.hung_task_panic <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">kernel.max_rcu_stall_to_panic <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">kernel.panic <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">kernel.panic_on_io_nmi <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">kernel.panic_on_oops <span class="o">=</span> <span class="m">1</span>
</span></span><span class="line"><span class="cl">kernel.panic_on_rcu_stall <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">kernel.panic_on_unrecovered_nmi <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">kernel.panic_on_warn <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">kernel.panic_print <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">kernel.softlockup_panic <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">kernel.unknown_nmi_panic <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">vm.panic_on_oom <span class="o">=</span> <span class="m">0</span></span></span></code></pre></div>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@hammer2 ~<span class="o">]</span><span class="c1"># sysctl -a | grep -i crypto</span></span></span></code></pre></div>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">crypto.fips_enabled <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">crypto.fips_name <span class="o">=</span> Rocky Linux <span class="m">9</span> - Kernel Cryptographic API
</span></span><span class="line"><span class="cl">crypto.fips_version <span class="o">=</span> 5.14.0-427.18.1.el9_4.x86_64
</span></span><span class="line"><span class="cl"><span class="c1"># What are the settings you see? Is FIPS enabled? NO</span>
</span></span><span class="line"><span class="cl"><span class="c1"># TODO Read about FIPS</span></span></span></code></pre></div>



<h4 id="todo">
  <a class="Heading-link u-clickable" href="/techblog/post/psc2/#todo">TODO</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cat /proc/cmdline
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">cat /proc/cmdline
</span></span><span class="line"><span class="cl"><span class="nv">initrd</span><span class="o">=</span>initramfs  rd.neednet<span class="o">=</span><span class="m">1</span> <span class="nv">root</span><span class="o">=</span>wwinit wwinit.container<span class="o">=</span>http://192.168.200.25:9873/provision/96:96:7f:c7:80:f7?assetkey<span class="o">=</span><span class="p">&amp;</span><span class="nv">uuid</span><span class="o">=</span>6e139023-6602-20e9-6e9b-cd87a1be8649<span class="p">&amp;</span><span class="nv">stage</span><span class="o">=</span>container<span class="p">&amp;</span><span class="nv">compress</span><span class="o">=</span>gz wwinit.system<span class="o">=</span>http://192.168.200.25:9873/provision/96:96:7f:c7:80:f7?assetkey<span class="o">=</span><span class="p">&amp;</span><span class="nv">uuid</span><span class="o">=</span>6e139023-6602-20e9-6e9b-cd87a1be8649<span class="p">&amp;</span><span class="nv">stage</span><span class="o">=</span>system<span class="p">&amp;</span><span class="nv">compress</span><span class="o">=</span>gz wwinit.runtime<span class="o">=</span>http://192.168.200.25:9873/provision/96:96:7f:c7:80:f7?assetkey<span class="o">=</span><span class="p">&amp;</span><span class="nv">uuid</span><span class="o">=</span>6e139023-6602-20e9-6e9b-cd87a1be8649<span class="p">&amp;</span><span class="nv">stage</span><span class="o">=</span>runtime<span class="p">&amp;</span><span class="nv">compress</span><span class="o">=</span>gz <span class="nv">init</span><span class="o">=</span>/init <span class="nv">wwid</span><span class="o">=</span>96:96:7f:c7:80:f7 quiet <span class="nv">crashkernel</span><span class="o">=</span>no <span class="nv">vga</span><span class="o">=</span><span class="m">791</span> net.naming-scheme<span class="o">=</span>v238
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">fips-mode-setup --check
</span></span><span class="line"><span class="cl">sestatus
</span></span><span class="line"><span class="cl">cat /etc/selinux/config</span></span></code></pre></div>
<hr>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">V-257957
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Rule Title:
</span></span><span class="line"><span class="cl">RHEL <span class="m">9</span> must be configured to use TCP syncookies.
</span></span><span class="line"><span class="cl">Discussion:
</span></span><span class="line"><span class="cl">Denial of service <span class="o">(</span>DoS<span class="o">)</span> is a condition when a resource is not available <span class="k">for</span> legitimate users. When this occurs, the organization either cannot accomplish its mission or must operate at degraded capacity. 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Managing excess capacity ensures that sufficient capacity is available to counter flooding attacks. Employing increased capacity and service redundancy may reduce the susceptibility to some DoS attacks. Managing excess capacity may include, <span class="k">for</span> example, establishing selected usage priorities, quotas, or partitioning.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Satisfies: SRG-OS-000480-GPOS-00227, SRG-OS-000420-GPOS-00186, SRG-OS-000142-GPOS-00071
</span></span><span class="line"><span class="cl">Check Text:
</span></span><span class="line"><span class="cl">Verify RHEL <span class="m">9</span> is configured to use IPv4 TCP syncookies.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Determine <span class="k">if</span> syncookies are used with the following command:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Check the status of the kernel.perf_event_paranoid kernel parameter.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ sudo sysctl net.ipv4.tcp_syncookies
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">net.ipv4.tcp_syncookies <span class="o">=</span> <span class="m">1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Check that the configuration files are present to <span class="nb">enable</span> this kernel parameter.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ sudo /usr/lib/systemd/systemd-sysctl --cat-config <span class="p">|</span> egrep -v <span class="s1">&#39;^(#|;)&#39;</span> <span class="p">|</span> grep -F net.ipv4.tcp_syncookies <span class="p">|</span> tail -1
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">net.ipv4.tcp_syncookies <span class="o">=</span> <span class="m">1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">If the network parameter <span class="s2">&#34;ipv4.tcp_syncookies&#34;</span> is not equal to <span class="s2">&#34;1&#34;</span> or nothing is returned, this is a finding.
</span></span><span class="line"><span class="cl">Fix Text:
</span></span><span class="line"><span class="cl">Configure RHEL <span class="m">9</span> to use TCP syncookies.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Add or edit the following line in a system configuration file in the <span class="s2">&#34;/etc/sysctl.d/&#34;</span> directory:
</span></span><span class="line"><span class="cl"> net.ipv4.tcp_syncookies <span class="o">=</span> <span class="m">1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Load settings from all system configuration files with the following command:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ sudo sysctl --system</span></span></code></pre></div>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>root@hammer2 ~<span class="o">]</span><span class="c1"># sysctl -a | grep -i ipv4 | grep -i syncookies</span>
</span></span><span class="line"><span class="cl">net.ipv4.tcp_syncookies <span class="o">=</span> <span class="m">1</span></span></span></code></pre></div>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">V-257958
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Rule Title:
</span></span><span class="line"><span class="cl">RHEL <span class="m">9</span> must ignore Internet Protocol version <span class="m">4</span> <span class="o">(</span>IPv4<span class="o">)</span> Internet Control Message Protocol <span class="o">(</span>ICMP<span class="o">)</span> redirect messages.
</span></span><span class="line"><span class="cl">Discussion:
</span></span><span class="line"><span class="cl">ICMP redirect messages are used by routers to inform hosts that a more direct route exists <span class="k">for</span> a particular destination. These messages modify the host<span class="s1">&#39;s route table and are unauthenticated. An illicit ICMP redirect message could result in a man-in-the-middle attack.
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">This feature of the IPv4 protocol has few legitimate uses. It should be disabled unless absolutely required.
</span></span></span><span class="line"><span class="cl"><span class="s1">Check Text:
</span></span></span><span class="line"><span class="cl"><span class="s1">Verify RHEL 9 will not accept IPv4 ICMP redirect messages.
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">Check the value of the all &#34;accept_redirects&#34; variables with the following command:
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">$ sudo sysctl net.ipv4.conf.all.accept_redirects
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">net.ipv4.conf.all.accept_redirects = 0
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">If the returned line does not have a value of &#34;0&#34;, a line is not returned, or the line is commented out, this is a finding.
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">Check that the configuration files are present to enable this network parameter.
</span></span></span><span class="line"><span class="cl"><span class="s1">
</span></span></span><span class="line"><span class="cl"><span class="s1">$ sudo /usr/lib/systemd/systemd-sysctl --cat-config | egrep -v &#39;</span>^<span class="o">(</span><span class="c1">#|;)&#39; | grep -F net.ipv4.conf.all.accept_redirects | tail -1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">net.ipv4.conf.all.accept_redirects <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">If <span class="s2">&#34;net.ipv4.conf.all.accept_redirects&#34;</span> is not <span class="nb">set</span> to <span class="s2">&#34;0&#34;</span> or is missing, this is a finding.
</span></span><span class="line"><span class="cl">Fix Text:
</span></span><span class="line"><span class="cl">Configure RHEL <span class="m">9</span> to ignore IPv4 ICMP redirect messages.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Add or edit the following line in a single system configuration file, in the <span class="s2">&#34;/etc/sysctl.d/&#34;</span> directory:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">net.ipv4.conf.all.accept_redirects <span class="o">=</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Load settings from all system configuration files with the following command:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ sudo sysctl --system</span></span></code></pre></div>



<h4 id="answer-1">
  <a class="Heading-link u-clickable" href="/techblog/post/psc2/#answer-1">Answer</a>
</h4>
<ul>
<li>Not fully knowing the meaning of these parameters. I used ChatGPT to decipher</li>
</ul>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/psc2/#prolug-links-">ProLUG Links ⛓️</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG PSC Repo: <a href="https://github.com/ProfessionalLinuxUsersGroup/psc">https://github.com/ProfessionalLinuxUsersGroup/psc</a>
ProLUG PSC Book: <a href="https://professionallinuxusersgroup.github.io/psc/">https://professionallinuxusersgroup.github.io/psc/</a>
ProLUG Book of Labs: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/security/" rel="tag">Security</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/psc0/" rel="bookmark">ProLUG Security Engineering Course Intro🐧</a>
  </h1>
  
    <time datetime="2025-03-23T00:00:00Z">March 23, 2025</time>
  
</header>
      
        <h1 id="intro-">
  <a class="Heading-link u-clickable" href="/techblog/post/psc0/#intro-">Intro 👋</a>
</h1>
<p>I&rsquo;ve just started a new <strong>Security Engineering</strong> course created by Scott Champine through ProLUG. As a graduate of his <strong>Linux Administration</strong> course and an active contributor to the <strong>Professional Linux User Group</strong>, I felt compelled to make time for this new course—I&rsquo;ve learned a great deal from his teachings in the past.</p>



<h2 id="the-course">
  <a class="Heading-link u-clickable" href="/techblog/post/psc0/#the-course">The Course</a>
</h2>
<p>This is a deep dive into <strong>Enterprise Operational Security</strong>. That includes topics like <strong>compliance</strong>, <strong>threat management</strong>, and <strong>system integrity</strong>. I&rsquo;m also helping coordinate and develop a <strong>web-book</strong> to accompany the course.<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<p>While I already hold several cybersecurity certifications that cover conceptual frameworks and best practices, this course goes much deeper with <strong>hands-on labs</strong>. We harden systems with <strong>STIGs</strong>,<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup> monitor and detect activity on live systems, and troubleshoot compliance issues.</p>
<p>The course spans <strong>10 weeks</strong>, with an estimated <strong>100 hours</strong> of work to complete the weekly projects and the capstone.</p>
<hr>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/psc0/#prolug-links-">ProLUG Links ⛓️</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG PSC Repo: <a href="https://github.com/ProfessionalLinuxUsersGroup/psc">https://github.com/ProfessionalLinuxUsersGroup/psc</a>
ProLUG PSC Book: <a href="https://professionallinuxusersgroup.github.io/psc/">https://professionallinuxusersgroup.github.io/psc/</a>
ProLUG Book of Labs: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
<hr>



<h3 id="footnotes">
  <a class="Heading-link u-clickable" href="/techblog/post/psc0/#footnotes">Footnotes</a>
</h3>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>ProLUG Security Engineering Course Web-Book <a href="https://professionallinuxusersgroup.github.io/psc/intro.html">Web-Book</a> ProLUG, 2025.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>Secure Technical Implementation Guidelines DoD Cyber Exchange <a href="https://public.cyber.mil/stigs/">Website</a>&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/security/" rel="tag">Security</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/psc1/" rel="bookmark">ProLUG Security Engineering Course Unit 1</a>
  </h1>
  
    <time datetime="2025-03-23T00:00:00Z">March 23, 2025</time>
  
</header>
      
        <h1 id="intro-">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#intro-">Intro 👋</a>
</h1>
<p>I&rsquo;ve just started a new <strong>Security Engineering</strong> course created by Scott Champine through ProLUG. As a graduate of his <strong>Linux Administration</strong> course and an active contributor to the <strong>Professional Linux User Group</strong>, I felt compelled to make time for this new course—I&rsquo;ve learned a great deal from his teachings in the past.</p>
<hr>



<h2 id="worksheet">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#worksheet">Worksheet</a>
</h2>



<h3 id="discussion-post-1">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#discussion-post-1"><code>Discussion Post 1</code></a>
</h3>
<ul>
<li>What is Security?</li>
</ul>
<p><strong>Response:</strong></p>
<p>In regards to Cyber Security, Integrating protective measures throughout the system lifecycle to ensure the system maintains its mission/operational effectiveness, even in the presence of adversarial threats.</p>
<ul>
<li>Describe the CIA Triad.</li>
</ul>
<p><strong>Response:</strong></p>
<p>The <strong>CIA Triad</strong> is a core model in systems security engineering.</p>
<ol>
<li>
<p><strong>Confidentiality</strong> – Preventing unauthorized disclosure of system data or resources, often enforced through access control, encryption, and information flow policies.</p>
</li>
<li>
<p><strong>Integrity</strong> – Ensuring that system data and operations are not altered in an unauthorized or undetected way, including protection against both accidental and intentional modification.</p>
</li>
<li>
<p><strong>Availability</strong> – Ensuring reliable access to system services and resources when required, even under attack or component failure.</p>
</li>
</ol>
<ul>
<li>What is the relationship between Authority, Will, and Force as they relate to security?</li>
</ul>
<p><strong>Response:</strong></p>
<p>In systems security engineering:</p>
<ul>
<li>
<p><strong>Authority</strong> is derived from policy and design requirements—what the system <em>must</em> enforce according to mission objectives, laws, or standards.</p>
</li>
<li>
<p><strong>Will</strong> represents the commitment of system stakeholders to implement and maintain security measures.</p>
</li>
<li>
<p><strong>Force</strong> is the application of engineered mechanisms—technical, administrative, or procedural—that ensure security objectives are realized in practice.</p>
</li>
<li>
<p>What are the types of controls and how do they relate to the above question?</p>
</li>
</ul>
<p><strong>Response:</strong></p>
<p>In systems security engineering, <strong>controls</strong> are safeguards built into the system to achieve security objectives. They align with <strong>Authority, Will, and Force</strong> as follows:</p>
<ol>
<li><strong>Administrative Controls</strong> – Derived from organizational policy (Authority) and guide design, personnel roles, and security governance.</li>
<li><strong>Technical Controls</strong> – Engineered into the system as part of architecture and software/hardware features (Force), e.g., encryption, access enforcement, secure boot.</li>
<li><strong>Operational Controls</strong> – Rely on human procedures and configurations to maintain secure operations (Will and Force), such as patch management and monitoring.</li>
<li><strong>Physical Controls</strong> – Provide physical protection to system components (Force), e.g., secure facilities or tamper-evident hardware.</li>
</ol>
<hr>



<h3 id="discussion-post-2">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#discussion-post-2"><code>Discussion Post 2</code></a>
</h3>
<p>Intro to the scenario[^3]</p>
<p>Find a STIG or compliance requirement that you do not agree is necessary for a server or service build.</p>
<ol>
<li><strong>What is the STIG or compliance requirement trying to do?</strong></li>
</ol>
<p><code>Response</code>
The compliance requirement encourages users to set up automated CVE patch updates from trusted providers within a 24-hour timeframe.</p>
<ol start="2">
<li><strong>What category and type of control is it?</strong></li>
</ol>
<p><code>Response</code><br>
This STIG is an administrative control. Since it is not built into the system by default, it must be applied and managed manually.</p>
<ol start="3">
<li><strong>Defend why you think it is not necessary. (What type of defenses do you think you could present?)</strong></li>
</ol>
<p><code>Response</code>
Initially, I found it difficult to identify a STIG procedural that I disagreed with. However, after extensive review, I selected this one. I believe automated patching is not ideal, especially for production systems. Patches can introduce unexpected behaviors in dependent systems. Additionally, relying on automation can foster complacency or a lack of awareness over time.</p>



<h3 id="stig">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#stig">STIG</a>
</h3>

  

<pre tabindex="0"><code class="language-stig" data-lang="stig">
Apache Server 2.4 UNIX Server Security Technical Implementation Guide :: Version 3, Release: 2 Benchmark Date: 30 Jan 2025
Vul ID: V-214270           Rule ID: SV-214270r961683_rule           STIG ID: AS24-U1-000930       
Severity: CAT II           Classification: Unclass           Legacy IDs: V-92749; SV-102837

Group Title: SRG-APP-000456-WSR-000187

Rule Title: The Apache web server must install security-relevant software updates within the configured time period directed by an authoritative source (e.g., IAVM, CTOs, DTMs, and STIGs).

Discussion: Security flaws with software applications are discovered daily. Vendors are constantly updating and patching their products to address newly discovered security vulnerabilities. Organizations (including any contractor to the organization) are required to promptly install security-relevant software updates (e.g., patches, service packs, and hot fixes). Flaws discovered during security assessments, continuous monitoring, incident response activities, or information system error handling must also be addressed expeditiously.

The Apache web server will be configured to check for and install security-relevant software updates from an authoritative source within an identified time period from the availability of the update. By default, this time period will be every 24 hours.

Check Text: Determine the most recent patch level of the Apache Web Server 2.4 software, as posted on the Apache HTTP Server Project website. If the Apache installation is a proprietary installation supporting an application and is supported by a vendor, determine the most recent patch level of the vendor’s installation.

In a command line, type &#34;httpd -v&#34;.

If the version is more than one version behind the most recent patch level, this is a finding.</code></pre>
<hr>



<h3 id="definitions">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#definitions">Definitions</a>
</h3>
<ul>
<li><code>CIA Triad</code>: Core principles of security — Confidentiality, Integrity, and Availability — guiding protection of information systems.</li>
<li><code>Regulatory Compliance</code>: Adhering to laws and regulations governing data privacy, security, and operational practices.</li>
<li><code>HIPAA</code>: U.S. healthcare regulation enforcing privacy and security of patient health information. <a href="https://en.wikipedia.org/wiki/Health_Insurance_Portability_and_Accountability_Act">https://en.wikipedia.org/wiki/Health_Insurance_Portability_and_Accountability_Act</a></li>
<li><code>Industry Standards</code>: Best practices and technical guidelines agreed upon within specific industries to ensure consistency and security.</li>
<li><code>PCI/DSS</code>: Payment Card Industry Data Security Standard for protecting cardholder data during processing, storage, and transmission. <a href="https://en.wikipedia.org/wiki/Payment_Card_Industry_Data_Security_Standard">https://en.wikipedia.org/wiki/Payment_Card_Industry_Data_Security_Standard</a></li>
<li><code>Security Frameworks</code>: Structured guidelines for managing cybersecurity risks and controls within organizations. <a href="https://en.wikipedia.org/wiki/Information_security_management_system">https://en.wikipedia.org/wiki/Information_security_management_system</a></li>
<li><code>CIS</code>: Center for Internet Security provides globally recognized benchmarks and security controls. <a href="https://en.wikipedia.org/wiki/Center_for_Internet_Security">https://en.wikipedia.org/wiki/Center_for_Internet_Security</a></li>
<li><code>STIG</code>: Security Technical Implementation Guide — DoD configuration standards for securing IT systems and software. <a href="https://en.wikipedia.org/wiki/Security_Technical_Implementation_Guide">https://en.wikipedia.org/wiki/Security_Technical_Implementation_Guide</a></li>
</ul>



<h2 id="lab-">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#lab-">Lab 🧪🥼</a>
</h2>



<h2 id="signing-into-remote-host">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#signing-into-remote-host">Signing into Remote Host</a>
</h2>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">- sudo ssh mchammer@prolug.asuscomm.com
</span></span><span class="line"><span class="cl">- SecLab12#<span class="nv">$5</span></span></span></code></pre></div>



<h2 id="install-helpful-tooling">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#install-helpful-tooling">Install Helpful Tooling</a>
</h2>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">dnf install tmux vim -y</span></span></code></pre></div>



<h2 id="enter-tmux-for-nohup">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#enter-tmux-for-nohup">Enter tmux for <code>nohup</code></a>
</h2>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tmux</span></span></code></pre></div>



<h2 id="install-mariadb-server">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#install-mariadb-server">Install MariaDB Server</a>
</h2>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">dnf install mariadb-server
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Ensure that it is running</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">systemctl start mariadb
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">systemctl status mariadb
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">ss -ntulp <span class="p">|</span> grep <span class="m">3306</span></span></span></code></pre></div>



<h2 id="open-mariadb-cli">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#open-mariadb-cli">Open MariaDB CLI</a>
</h2>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-mariadb" data-lang="mariadb"><span class="line"><span class="cl"><span class="n">mariadb</span></span></span></code></pre></div>



<h2 id="remediating-v-253666">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#remediating-v-253666">Remediating V-253666</a>
</h2>



<h3 id="listing-users-and-max-connections">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#listing-users-and-max-connections">Listing Users and Max Connections:</a>
</h3>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-mariadb" data-lang="mariadb"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">mysql</span><span class="p">.</span><span class="k">user</span><span class="p">;</span></span></span></code></pre></div>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-mariadb" data-lang="mariadb"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="k">user</span><span class="p">,</span><span class="w"> </span><span class="n">max_user_connections</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">mysql</span><span class="p">.</span><span class="k">user</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">#Exit mariadb sub shell
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">exit</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">#Exit mariadb CLI
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">exit</span><span class="p">;</span></span></span></code></pre></div>
<hr>



<h2 id="answering-questions">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#answering-questions">Answering Questions</a>
</h2>



<h3 id="v-253677-stig">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#v-253677-stig">V-253677 STIG</a>
</h3>
<p><strong>Rule Title:</strong>
MariaDB must by default shut down upon audit failure, to include the unavailability of space for more audit log records; or must be configurable to shut down upon audit failure.</p>



<h3 id="what-is-the-problem">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#what-is-the-problem">What is the problem?</a>
</h3>
<p><strong>Discussion:</strong>
It is critical that when MariaDB is at risk of failing to process audit logs as required, an action is taken to mitigate the failure. Audit processing failures include software/hardware errors; failures in the audit capturing mechanisms; and audit storage capacity being reached or exceeded. Responses to audit failure depend upon the nature of the failure mode.
When the need for system availability does not outweigh the need for a complete audit trail, the DBMS should shut down immediately, rolling back all in-flight transactions.
Systems where audit trail completeness is paramount will most likely be at a lower MAC level than MAC I; the final determination is the prerogative of the application owner, subject to Authorizing Official concurrence. In any case, sufficient auditing resources must be allocated to avoid a shutdown in all but the most extreme situations.</p>



<h3 id="what-is-the-fix">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#what-is-the-fix">What is the fix?</a>
</h3>
<p><strong>Fix Text:</strong></p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-mariadb" data-lang="mariadb"><span class="line"><span class="cl"><span class="n">Modify</span><span class="w"> </span><span class="n">DBMS</span><span class="p">,</span><span class="w"> </span><span class="n">OS</span><span class="p">,</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">third</span><span class="o">-</span><span class="n">party</span><span class="w"> </span><span class="n">logging</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">alert</span><span class="w"> </span><span class="n">appropriate</span><span class="w"> </span><span class="n">personnel</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">specific</span><span class="w"> </span><span class="n">percentage</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">storage</span><span class="w"> </span><span class="n">capacity</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">reached</span><span class="p">.</span></span></span></code></pre></div>



<h3 id="what-type-of-control-is-being-implemented">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#what-type-of-control-is-being-implemented">What type of control is being implemented?</a>
</h3>
<p>The type of control being used here is a technical detective form of control</p>



<h3 id="is-it-set-properly-on-your-system">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#is-it-set-properly-on-your-system">Is it set properly on your system?</a>
</h3>



<h2 id="no-by-default-is-what-not-however-there-is-a-short-script-that-enables-logs-to-roll-over-and-given-a-lack-of-space">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#no-by-default-is-what-not-however-there-is-a-short-script-that-enables-logs-to-roll-over-and-given-a-lack-of-space">No, by default is what not. However, there is a short script that enables logs to roll over and given a lack of space.</a>
</h2>



<h3 id="v-253678-stig">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#v-253678-stig">V-253678 STIG</a>
</h3>
<p><strong>Rule Title:</strong>
MariaDB must be configurable to overwrite audit log records, oldest first (First-In-First-Out - FIFO), in the event of unavailability of space for more audit log records.</p>



<h3 id="what-is-the-problem-1">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#what-is-the-problem-1">What is the problem?</a>
</h3>
<p><strong>Discussion:</strong>
It is critical that when MariaDB is at risk of failing to process audit logs as required, it take action to mitigate the failure. Audit processing failures include software/hardware errors; failures in the audit capturing mechanisms; and audit storage capacity being reached or exceeded. Responses to audit failure depend upon the nature of the failure mode.
When availability is an overriding concern, approved actions in response to an audit failure are as follows:
(i) If the failure was caused by the lack of audit record storage capacity, the DBMS must continue generating audit records, if possible (automatically restarting the audit service if necessary), overwriting the oldest audit records in a first-in-first-out manner.
(ii) If audit records are sent to a centralized collection server and communication with this server is lost or the server fails, the DBMS must queue audit records locally until communication is restored or until the audit records are retrieved manually. Upon restoration of the connection to the centralized collection server, action should be taken to synchronize the local audit data with the collection server.
Systems where availability is paramount will most likely be MAC I; the final determination is the prerogative of the application owner, subject to Authorizing Official concurrence. In any case, sufficient auditing resources must be allocated to avoid audit data loss in all but the most extreme situations.</p>



<h3 id="what-is-the-fix-1">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#what-is-the-fix-1">What is the fix?</a>
</h3>
<p><strong>Fix Text:</strong></p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-mariadb" data-lang="mariadb"><span class="line"><span class="cl"><span class="n">Establish</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">accompanying</span><span class="w"> </span><span class="n">tools</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">monitoring</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="n">disk</span><span class="w"> </span><span class="n">space</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">ensuring</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">sufficient</span><span class="w"> </span><span class="n">disk</span><span class="w"> </span><span class="n">space</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">maintained</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">continue</span><span class="w"> </span><span class="n">generating</span><span class="w"> </span><span class="n">audit</span><span class="w"> </span><span class="n">logs</span><span class="p">,</span><span class="w"> </span><span class="n">overwriting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">oldest</span><span class="w"> </span><span class="n">existing</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">necessary</span><span class="p">.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">-</span><span class="w"> </span><span class="k">To</span><span class="w"> </span><span class="kt">set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">audit</span><span class="w"> </span><span class="n">logs</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">write</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">sylog</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">-</span><span class="w"> </span><span class="n">Edit</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mariadb</span><span class="o">-</span><span class="n">enterprise</span><span class="p">.</span><span class="n">cnf</span><span class="w"> </span><span class="n">file</span><span class="p">.</span><span class="w"> </span><span class="k">Add</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">under</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="p">[</span><span class="n">mariadb</span><span class="p">]</span><span class="w"> </span><span class="n">section</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">-</span><span class="w"> </span><span class="n">server_audit_output_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;syslog&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">-</span><span class="w"> </span><span class="n">After</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="p">.</span><span class="n">cnf</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">saved</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mariadb</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">restarted</span><span class="p">.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">-</span><span class="w"> </span><span class="k">If</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">writing</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">syslog</span><span class="p">,</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">rotation</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">purging</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="p">.</span></span></span></code></pre></div>



<h3 id="what-type-of-control-is-being-implemented-1">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#what-type-of-control-is-being-implemented-1">What type of control is being implemented?</a>
</h3>
<p>Also a technical detective control</p>



<h3 id="is-it-set-properly-on-your-system-1">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#is-it-set-properly-on-your-system-1">is it set properly on your system?</a>
</h3>
<hr>



<h3 id="v-253754">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#v-253754">V-253754</a>
</h3>



<h3 id="rule-title">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#rule-title"><strong>Rule Title:</strong></a>
</h3>
<p>MariaDB must generate audit records when security objects are modified.</p>



<h3 id="what-is-the-problem-2">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#what-is-the-problem-2">What is the Problem?</a>
</h3>
<p><strong>Discussion:</strong>
Changes in the database objects (tables, views, procedures, functions) that record and control permissions, privileges, and roles granted to users and roles must be tracked. Without an audit trail, unauthorized changes to the security subsystem could go undetected. The database could be severely compromised or rendered inoperative.</p>



<h3 id="what-is-the-fix-2">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#what-is-the-fix-2">What is the Fix?</a>
</h3>
<p><strong>Fix Text:</strong></p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-mariadb" data-lang="mariadb"><span class="line"><span class="cl"><span class="n">The</span><span class="w"> </span><span class="n">MariaDB</span><span class="w"> </span><span class="n">Enterprise</span><span class="w"> </span><span class="n">Audit</span><span class="w"> </span><span class="n">plugin</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">audit</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">changes</span><span class="p">.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">-</span><span class="w"> </span><span class="k">Update</span><span class="w"> </span><span class="n">necessary</span><span class="w"> </span><span class="n">audit</span><span class="w"> </span><span class="n">filters</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n">query_event</span><span class="w"> </span><span class="k">ALL</span><span class="p">.</span><span class="w"> </span><span class="n">Example</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">-</span><span class="w"> </span><span class="n">MariaDB</span><span class="o">&gt;</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">mysql</span><span class="p">.</span><span class="n">server_audit_filters</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">filtername</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;default&#39;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">-</span><span class="w"> </span><span class="n">MariaDB</span><span class="o">&gt;</span><span class="w"> </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">mysql</span><span class="p">.</span><span class="nf">server_audit_filters</span><span class="w"> </span><span class="p">(</span><span class="n">filtername</span><span class="p">,</span><span class="w"> </span><span class="n">rule</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nf">JSON_COMPACT</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="s1">&#39;{
</span></span></span><span class="line"><span class="cl"><span class="s1">          &#34;connect_event&#34;: [
</span></span></span><span class="line"><span class="cl"><span class="s1">             &#34;CONNECT&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s1">             &#34;DISCONNECT&#34;
</span></span></span><span class="line"><span class="cl"><span class="s1">          ],
</span></span></span><span class="line"><span class="cl"><span class="s1">          &#34;query_event&#34;: [
</span></span></span><span class="line"><span class="cl"><span class="s1">              &#34;ALL&#34;
</span></span></span><span class="line"><span class="cl"><span class="s1">          ]
</span></span></span><span class="line"><span class="cl"><span class="s1">       }&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">));</span></span></span></code></pre></div>



<h3 id="what-type-of-control-is-being-implemented-2">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#what-type-of-control-is-being-implemented-2">What type of control is being implemented?</a>
</h3>
<p>Also a technical and detective form of control here.</p>



<h3 id="is-it-set-properly-on-your-system-2">
  <a class="Heading-link u-clickable" href="/techblog/post/psc1/#is-it-set-properly-on-your-system-2">is it set properly on your system?</a>
</h3>
<p>Not by default, however this was setup on a remote server.</p>
<hr>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/security/" rel="tag">Security</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/go25/" rel="bookmark">My 2025 Learning Plan</a>
  </h1>
  
    <time datetime="2025-02-07T00:00:00Z">February 7, 2025</time>
  
</header>
      
        <h1 id="where-to-start">
  <a class="Heading-link u-clickable" href="/techblog/post/go25/#where-to-start">Where to start</a>
</h1>
<p>I am a generally curious person who enjoys learning new things. However, the shear volume of information available can lead to feeling overwhelmed, distracted and aimless.
From years of experience being an auto-didact, I have honed my craft of self directed study. Now, I create a solid learning plan that keeps me on track and feeling a sense of achievement.
A learning plan is a personal roadmap that outlines what to learn, how to learn it and when to reach certain milestones. I start with goals and work my way backwards from there.</p>



<h1 id="2025">
  <a class="Heading-link u-clickable" href="/techblog/post/go25/#2025">2025</a>
</h1>
<p>If I am to state my purpose simply
Will be the year I:</p>
<ul>
<li>Get advanced with GO programming by writing several useful programs.</li>
<li>Learn Kubernenets and prove that knowledge with a Certification</li>
<li>Get comfy with Ansible</li>
<li>Get JLPT N5 Certified in Japanese Language</li>
</ul>



<h2 id="footnotes">
  <a class="Heading-link u-clickable" href="/techblog/post/go25/#footnotes">Footnotes</a>
</h2>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/planning/" rel="tag">Planning</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/project-management/" rel="tag">Project Management</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/rsembedd1/" rel="bookmark">Embedded Rust? 🦀</a>
  </h1>
  
    <time datetime="2025-01-12T00:00:00Z">January 12, 2025</time>
  
</header>
      
        <h1 id="yes">
  <a class="Heading-link u-clickable" href="/techblog/post/rsembedd1/#yes">Yes</a>
</h1>
<p>Firstly Rust on Embedded is a different beast as the standard library is not used and memory safety is not on by default. However, there are still some advantages over a popular language like C or C++. <strong>HAL</strong> or Hardware Abstraction Layer separates the hardware from the code enabling more portable software that can compile to multiple architectures. Cargo improves development ergonomic by creating and managing the project and its dependancies. Thirdly, the build system is unified across platforms, so code will compile on Windows, Mac and Linux in the same way.
Rust on embedded systems is a different challenge, as it does not use the standard library, and memory safety is not enabled by default. However, it still offers several advantages over popular languages like C or C++.
One key benefit is the Hardware Abstraction Layer (HAL), which separates hardware-specific details from the code, enabling more portable software that can compile across multiple architectures. Additionally, Cargo enhances development ergonomics by simplifying project and dependency management.
Lastly, Rust’s unified build system ensures consistent behavior across platforms, allowing code to compile seamlessly on Windows, macOS, and Linux.</p>



<h2 id="hal-">
  <a class="Heading-link u-clickable" href="/techblog/post/rsembedd1/#hal-">HAL 🪢</a>
</h2>
<p>Is really interesting, it is the concept of mapping hardware and storing the map for API access.
HAL leverages Peripheral Access Crates (PACs), which are auto-generated Rust crates representing the registers and bitfields of a microcontroller. PACs allow safe and direct access to hardware registers while ensuring Rust’s strict type-checking and ownership rules are followed. HAL sits on top of PACs, abstracting these low-level details.
Rust embedded HALs adhere to the embedded-hal traits—a collection of interfaces defining common operations like GPIO pin control, SPI/I2C communication, timers, and ADC usage. By implementing these traits, HAL provides a uniform way to interact with hardware, regardless of the underlying platform.
HAL abstracts device-specific features into a user-friendly API. For example:</p>
<ul>
<li>Configuring a GPIO pin involves selecting its mode (input, output, pull-up, etc.) without directly modifying hardware registers.</li>
<li>Communication protocols like SPI or I2C are exposed through easy-to-use Rust methods (read, write, transfer, etc.).</li>
</ul>



<h2 id="cargo-">
  <a class="Heading-link u-clickable" href="/techblog/post/rsembedd1/#cargo-">Cargo 📦</a>
</h2>
<p>Cargo handles dependencies seamlessly using Cargo.toml. Developers specify libraries (called “crates”) with version constraints, and Cargo fetches and builds them automatically.
Cargo:</p>
<ul>
<li>Ensures reproducible builds by generating a Cargo.lock file that locks dependency versions.</li>
<li>Community-driven ecosystem (e.g., crates.io) simplifies finding and using high-quality, maintained libraries.</li>
</ul>



<h3 id="managing-dependancies--with-cargotoml">
  <a class="Heading-link u-clickable" href="/techblog/post/rsembedd1/#managing-dependancies--with-cargotoml">Managing Dependancies ⚙️ with Cargo.toml</a>
</h3>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="p">[</span><span class="nx">dependencies</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">embedded-hal</span> <span class="p">=</span> <span class="s2">&#34;0.2.6&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nx">stm32f4xx-hal</span> <span class="p">=</span> <span class="s2">&#34;0.14&#34;</span></span></span></code></pre></div>



<h3 id="cross-compilation-support-is-integrated-via-targets-">
  <a class="Heading-link u-clickable" href="/techblog/post/rsembedd1/#cross-compilation-support-is-integrated-via-targets-">Cross-compilation support is integrated via targets 🎯</a>
</h3>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cargo build --target thumbv7em-none-eabihf</span></span></code></pre></div>



<h3 id="enforced-project-structure-">
  <a class="Heading-link u-clickable" href="/techblog/post/rsembedd1/#enforced-project-structure-">Enforced project Structure 👮‍♂️</a>
</h3>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">my_project/
</span></span><span class="line"><span class="cl">├── Cargo.toml       <span class="c1"># Dependencies &amp; configuration</span>
</span></span><span class="line"><span class="cl">└── src/
</span></span><span class="line"><span class="cl">    └── main.rs      <span class="c1"># Application entry point</span></span></span></code></pre></div>



<h2 id="cross-platform--">
  <a class="Heading-link u-clickable" href="/techblog/post/rsembedd1/#cross-platform--">Cross Platform 💻 💼</a>
</h2>
<ul>
<li>Tools like probe-rs allow seamless debugging and flashing of embedded devices on multiple platforms (Linux, macOS, Windows).</li>
<li>The cargo ecosystem integrates testing, building, and dependency management across platforms without additional tools.</li>
</ul>



<h2 id="experienced-embedded-devs-are-switching">
  <a class="Heading-link u-clickable" href="/techblog/post/rsembedd1/#experienced-embedded-devs-are-switching">Experienced Embedded Devs are switching</a>
</h2>
<p>I was first made aware of Rust for embedded by experienced devs on Youtube who proclaimed their love of rust over C for professional projects. Channels like:
<a href="https://www.youtube.com/@therustybits">https://www.youtube.com/@therustybits</a>
<a href="https://www.youtube.com/@JaJakubYT">https://www.youtube.com/@JaJakubYT</a>
<a href="https://www.youtube.com/@floodplainnl">https://www.youtube.com/@floodplainnl</a>
<a href="https://www.youtube.com/@embedded-rust">https://www.youtube.com/@embedded-rust</a></p>
<p>are all claiming that they have switched over and are not looking back.</p>



<h2 id="personal-development">
  <a class="Heading-link u-clickable" href="/techblog/post/rsembedd1/#personal-development">Personal Development</a>
</h2>
<p>I’m writing this post as I plan to develop hardware projects using Rust for embedded systems. The combination of Rust and RISC-V microcontrollers is a particularly exciting intersection. In my sights are the ESP32-C3 and Raspberry Pi Pico 2, both of which I’m considering for upcoming projects. Instead of dealing with messy C, slow MicroPython, or the limitations of TinyGo, Rust allows me to create clean and performant projects—something I always strive for. Stay tuned for more updates!</p>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/rust/" rel="tag">Rust</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/embedded/" rel="tag">Embedded</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/development/" rel="tag">Development</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
  

  
  <nav>
    
      <a class="Pagination u-clickable" href="/techblog/page/2/" rel="prev">« Previous</a>
    
    
  </nav>




      </div>
    </div>
  </main>
  
</body>

</html>
