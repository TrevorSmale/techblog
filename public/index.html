<!DOCTYPE html>
<html lang="en-us">

<head><script src="/techblog/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=techblog/livereload" data-no-instant defer></script>
  

  
  


  <meta charset="utf-8">



<meta name="viewport" content="width=device-width, initial-scale=1.0">


  
    
  


<meta name="color-scheme" content="light dark">







<meta name="generator" content="Hugo 0.139.5">
  <title>Tech Blog</title>
  <link rel="canonical" href="http://localhost:1313/techblog/">




  <link rel="alternate" href="/techblog/feed.xml" type="application/rss+xml">

  








  

  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  
    
    
    
      
      
    
    
    
  


  
    <link rel="stylesheet" href="/techblog/css/base.css">

    <link rel="stylesheet" href="/techblog/css/syntax.css">



</head>

<body>
  <nav class="u-background">
  <div class="u-wrapper">
    <ul class="Banner">
      <li class="Banner-item Banner-item--title">
        <a class="Banner-link u-clickable" href="/techblog/">Tech Blog</a>
      </li>
      
        
        
        <li class="Banner-item">
          <a class="Banner-link u-clickable" href="/techblog/about/">About</a>
        </li>
      
        
        
        <li class="Banner-item">
          <a class="Banner-link u-clickable" href="/techblog/post/">Posts</a>
        </li>
      
        
        
        <li class="Banner-item">
          <a class="Banner-link u-clickable" href="/techblog/tags/">Tags</a>
        </li>
      
        
        
        <li class="Banner-item">
          <a class="Banner-link u-clickable" href="/techblog/categories/">Categories</a>
        </li>
      
        
        
          
        
        <li class="Banner-item">
          <a class="Banner-link u-clickable" href="/techblog/feed.xml">RSS</a>
        </li>
      
    </ul>
  </div>
</nav>

  <main>
    <div class="u-wrapper">
      <div class="u-padding">
        

  
    <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/" rel="bookmark">Tech Blog</a>
  </h1>
  
    <time datetime="2024-12-17T00:00:00Z">December 17, 2024</time>
  
</header>
  

  

  
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/pacu14/" rel="bookmark">ProLUG Admin Course Unit 14 üêß</a>
  </h1>
  
    <time datetime="2024-12-17T00:00:00Z">December 17, 2024</time>
  
</header>
      
        <h1 id="ansible-automation">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#ansible-automation">Ansible Automation</a>
</h1>
<p>Ansible is an open-source automation tool used for configuration management, application deployment, and IT orchestration, enabling tasks to be executed on multiple systems simultaneously without the need for agents. It uses simple YAML-based playbooks and SSH for communication, making it efficient and easy to learn for managing infrastructure.</p>
<hr>



<h2 id="discussion-post-1">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#discussion-post-1">Discussion Post 1:</a>
</h2>
<p>Refer to your Unit 5 scan of the systems. You know that Ansible
is a tool that you want to maintain in the environment. Review this online documentation:
<a href="https://docs.ansible.com/ansible/latest/inventory_guide/intro_inventory.html">https://docs.ansible.com/ansible/latest/inventory_guide/intro_inventory.html</a></p>



<h3 id="make-an-inventory-of-the-servers-grouped-any-way-you-like">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#make-an-inventory-of-the-servers-grouped-any-way-you-like">Make an inventory of the servers, grouped any way you like.</a>
</h3>



<h3 id="what-format-did-you-choose-to-use-for-your-inventory">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#what-format-did-you-choose-to-use-for-your-inventory">What format did you choose to use for your inventory?</a>
</h3>



<h3 id="what-other-things-might-you-include-later-in-your-inventory-to-make-it-more-useful">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#what-other-things-might-you-include-later-in-your-inventory-to-make-it-more-useful">What other things might you include later in your inventory to make it more useful?</a>
</h3>
<hr>



<h2 id="discussion-post-2">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#discussion-post-2">Discussion Post 2:</a>
</h2>
<p>You have been noticing drift on your server configurations, so
you want a way to generate a report on them every day to validate the configurations are the
same.</p>
<ul>
<li>Use any lab in here to find ideas: <a href="https://killercoda.com/het-tanis/course/Ansible-">https://killercoda.com/het-tanis/course/Ansible-</a>
Labs Use this webhook to send your relevant data out to our sandbox.
<a href="https://discord.com/api/webhooks/1317659221604433951/uyKpuq8fNNNSEyCra4n33PakI">https://discord.com/api/webhooks/1317659221604433951/uyKpuq8fNNNSEyCra4n33PakI</a>
Bk-XtTn1WrwTpHs9BcgkIu7URPV_Gd5HJCRX0_EJVUT</li>
</ul>
<hr>



<h2 id="discussion-post-3">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#discussion-post-3">Discussion Post 3:</a>
</h2>
<p>Using ansible module for git, pull down this repo:
<a href="https://github.com/het-tanis/HPC_Deploy.git">https://github.com/het-tanis/HPC_Deploy.git</a></p>



<h3 id="how-is-the-repo-setup">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#how-is-the-repo-setup">How is the repo setup?</a>
</h3>



<h3 id="what-is-in-the-roles-directory">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#what-is-in-the-roles-directory">What is in the roles directory?</a>
</h3>



<h3 id="how-are-these-playbooks-called-and-how-do-roles-differ-from-tasks">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#how-are-these-playbooks-called-and-how-do-roles-differ-from-tasks">How are these playbooks called, and how do roles differ from tasks?</a>
</h3>
<hr>



<h2 id="digging-deeper">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#digging-deeper">Digging Deeper</a>
</h2>



<h3 id="i-have-a-large-amount-of-labs-to-get-you-started-on-your-ansible-journey-all-free">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#i-have-a-large-amount-of-labs-to-get-you-started-on-your-ansible-journey-all-free">I have a large amount of labs to get you started on your Ansible Journey (all free):</a>
</h3>
<p><a href="https://killercoda.com/het-tanis/course/Ansible-Labs">https://killercoda.com/het-tanis/course/Ansible-Labs</a></p>



<h3 id="find-projects-from-our-channel-ansible-code-in-discord-and-find-something-that-is">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#find-projects-from-our-channel-ansible-code-in-discord-and-find-something-that-is">Find projects from our channel Ansible-Code, in Discord and find something that is</a>
</h3>
<p>interesting to you.</p>



<h3 id="use-ansible-to-access-secrets-from-hashicorp-vault-httpskillercodacomhet-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#use-ansible-to-access-secrets-from-hashicorp-vault-httpskillercodacomhet-">Use Ansible to access secrets from Hashicorp Vault: <a href="https://killercoda.com/het-">https://killercoda.com/het-</a></a>
</h3>
<p>tanis/course/Hashicorp-Labs/004-vault-read-secrets-ansible</p>
<hr>



<h1 id="lab-work-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#lab-work-">Lab Work üß™</a>
</h1>



<h3 id="create-an-inventory">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#create-an-inventory">Create an inventory:</a>
</h3>
<ol>
<li>While still in the /root/ansible_madness directory, create a file hosts
vi /root/ansible_madness/hosts
Populate the file as follows</li>
</ol>
<p>[servers]</p>
<ul>
<li>192.168.200.101</li>
<li>192.168.200.102</li>
<li>192.168.200.103</li>
</ul>
<p>Run Ad Hoc commands against your servers
This will test your connection into all the servers.</p>



<h3 id="1-ansible-servers--i-hosts--u-inmate--k--m-shell--a-uptime">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#1-ansible-servers--i-hosts--u-inmate--k--m-shell--a-uptime">1. ansible servers -i hosts -u inmate -k -m shell -a uptime</a>
</h3>
<p>Use this password: LinuxR0cks1!</p>
<p>Do the same thing, but this time be verbose</p>



<h3 id="2-ansible--vvv-servers--i-hosts--u-inmate--k--m-shell--a-uptime">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#2-ansible--vvv-servers--i-hosts--u-inmate--k--m-shell--a-uptime">2. ansible -vvv servers -i hosts -u inmate -k -m shell -a uptime</a>
</h3>
<p>Create a playbook to push over files.</p>



<h3 id="3-echo-this-is-my-file-yourname--somefile">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#3-echo-this-is-my-file-yourname--somefile">3. echo &ldquo;This is my file <!-- raw HTML omitted -->&rdquo; &gt; somefile</a>
</h3>



<h3 id="4-vi-deployyaml">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#4-vi-deployyaml">4. vi deploy.yaml</a>
</h3>
<p>Populate it as follows:</p>
<pre><code>name: Start of push playbook

hosts: servers
vars:
gather_facts: True
become: False
tasks:
name: Copy somefile over at {{ ansible_date_time.iso8601_basic_short }}
copy:
src: /root/ansible_madness/somefile
dest: /tmp/somefile.txt
</code></pre>



<h3 id="5-execute-your-playbook">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#5-execute-your-playbook">5. Execute your playbook</a>
</h3>
<p>ansible-playbook -i hosts -k deploy.yaml</p>



<h3 id="6-verify-that-your-file-pushed-everywhere">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#6-verify-that-your-file-pushed-everywhere">6. Verify that your file pushed everywhere</a>
</h3>
<p>ansible servers -i hosts -u inmate -k -m shell -a ‚Äúls -l /tmp/somefile‚Äù
Pull down a github repo</p>
<ol>
<li>git clone <a href="https://github.com/het-tanis/HPC_Deploy.git">https://github.com/het-tanis/HPC_Deploy.git</a>
cd HPC_Deploy
What do you see in here?
What do you need to learn about more to deploy some of these tools?
Can you execute some of these, why or why not?</li>
</ol>
<hr>



<h2 id="reflection-questions">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#reflection-questions">Reflection Questions</a>
</h2>
<ol>
<li>
<p>What questions do you still have about this week?</p>
</li>
<li>
<p>How can you apply this now in your current role in IT? If you‚Äôre not in IT, how can you
look to put something like this into your resume or portfolio?</p>
</li>
</ol>
<hr>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu14/#prolug-links-">ProLUG Links ‚õìÔ∏è</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG Book: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/operating-systems/" rel="tag">Operating Systems</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/declaritive/" rel="tag">Declaritive</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/configuration/" rel="tag">Configuration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/ansible/" rel="tag">Ansible</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/iac/" rel="tag">IaC</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/pacu13/" rel="bookmark">ProLUG Admin Course Unit 13 üêß</a>
  </h1>
  
    <time datetime="2024-12-15T00:00:00Z">December 15, 2024</time>
  
</header>
      
        <h1 id="system-hardening">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#system-hardening">System Hardening</a>
</h1>
<p>Linux system hardening involves securing the system by reducing its attack surface through measures such as disabling unnecessary services, enforcing access controls, applying security patches, and using tools like OpenSCAP, STIG compliance frameworks, or the OSCAP Scanner. These tools help automate security audits, enforce compliance standards, and identify vulnerabilities to enhance system security.</p>
<hr>



<h2 id="discussion-post-1">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#discussion-post-1">Discussion Post 1:</a>
</h2>
<p>Your security team comes to you with a discrepancy between
the production security baseline and something that is running on one of your servers in
production. There are 5 servers in a web cluster and only one of them is showing this
behavior. They want you to account for why something is different.</p>



<h3 id="how-are-you-going-to-validate-that-the-difference-between-the-systems">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#how-are-you-going-to-validate-that-the-difference-between-the-systems">How are you going to validate that the difference between the systems?</a>
</h3>



<h3 id="what-are-you-going-to-look-at-to-explain-this">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#what-are-you-going-to-look-at-to-explain-this">What are you going to look at to explain this?</a>
</h3>



<h3 id="what-could-be-done-to-prevent-this-problem-in-the-future">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#what-could-be-done-to-prevent-this-problem-in-the-future">What could be done to prevent this problem in the future?</a>
</h3>
<hr>



<h2 id="discussion-post-2">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#discussion-post-2">Discussion Post 2:</a>
</h2>
<p>Your team has been giving you more and more engineering
responsibilities. You are being asked to build out the next set of servers to integrate into the
development environment. Your team is going from RHEL 8 to Rocky 9.4.</p>



<h3 id="how-might-you-start-to-plan-out-your-migration">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#how-might-you-start-to-plan-out-your-migration">How might you start to plan out your migration?</a>
</h3>



<h3 id="what-are-you-going-to-check-on-the-existing-systems-to-baseline-your-build">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#what-are-you-going-to-check-on-the-existing-systems-to-baseline-your-build">What are you going to check on the existing systems to baseline your build?</a>
</h3>



<h3 id="what-kind-of-validation-plan-might-you-use-for-your-new-rocky-94-systems">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#what-kind-of-validation-plan-might-you-use-for-your-new-rocky-94-systems">What kind of validation plan might you use for your new Rocky 9.4 systems?</a>
</h3>
<hr>



<h2 id="digging-deeper">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#digging-deeper">Digging Deeper</a>
</h2>
<ol>
<li>Run through this lab: <a href="https://killercoda.com/het-tanis/course/Linux-Labs/107-server-startup-process">https://killercoda.com/het-tanis/course/Linux-Labs/107-server-startup-process</a> üëç</li>
</ol>



<h3 id="how-does-this-help-you-better-understand-the-discussion-13-2-question">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#how-does-this-help-you-better-understand-the-discussion-13-2-question">How does this help you better understand the discussion 13-2 question?</a>
</h3>
<p>Well when I am gathering a picture of my current security baseline, I can use some of these tools like dmesg and ss to see what possible attack surface I may have.</p>
<ol start="2">
<li>Run through this lab: <a href="https://killercoda.com/het-tanis/course/Linux-Labs/203-updating-golden-image">https://killercoda.com/het-tanis/course/Linux-Labs/203-updating-golden-image</a> üëç</li>
</ol>



<h3 id="how-does-this-help-you-better-understand-the-process-of-hardening-systems">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#how-does-this-help-you-better-understand-the-process-of-hardening-systems">How does this help you better understand the process of hardening systems?</a>
</h3>
<hr>



<h2 id="reflection-questions">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#reflection-questions">Reflection Questions</a>
</h2>
<ol>
<li>
<p>What questions do you still have about this week?</p>
</li>
<li>
<p>How can you apply this now in your current role in IT? If you‚Äôre not in IT, how can you
look to put something like this into your resume or portfolio?</p>
</li>
</ol>
<hr>



<h1 id="lab-work-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#lab-work-">Lab Work üß™</a>
</h1>



<h3 id="1-you-will-scan-a-server-for-a-scc-report-and-get-a-stig-score">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#1-you-will-scan-a-server-for-a-scc-report-and-get-a-stig-score">1. You will scan a server for a SCC Report and get a STIG Score</a>
</h3>



<h3 id="2-you-will-remediate-some-of-the-items-from-the-scan">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#2-you-will-remediate-some-of-the-items-from-the-scan">2. You will remediate some of the items from the scan</a>
</h3>



<h3 id="3-you-will-rescan-and-verify-a-better-score">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#3-you-will-rescan-and-verify-a-better-score">3. You will rescan and verify a better score.</a>
</h3>
<hr>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu13/#prolug-links-">ProLUG Links ‚õìÔ∏è</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG Book: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/operating-systems/" rel="tag">Operating Systems</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/stig/" rel="tag">STIG</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/system-hardening/" rel="tag">System Hardening</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/pacu12/" rel="bookmark">ProLUG Admin Course Unit 12 üêß</a>
  </h1>
  
    <time datetime="2024-11-30T00:00:00Z">November 30, 2024</time>
  
</header>
      
        <h1 id="baselining--benchmarking">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#baselining--benchmarking">Baselining &amp; Benchmarking</a>
</h1>
<p>The purpose of a baseline is not to find fault, load, or to take corrective action. A baseline simply
determines what is. You must know what is so that you can test against that when you make a change to
be able to objectively say there was or wasn&rsquo;t an improvement. You must know where you are at to be
able to properly plan where you are going. A poor baseline assessment, because of inflated numbers or
inaccurate testing, does a disservice to the rest of your project. You must accurately draw the first line
and understand your system&rsquo;s performance.</p>
<hr>



<h2 id="discussion-post-1">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#discussion-post-1">Discussion Post 1:</a>
</h2>
<p>Your manager has come to you with another emergency. He has a meeting next week to discuss capacity planning and usage of the system with IT upper management. He doesn‚Äôt want to lose his budget, but he has to prove that the system utilization warrants spending more.</p>
<ul>
<li>What information can you show your manager from your systems?</li>
</ul>
<p>You could present your manager with a progressive trend graph showing time on the x-axis and several fields on the y-axis that represent changes from a baseline, assuming the necessary data has been collected. With this information, it would be possible to predict when various system resources will reach their maximum capacity.</p>
<ul>
<li>
<p>What type of data would prove system utilization? (Remember the big 4: compute, memory, disk, networking)</p>
<p>CPU load, process execution time, throughput.
Disk Operations (IOPS).
Networking Requests and Bandwidth.
RAM utilization, memory paging/swapping rates.</p>
</li>
<li>
<p>What would your report look like to your manager?</p>
</li>
</ul>



<h1 id="capacity-planning-report">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#capacity-planning-report">Capacity Planning Report</a>
</h1>
<p>Current and projected system utilization. By examining trends over time, we can predict when critical resources will reach their limits if no additional capacity is provisioned.</p>



<h2 id="key-areas-of-focus">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#key-areas-of-focus">Key Areas of Focus</a>
</h2>
<ol>
<li><strong>Compute Usage</strong></li>
<li><strong>Memory Load</strong></li>
<li><strong>Disk Resources</strong></li>
<li><strong>Networking Metrics</strong></li>
</ol>



<h2 id="historical-data-and-trends">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#historical-data-and-trends">Historical Data and Trends</a>
</h2>
<p>Below is a sample progressive trend graph over the last 6 months. The x-axis represents time (in weeks), while the y-axis shows percentage utilization relative to an established baseline.</p>
<p><strong>Example Metrics (relative to baseline):</strong></p>
<ul>
<li>
<p><strong>CPU Utilization (% of baseline)</strong></p>
</li>
<li>
<p><strong>Memory Load (% of baseline)</strong></p>
</li>
<li>
<p><strong>Disk IOPS (% of baseline)</strong></p>
</li>
<li>
<p><strong>Network Throughput (% of baseline)</strong></p>
<p>Time (Weeks):    1   2   3   4   5   6   ‚Ä¶   20   21   22
CPU Util(%):    50  52  55  57  60  62   ‚Ä¶   80   82   85
Memory(%):      45  47  50  50  52  55   ‚Ä¶   70   73   75
Disk IOPS(%):   30  32  35  36  38  40   ‚Ä¶   60   63   68
Network(%):     40  42  45  47  49  51   ‚Ä¶   75   78   80</p>
</li>
</ul>
<p>As time progresses, each of the key metrics is trending upward, indicating increasing load and approaching capacity thresholds.</p>



<h2 id="projections">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#projections">Projections</a>
</h2>
<p>We can estimate the ‚Äútime to ceiling‚Äù for critical resources. For instance, if CPU load is rising at an average rate of 2‚Äì3% per month, and we know that at 90% utilization the system will experience performance degradation.</p>
<p><strong>Projected Time to CPU Ceiling:</strong> 3‚Äì5 months<br>
<strong>Projected Time to Memory Ceiling:</strong> 6‚Äì8 months<br>
<strong>Projected Time to Disk IOPS Ceiling:</strong> 8‚Äì10 months<br>
<strong>Projected Time to Network Bandwidth Ceiling:</strong> 4‚Äì6 months</p>



<h2 id="recommendations">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#recommendations">Recommendations</a>
</h2>
<ul>
<li><strong>Compute</strong>: Consider adding more CPU cores or upgrading processors before reaching the predicted 90% utilization mark.</li>
<li><strong>Memory</strong>: Upgrade RAM or optimize applications to reduce memory footprint.</li>
<li><strong>Disk</strong>: Enhance disk subsystems or switch to faster storage (e.g., SSDs) to handle projected IOPS.</li>
<li><strong>Networking</strong>: Increase network capacity (e.g., from 1Gb to 10Gb links) or optimize network traffic.</li>
</ul>



<h2 id="conclusion">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#conclusion">Conclusion</a>
</h2>
<p>Investment in scaling resources now will prevent future performance bottlenecks, ensuring the system can continue to meet business demands effectively.</p>
<hr>



<h2 id="discussion-post-2">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#discussion-post-2">Discussion Post 2:</a>
</h2>
<p>You are in a capacity planning meeting with a few of the architects. They have decided to add 2 more agents to your Linux Sytems, Bacula Agent and an Avamar Agent . They expect these agents to run their work starting at 0400 every morning.</p>
<ul>
<li>What do these agents do? (May have to look them up)</li>
</ul>
<p>Bacula is an open-source suite of tools designed to automate backup tasks. It‚Äôs widely regarded for its flexibility and reliability. Dell Avamar, on the other hand, is a commercial backup automation solution. Both tools handle incremental backups using custom daemons that monitor changes over time, offering greater sophistication than simple scheduling systems like Cron. Additionally, they can manage backups across diverse, heterogeneous storage environments.</p>
<ul>
<li>Do you think there is a good reason not to use these agents at this timeframe?</li>
</ul>
<p>This approach is about balancing workload. If all processes start at a fixed time, they can consume valuable resources simultaneously. The best schedule depends on the environment. For example, if the environment experiences downtime‚Äîsuch as a traditional office setting‚Äîstarting backups at 4 a.m. might be fine. However, if services run around the clock, it‚Äôs better to stagger the tasks so they use only a fraction of the available resources at any given time. This approach also reduces the impact of failures, since not all systems are involved at once.</p>
<ul>
<li>Is there anything else you might want to point out to these architects about these agents they are installing?</li>
</ul>
<p>There are several factors architects should consider. However, in the context of this discussion, performance overhead is particularly relevant. They need to ensure that the chosen backup solutions won‚Äôt overburden the system‚Äôs resources and that there‚Äôs enough ‚Äúbreathing room‚Äù to maintain smooth operations.</p>
<hr>



<h2 id="discussion-post-3-todo">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#discussion-post-3-todo">Discussion Post 3: &lsquo;TODO&rsquo;</a>
</h2>
<p>Your team has recently tested at proof of concept of a new storage system. The vendor has published the blazing fast speeds that are capable of being run through this storage system. You have a set of systems connected to both the old storage system and the new storage system.</p>
<ul>
<li>Write up a test procedure of how you may test these two systems.</li>
</ul>
<p>I did a bit of research regarding tooling for such a task and found FIO &lsquo;Flexible Input / Output&rsquo;, a program written for the purpose of testing systems with various scenarios.
Rather than using BASH, I can run more comprehensive testing with more data to analyze using FIO.</p>



<h3 id="baseline-test">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#baseline-test">Baseline Test</a>
</h3>
<pre><code> fio --filename=/dev/new_storage_lun --direct=1 --rw=read --bs=128k --size=10G --numjobs=1 --iodepth=32 --runtime=300 --time_based --name=new_storage_seq_read
 fio --filename=/dev/old_storage_lun --direct=1 --rw=read --bs=128k --size=10G --numjobs=1 --iodepth=32 --runtime=300 --time_based --name=old_storage_seq_read
</code></pre>



<h3 id="running-mixed-workload-tests">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#running-mixed-workload-tests">Running Mixed Workload Tests</a>
</h3>
<pre><code> fio --filename=/dev/new_storage_lun --direct=1 --rw=randrw --rwmixread=70 --bs=4k --size=10G --numjobs=4 --iodepth=16 --runtime=300 --time_based --name=new_storage_mixed
</code></pre>



<h3 id="increased-concurrency-and-scale">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#increased-concurrency-and-scale">Increased Concurrency and Scale</a>
</h3>
<ul>
<li>
<p>Increase <code>numjobs</code> and <code>iodepth</code> in subsequent runs to measure how performance changes:</p>
<p>fio &ndash;filename=/dev/new_storage_lun &ndash;direct=1 &ndash;rw=read &ndash;bs=128k &ndash;size=10G &ndash;numjobs=8 &ndash;iodepth=64 &ndash;runtime=300 &ndash;time_based &ndash;name=new_storage_high_concurrency</p>
</li>
<li>
<p>Run the same tests on the old storage system and record all metrics.</p>
</li>
</ul>



<h3 id="stresssoak-tests">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#stresssoak-tests">Stress/Soak Tests</a>
</h3>
<ul>
<li>
<p>12-hour continuous I/O test on both storage systems.</p>
<p>fio &ndash;filename=/dev/new_storage_lun &ndash;direct=1 &ndash;rw=randwrite &ndash;bs=4k &ndash;size=100G &ndash;numjobs=1 &ndash;iodepth=32 &ndash;runtime=43200 &ndash;time_based &ndash;name=new_storage_soak</p>
</li>
</ul>



<h3 id="awk-line-parsing">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#awk-line-parsing">AWK Line Parsing</a>
</h3>
<p>I would then pipe the output of these commands to <strong>AWK</strong> to seperate out specific datapoints to append to files for full analysis.</p>
<ul>
<li>How are you assuring these test are objective?</li>
</ul>
<p>By gathering multiple datasets with varying run parameters, I can reduce statistical noise and better isolate data of interest by comparing these datasets against one another.</p>
<ul>
<li>What is meant by the term Ceteris Paribus, in this context?</li>
</ul>
<p>in the context of system benchmarking means that when measuring the performance of one specific aspect of the system, all other variables and conditions are kept constant. This approach ensures that any observed changes in performance can be attributed directly to the variable under test, rather than being influenced by unrelated fluctuations in the environment or system load.</p>
<hr>



<h2 id="definitions--terminology">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#definitions--terminology">Definitions &amp; Terminology</a>
</h2>
<p>Benchmark
High watermark
Scope
Methodology
Testing
Control
Experiment
Analytics</p>
<ul>
<li>Descriptive</li>
<li>Diagnostic</li>
<li>Predictive</li>
<li>Prescriptive</li>
</ul>



<h2 id="digging-deeper-optional">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#digging-deeper-optional">Digging Deeper (optional)</a>
</h2>
<ol>
<li>Analyzing data may open up a new field of interest to you. Go through some of the
free lessons on Kaggle, here: <a href="https://www.kaggle.com/learn">https://www.kaggle.com/learn</a></li>
</ol>
<p>a. What did you learn?</p>
<p>b. How will you apply these lessons to data and monitoring you have already
collected as a system administrator?</p>
<ol start="2">
<li>Find a blog or article that discusses the 4 types of data analytics.</li>
</ol>
<p>a. What did you learn about past operations?
b. What did you learn about predictive operations?</p>
<ol start="3">
<li>Download Spyder IDE (Open source)</li>
</ol>
<p>a. Find a blog post or otherwise try to evaluate some data.
b. Perform some Linear regression. My block of code (but this requires some
additional libraries to be added. I can help with that if you need it.)</p>
<p>import matplotlib.pyplot as plt</p>
<p>from sklearn.linear_model import LinearRegression</p>
<p>size = [[5.0], [5.5], [5.9], [6.3], [6.9], [7.5]]
price =[[165], [200], [223], [250], [278], [315]]
plt.title(&lsquo;Pizza Price plotted against the size&rsquo;)</p>
<p>plt.xlabel(&lsquo;Pizza Size in inches&rsquo;)</p>
<p>plt.ylabel(&lsquo;Pizza Price in cents&rsquo;)</p>
<p>plt.plot(size, price, &lsquo;k.&rsquo;)</p>
<p>plt.axis([5.0, 9.0, 99, 355])</p>
<p>plt.grid(True)</p>
<p>model = LinearRegression()</p>
<p>model.fit(X = size, y = price)</p>
<p>#plot the regression line</p>
<p>plt.plot(size, model.predict(size), color=&lsquo;r&rsquo;)</p>
<p>Reflection Questions</p>
<ol>
<li>
<p>What questions do you still have about this week?</p>
</li>
<li>
<p>How can you apply this now in your current role in IT? If you‚Äôre not in IT, how can you
look to put something like this into your resume or portfolio?</p>
</li>
</ol>
<hr>



<h2 id="digging-deeper">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#digging-deeper">Digging Deeper</a>
</h2>



<h4 id="1-read-the-rest-of-the-chapter-httpssregoogleworkbookmonitoring-and-note-anything-else-of-interest-when-it-comes-to-monitoring-and-dashboarding">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#1-read-the-rest-of-the-chapter-httpssregoogleworkbookmonitoring-and-note-anything-else-of-interest-when-it-comes-to-monitoring-and-dashboarding">1. Read the rest of the chapter <a href="https://sre.google/workbook/monitoring/">https://sre.google/workbook/monitoring/</a> and note anything else of interest when it comes to monitoring and dashboarding.</a>
</h4>



<h4 id="2-look-up-the-prolug-prometheus-certified-associate-prep-2024-in-resources---presentations-in-our-prolug-discord-study-that-for-a-deep-dive-into-prometheus">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#2-look-up-the-prolug-prometheus-certified-associate-prep-2024-in-resources---presentations-in-our-prolug-discord-study-that-for-a-deep-dive-into-prometheus">2. Look up the ‚ÄúProLUG Prometheus Certified Associate Prep 2024‚Äù in Resources -&gt; Presentations in our ProLUG Discord. Study that for a deep dive into Prometheus.</a>
</h4>



<h4 id="3-complete-the-project-section-of-monitoring-deep-dive-project-guide-from-the-prolug-projects-section-of-the-discord-we-have-a-youtube-video-on-that-project-as-well-httpswwwyoutubecomwatchv54vgghr99qg">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#3-complete-the-project-section-of-monitoring-deep-dive-project-guide-from-the-prolug-projects-section-of-the-discord-we-have-a-youtube-video-on-that-project-as-well-httpswwwyoutubecomwatchv54vgghr99qg">3. Complete the project section of ‚ÄúMonitoring Deep Dive Project Guide‚Äù from the prolug-projects section of the Discord. We have a Youtube video on that project as well. <a href="https://www.youtube.com/watch?v=54VgGHr99Qg">https://www.youtube.com/watch?v=54VgGHr99Qg</a></a>
</h4>



<h2 id="labs">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#labs">Labs</a>
</h2>
<p><a href="https://killercoda.com/het-tanis/course/Linux-Labs/102-monitoring-linux-logs">https://killercoda.com/het-tanis/course/Linux-Labs/102-monitoring-linux-logs</a></p>
<p><a href="https://killercoda.com/het-tanis/course/Linux-Labs/103-monitoring-linux-telemetry">https://killercoda.com/het-tanis/course/Linux-Labs/103-monitoring-linux-telemetry</a></p>
<p><a href="https://killercoda.com/het-tanis/course/Linux-Labs/104-monitoring-linux-Influx-Grafana">https://killercoda.com/het-tanis/course/Linux-Labs/104-monitoring-linux-Influx-Grafana</a></p>
<ol start="2">
<li>While completing each lab think about the following:</li>
</ol>
<p>a. How does it tie into the diagram below?</p>
<p>b. What could you improve, or what would you change based on your previous administration
experience.</p>
<p>Install Grafana
on the Rocky Linux system by adding the Grafana repo manually.
Red = Inputs
Blue = Outputs</p>
<ol>
<li>Create a new repository configuration
sudo vim /etc/yum.repos.d/grafana.repo</li>
</ol>
<p>Paste:</p>
<p>[grafana]
name=grafana
baseurl=https://packages.grafana.com/oss/rpm <br>
repo_gpgcheck=1
enabled=1
gpgcheck=1
gpgkey=https://packages.grafana.com/gpg.key
sslverify=1</p>
<ol start="2">
<li>Verify using the DNF</li>
</ol>
<p>sudo dnf repolist</p>
<p>sudo dnf clean - verifies whether files are working</p>
<p>Should see:</p>
<p>repo id                                      repo name
appstream                               Rocky Linux 8 - AppStream
baseos                                      Rocky Linux 8 - BaseOS
extras                                       Rocky Linux 8 - Extras
grafana                                    grafana/spl</p>
<ol start="3">
<li>Check the grafana package on the official repository</li>
</ol>
<p>sudo dnf info grafana</p>
<p>Should see something similar üëÄ</p>
<p>Importing GPG key 0x24098CB6:
Userid     : &ldquo;Grafana &quot;
Fingerprint: 4E40 DDF6 D76E 284A 4A67 80E4 8C8C 34C5 2409 8CB6
From       : <a href="https://packages.grafana.com/gpg.key">https://packages.grafana.com/gpg.key</a>
Is this ok [y/N]: y</p>
<p>Should see üëÄ</p>
<p>Name         : grafana
Version      : 8.2.5
Release      : 1
rchitecture : x86_64
Size         : 64 M
Source       : grafana-8.2.5-1.src.rpm
Repository   : grafana
Summary      : Grafana
URL          : <a href="https://grafana.com">https://grafana.com</a>
License      : &ldquo;Apache 2.0&rdquo;
Description  : Grafana</p>
<ol start="4">
<li>Install Grafana
sudo dnf install grafana -y</li>
</ol>
<p>‚è≥ Takes a while&hellip;</p>
<ol start="5">
<li>Restart SystemD unit
sudo systemctl enable &ndash;now grafana-server</li>
</ol>
<p>Verify
sudo systemctl status grafana-server</p>
<p>5.5. Firewall (Security)
Firewall is Managed by files present in /etc/firedwalld</p>
<p>cd /etc/firewalld/
ls -l</p>
<p>cp /usr/lib/firewalld/services/ssh.xml  /etc/firewalld/services/example.xml</p>
<p>sudo  firewall-cmd &ndash;add-service=grafana &ndash;permanent</p>
<p>sudo firewall-cmd &ndash;add-port=3000/tcp &ndash;permanent
sudo firewall-cmd &ndash;reload</p>
<ol start="6">
<li>
<p>Create config file
sudo vim /etc/grafana/grafana.ini</p>
</li>
<li>
<p>Change the default value of:</p>
</li>
</ol>
<p>The option &lsquo;http_addr&rsquo; to &rsquo;localhost&rsquo;, the &lsquo;http_port&rsquo; to &lsquo;3000&rsquo;, and the &lsquo;domain&rsquo; option to your domain name as below. For this example, the domain name is &lsquo;grafana.example.io&rsquo;.</p>
<p>For non-standard port, be sure to uncomment ;
[server] üëç
http_port = 4000 üëç</p>
<p>The public facing domain name used to access grafana from a browser
domain = grafana.example.io</p>
<p>7.1 Turn off the nasty default report of analytics üë∫
[analytics]
reporting_enabled = false</p>
<p>7.2. Restart the grafana service to apply a new configuration.</p>
<p>sudo systemctl restart grafana-server</p>
<p>Reverse Proxy Setup</p>
<ol>
<li>Install NGINX</li>
</ol>
<p>sudo dnf install nginx -y</p>
<ol start="2">
<li>Create a new server block for grafana</li>
</ol>
<p>/etc/nginx/conf.d/grafana.conf</p>
<p>Required to proxy Grafana Live WebSocket connections</p>
<p>map $http_upgrade $connection_upgrade {
default upgrade;
&rsquo;&rsquo; close;
}
server {
listen      80;
server_name grafana.example.io;
rewrite     ^   https://$server_name$request_uri? permanent;
}
server {
listen      443 ssl http2;
server_name grafana.example.io;
root /usr/share/nginx/html;
index index.html index.htm;
ssl_certificate /etc/letsencrypt/live/grafana.example.io/fullchain.pem;
ssl_certificate_key /etc/letsencrypt/live/grafana.example.io/privkey.pem;
access_log /var/log/nginx/grafana-access.log;
error_log /var/log/nginx/grafana-error.log;
location / {
proxy_pass http://localhost:3000/;
}</p>
<p>Proxy Grafana Live WebSocket connections
location /api/live {
rewrite  ^/(.*)  /$1 break;
proxy_http_version 1.1;
proxy_set_header Upgrade $http_upgrade;
proxy_set_header Connection $connection_upgrade;
proxy_set_header Host $http_host;
proxy_pass http://localhost:3000/;
}
}</p>
<ol start="3">
<li>Next, verify the Nginx configuration</li>
</ol>
<p>sudo nginx -t</p>
<p>Should see üëÄ</p>
<p>nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful üëç</p>
<ol start="4">
<li>Start and enable the Nginx service
sudo systemctl enable &ndash;now nginx
sudo systemctl status nginx</li>
</ol>
<p>Install Prometheus (Saturday)</p>



<h2 id="rocky-prometheus-install">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#rocky-prometheus-install">Rocky Prometheus Install</a>
</h2>
<ol>
<li>Add New User and Directory &lsquo;prometheus&rsquo;</li>
</ol>
<p>create a new configuration directory and data directory for the Prometheus installation.</p>
<p>sudo adduser -M -r -s /sbin/nologin prometheus</p>
<ol start="2">
<li>create a new configuration
directory &lsquo;/etc/prometheus&rsquo; and the data directory &lsquo;/var/lib/prometheus&rsquo;</li>
</ol>
<p>(Only needed for running as service)</p>
<p>sudo mkdir /etc/prometheus
sudo mkdir /var/lib/prometheus</p>
<p>Note:
All Prometheus configuration at the &lsquo;/etc/prometheus&rsquo; directory, and all Prometheus data will automatically be saved to the directory &lsquo;/var/lib/prometheus&rsquo;.
Installing Prometheus on Rocky Linux</p>
<p>Install Prometheus monitoring system manually from the tarball or tar.gz file.</p>
<ol>
<li>Change the working directory
to &lsquo;/usr/src&rsquo; and download the Prometheus binary</li>
</ol>
<p>cd /usr/src
wget <a href="https://github.com/prometheus/prometheus/releases/download/v3.0.1/prometheus-3.0.1.linux-amd64.tar.gz">https://github.com/prometheus/prometheus/releases/download/v3.0.1/prometheus-3.0.1.linux-amd64.tar.gz</a></p>
<p>Extract</p>
<p>tar -xzf ***.tar.gz</p>
<p>cd into folder</p>
<p>Run bin:</p>
<pre><code>./bin üëç

If bin works, proceed
</code></pre>
<ol start="2">
<li>Copy all Prometheus configurations
to the directory &lsquo;/etc/prometheus&rsquo; and the binary file &lsquo;prometheus&rsquo; to the &lsquo;/usr/local/bin&rsquo; directory.</li>
</ol>
<ul>
<li>Move prometheus configuration &lsquo;prometheus.yml&rsquo; to the directory &lsquo;/etc/prometheus.</li>
</ul>
<p>sudo mv $PROM_SRC/prometheus.yml /etc/prometheus/</p>
<ul>
<li>Move the binary file &lsquo;prometheus&rsquo; and &lsquo;promtool&rsquo; to the directory &lsquo;/usr/local/bin/&rsquo;.</li>
</ul>
<p>sudo mv $PROM_SRC/prometheus /usr/local/bin/
sudo mv $PROM_SRC/promtool /usr/local/bin/</p>
<ul>
<li>Move Prometheus console templates and libraries to the &lsquo;/etc/prometheus&rsquo; directory.</li>
</ul>
<p>sudo mv -r $PROM_SRC/consoles /etc/prometheus
sudo mv -r $PROM_SRC/console_libraries /etc/prometheus</p>
<ol start="3">
<li>Edit Prometheus configuration &lsquo;/etc/prometheus/prometheus.yml&rsquo;</li>
</ol>
<p>vim /etc/prometheus/prometheus.yml</p>
<p>On the &lsquo;scrape_configs&rsquo; option, you may need to add monitoring jobs</p>
<p>The default configuration comes with the default monitoring job name &lsquo;prometheus&rsquo; and the target server &rsquo;localhost&rsquo; through the &lsquo;static_configs&rsquo; option.</p>
<p>Change the target from &rsquo;localhost:9090&rsquo; to the server IP address &lsquo;192.168.1.10:9090&rsquo; as below.</p>
<p>Note:
Scrape configuration containing exactly one endpoint to scrape:
Here it&rsquo;s Prometheus itself.
scrape_configs:
The job name is added as a label <code>job=&lt;job_name&gt;</code> to any timeseries scraped from this config.
job_name: &ldquo;prometheus&rdquo;</p>
<p>metrics_path defaults to &lsquo;/metrics&rsquo;
scheme defaults to &lsquo;http&rsquo;.</p>
<p>static_configs:
targets: [&ldquo;192.168.1.10:9090&rdquo;]</p>
<ol start="4">
<li>Change the configuration and data directories to the user &lsquo;promethues&rsquo;.</li>
</ol>
<p>sudo chown prometheus:prometheus /etc/prometheus
sudo chown prometheus:prometheus /var/lib/prometheus</p>
<p>Basic prometheus installation finished, Hopefully üëç .</p>
<p>Configure Prometheus</p>
<ol>
<li>Create a new systemd service
sudo vim /etc/systemd/system/prometheus.service</li>
</ol>
<p>Copy and paste the following configuration.</p>
<p>[Unit]
Description=Prometheus
Wants=network-online.target
After=network-online.target</p>
<p>[Service]
User=prometheus
Group=prometheus
Type=simple
ExecStart=/usr/local/bin/prometheus <br>
&ndash;config.file /etc/prometheus/prometheus.yml <br>
&ndash;storage.tsdb.path /var/lib/prometheus/ <br>
&ndash;web.console.templates=/etc/prometheus/consoles <br>
&ndash;web.console.libraries=/etc/prometheus/console_libraries</p>
<p>[Install]
WantedBy=multi-user.target</p>
<ol start="2">
<li>Reload the systemd manager to apply a new config.</li>
</ol>
<p>sudo systemctl daemon-reload</p>
<ol start="3">
<li>Start and enable the Prometheus service</li>
</ol>
<p>sudo systemctl enable &ndash;now prometheus
sudo systemctl status prometheus</p>
<p>Prometheus monitoring tool is now accessible on the TCP port &lsquo;9090.</p>
<ol start="4">
<li>Visit IP address with port &lsquo;9090&rsquo;</li>
</ol>
<p>http://192.168.1.10:9090/</p>
<p>And you will see the prometheus dashboard query below.</p>
<p>Prometheus query dashboard</p>
<hr>



<h2 id="reflection-questions">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#reflection-questions">Reflection Questions</a>
</h2>
<ol>
<li>
<p>What questions do you still have about this week?</p>
</li>
<li>
<p>How can you apply this now in your current role in IT? If you‚Äôre not in IT, how can you
look to put something like this into your resume or portfolio?</p>
</li>
</ol>
<hr>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu12/#prolug-links-">ProLUG Links ‚õìÔ∏è</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG Book: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/operating-systems/" rel="tag">Operating Systems</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/baselining/" rel="tag">Baselining</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/benchmarking/" rel="tag">Benchmarking</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/pacu11/" rel="bookmark">ProLUG Admin Course Unit 11 üêß</a>
  </h1>
  
    <time datetime="2024-11-28T00:00:00Z">November 28, 2024</time>
  
</header>
      
        <h1 id="monitoring-systems">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#monitoring-systems">Monitoring Systems</a>
</h1>
<p>In this unit, we explore monitoring systems, which often consist of multiple interconnected components. At its core, monitoring involves carefully exposing system data and transmitting it to tools for analysis and alerting. From my experience with Prometheus and Grafana‚Äîtwo widely used and versatile solutions‚ÄîI‚Äôve seen how effective these tools can be for various scenarios. However, many other tools are also available. One of my key takeaways from the unit‚Äôs readings and labs was the importance of careful data exposure. Much like setting permissions in a Linux system, it‚Äôs crucial to determine what data can be accessed and who is allowed to see it in the reporting chain. System information, if mishandled, can easily become a double-edged sword.</p>
<hr>



<h2 id="discussion-post-1">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#discussion-post-1">Discussion Post 1</a>
</h2>



<h3 id="scenario">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#scenario">Scenario</a>
</h3>
<p>You‚Äôve heard the term ‚Äúloose coupling‚Äù thrown around the
office about a new monitoring solution coming down the pike. You find a good resource and
read the section on ‚ÄúPrefer Loose Coupling‚Äù <a href="https://sre.google/workbook/monitoring/">https://sre.google/workbook/monitoring/</a></p>



<h4 id="1-what-does-loose-coupling-mean-if-you-had-to-summarize-to-your-junior-team">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#1-what-does-loose-coupling-mean-if-you-had-to-summarize-to-your-junior-team">1. What does ‚Äúloose coupling‚Äù mean, if you had to summarize to your junior team</a>
</h4>
<p>members?</p>
<p>Loose coupling means the components of a system can operate independently, yet still work together when combined. This design allows individual components to be swapped or replaced with minimal disruption to the overall system. In contrast, a strongly coupled system binds its components so tightly that altering one would disrupt or even break the entire system‚Äôs functionality.</p>



<h4 id="2-what-is-the-advantage-given-for-why-you-might-want-to-implement-this-type-of-tooling-in-your-monitoring-do-you-agree-why-or-why-not">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#2-what-is-the-advantage-given-for-why-you-might-want-to-implement-this-type-of-tooling-in-your-monitoring-do-you-agree-why-or-why-not">2. What is the advantage given for why you might want to implement this type of tooling in your monitoring? Do you agree? Why or why not?</a>
</h4>
<p>The advantage of a loosely coupled monitoring system lies in its flexibility to evolve over time. Systems change, requirements shift, and new tools emerge, making adaptability essential. A design that allows components to be replaced or upgraded with minimal disruption is highly valuable‚Äînot only for an organization aiming to maintain efficiency but also for the administrators and engineers responsible for ensuring stability and resolving issues.</p>



<h4 id="3-they-mention-exposing-metrics-what-does-it-mean-to-expose-metrics-what-happens-to-metrics-that-are-exposed-but-never-collected">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#3-they-mention-exposing-metrics-what-does-it-mean-to-expose-metrics-what-happens-to-metrics-that-are-exposed-but-never-collected">3. They mention ‚Äúexposing metrics‚Äù what does it mean to expose metrics? What happens to metrics that are exposed but never collected?</a>
</h4>
<p>Exposing metrics involves making system information accessible for monitoring and analysis. However, this must be approached with caution, as exposing such information can introduce vulnerabilities. Simply exposing data without actively collecting or utilizing it needlessly increases security risks without providing any benefit.</p>
<hr>



<h2 id="discussion-post-2">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#discussion-post-2">Discussion Post 2</a>
</h2>



<h3 id="scenario-1">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#scenario-1">Scenario</a>
</h3>
<p>Your HPC team is asking for more information about how CPU 0
is behaving on a set of servers. Your team has node exporter writing data out to Prometheus
(Use this to simulate <a href="https://promlabs.com/promql-cheat-sheet/)">https://promlabs.com/promql-cheat-sheet/)</a>.</p>



<h4 id="1-can-you-see-the-usage-of-cpu0-and-what-is-the-query">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#1-can-you-see-the-usage-of-cpu0-and-what-is-the-query">1. Can you see the usage of CPU0 and what is the query?</a>
</h4>
<p>Yes one can use a query that focuses on the metrics provided by the Node Exporter. Specifically, filter for CPU 0 and its usage.</p>
<pre><code>100 - (avg by (instance) (irate(node_cpu_seconds_total{cpu=&quot;0&quot;, mode=&quot;idle&quot;}
</code></pre>



<h4 id="2-can-you-see-the-usage-of-cpu0-for-just-the-last-5-minutes-and-what-is-the-query">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#2-can-you-see-the-usage-of-cpu0-for-just-the-last-5-minutes-and-what-is-the-query">2. Can you see the usage of CPU0 for just the last 5 minutes and what is the query?</a>
</h4>
<p>Yes</p>
<pre><code>100 - (avg by (instance) (rate(node_cpu_seconds_total{cpu=&quot;0&quot;, mode=&quot;idle&quot;}[5m])) * 100)
</code></pre>



<h4 id="3-you-know-that-cpu0-is-excluded-from-slurm-can-you-exclude-that-and-only-pull-the-user-and-system-for-the-remaining-cpus-and-what-is-that-query">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#3-you-know-that-cpu0-is-excluded-from-slurm-can-you-exclude-that-and-only-pull-the-user-and-system-for-the-remaining-cpus-and-what-is-that-query">3. You know that CPU0 is excluded from Slurm, can you exclude that and only pull the user and system for the remaining CPUs and what is that query?</a>
</h4>
<p>Yes</p>
<pre><code>sum by (instance) (rate(node_cpu_seconds_total{cpu!=&quot;0&quot;, mode=~&quot;user|system&quot;}[5m])) * 100
</code></pre>
<hr>



<h2 id="digging-deeper">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#digging-deeper">Digging Deeper</a>
</h2>



<h4 id="1-read-the-rest-of-the-chapter-httpssregoogleworkbookmonitoring-and-note-anything-else-of-interest-when-it-comes-to-monitoring-and-dashboarding">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#1-read-the-rest-of-the-chapter-httpssregoogleworkbookmonitoring-and-note-anything-else-of-interest-when-it-comes-to-monitoring-and-dashboarding">1. Read the rest of the chapter <a href="https://sre.google/workbook/monitoring/">https://sre.google/workbook/monitoring/</a> and note anything else of interest when it comes to monitoring and dashboarding.</a>
</h4>



<h4 id="2-look-up-the-prolug-prometheus-certified-associate-prep-2024-in-resources---presentations-in-our-prolug-discord-study-that-for-a-deep-dive-into-prometheus">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#2-look-up-the-prolug-prometheus-certified-associate-prep-2024-in-resources---presentations-in-our-prolug-discord-study-that-for-a-deep-dive-into-prometheus">2. Look up the ‚ÄúProLUG Prometheus Certified Associate Prep 2024‚Äù in Resources -&gt; Presentations in our ProLUG Discord. Study that for a deep dive into Prometheus.</a>
</h4>



<h4 id="3-complete-the-project-section-of-monitoring-deep-dive-project-guide-from-the-prolug-projects-section-of-the-discord-we-have-a-youtube-video-on-that-project-as-well-httpswwwyoutubecomwatchv54vgghr99qg">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#3-complete-the-project-section-of-monitoring-deep-dive-project-guide-from-the-prolug-projects-section-of-the-discord-we-have-a-youtube-video-on-that-project-as-well-httpswwwyoutubecomwatchv54vgghr99qg">3. Complete the project section of ‚ÄúMonitoring Deep Dive Project Guide‚Äù from the prolug-projects section of the Discord. We have a Youtube video on that project as well. <a href="https://www.youtube.com/watch?v=54VgGHr99Qg">https://www.youtube.com/watch?v=54VgGHr99Qg</a></a>
</h4>



<h2 id="labs">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#labs">Labs</a>
</h2>
<p><a href="https://killercoda.com/het-tanis/course/Linux-Labs/102-monitoring-linux-logs">https://killercoda.com/het-tanis/course/Linux-Labs/102-monitoring-linux-logs</a></p>
<p><a href="https://killercoda.com/het-tanis/course/Linux-Labs/103-monitoring-linux-telemetry">https://killercoda.com/het-tanis/course/Linux-Labs/103-monitoring-linux-telemetry</a></p>
<p><a href="https://killercoda.com/het-tanis/course/Linux-Labs/104-monitoring-linux-Influx-Grafana">https://killercoda.com/het-tanis/course/Linux-Labs/104-monitoring-linux-Influx-Grafana</a></p>
<ol start="2">
<li>While completing each lab think about the following:</li>
</ol>
<p>a. How does it tie into the diagram below?</p>
<p>b. What could you improve, or what would you change based on your previous administration
experience.</p>
<hr>



<h3 id="1-install-grafana">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#1-install-grafana">1. Install Grafana</a>
</h3>



<h4 id="11-create-a-new-repository-configuration">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#11-create-a-new-repository-configuration">1.1 Create a New Repository Configuration</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo vim /etc/yum.repos.d/grafana.repo</span></span></code></pre></div>
<p>Paste the following:</p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="k">[grafana]</span>
</span></span><span class="line"><span class="cl"><span class="na">name</span><span class="o">=</span><span class="s">grafana</span>
</span></span><span class="line"><span class="cl"><span class="na">baseurl</span><span class="o">=</span><span class="s">https://packages.grafana.com/oss/rpm</span>
</span></span><span class="line"><span class="cl"><span class="na">repo_gpgcheck</span><span class="o">=</span><span class="s">1</span>
</span></span><span class="line"><span class="cl"><span class="na">enabled</span><span class="o">=</span><span class="s">1</span>
</span></span><span class="line"><span class="cl"><span class="na">gpgcheck</span><span class="o">=</span><span class="s">1</span>
</span></span><span class="line"><span class="cl"><span class="na">gpgkey</span><span class="o">=</span><span class="s">https://packages.grafana.com/gpg.key</span>
</span></span><span class="line"><span class="cl"><span class="na">sslverify</span><span class="o">=</span><span class="s">1</span></span></span></code></pre></div>



<h4 id="12-verify-the-repository">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#12-verify-the-repository">1.2 Verify the Repository</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo dnf repolist
</span></span><span class="line"><span class="cl">sudo dnf clean all</span></span></code></pre></div>
<p>Expected Output:</p>

  

<pre tabindex="0"><code>repo id                                      repo name
appstream                                    Rocky Linux 8 - AppStream
baseos                                       Rocky Linux 8 - BaseOS
extras                                       Rocky Linux 8 - Extras
grafana                                      grafana/spl</code></pre>



<h4 id="13-check-the-grafana-package">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#13-check-the-grafana-package">1.3 Check the Grafana Package</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo dnf info grafana</span></span></code></pre></div>
<p>Example Output:</p>

  

<pre tabindex="0"><code>Importing GPG key 0x24098CB6:
Userid     : &#34;Grafana&#34;
Fingerprint: 4E40 DDF6 D76E 284A 4A67 80E4 8C8C 34C5 2409 8CB6
From       : https://packages.grafana.com/gpg.key
Is this ok [y/N]: y</code></pre>



<h4 id="14-install-grafana">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#14-install-grafana">1.4 Install Grafana</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo dnf install grafana -y</span></span></code></pre></div>



<h4 id="15-enable-and-start-grafana-service">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#15-enable-and-start-grafana-service">1.5 Enable and Start Grafana Service</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo systemctl <span class="nb">enable</span> --now grafana-server
</span></span><span class="line"><span class="cl">sudo systemctl status grafana-server</span></span></code></pre></div>



<h4 id="16-configure-firewall">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#16-configure-firewall">1.6 Configure Firewall</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo firewall-cmd --add-service<span class="o">=</span>grafana --permanent
</span></span><span class="line"><span class="cl">sudo firewall-cmd --add-port<span class="o">=</span>3000/tcp --permanent
</span></span><span class="line"><span class="cl">sudo firewall-cmd --reload</span></span></code></pre></div>



<h4 id="17-create-and-edit-configuration-file">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#17-create-and-edit-configuration-file">1.7 Create and Edit Configuration File</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo vim /etc/grafana/grafana.ini</span></span></code></pre></div>
<p>Update the following settings:</p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="k">[server]</span>
</span></span><span class="line"><span class="cl"><span class="na">http_port</span> <span class="o">=</span> <span class="s">4000</span>
</span></span><span class="line"><span class="cl"><span class="na">domain</span> <span class="o">=</span> <span class="s">grafana.example.io</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">[analytics]</span>
</span></span><span class="line"><span class="cl"><span class="na">reporting_enabled</span> <span class="o">=</span> <span class="s">false</span></span></span></code></pre></div>
<p>Restart the service:</p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo systemctl restart grafana-server</span></span></code></pre></div>
<hr>



<h3 id="2-reverse-proxy-setup-with-nginx">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#2-reverse-proxy-setup-with-nginx">2. Reverse Proxy Setup with NGINX</a>
</h3>



<h4 id="21-install-nginx">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#21-install-nginx">2.1 Install NGINX</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo dnf install nginx -y</span></span></code></pre></div>



<h4 id="22-create-a-server-block-for-grafana">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#22-create-a-server-block-for-grafana">2.2 Create a Server Block for Grafana</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo vim /etc/nginx/conf.d/grafana.conf</span></span></code></pre></div>
<p>Paste the configuration:</p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">map</span> <span class="nv">$http_upgrade</span> <span class="nv">$connection_upgrade</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kn">default</span> <span class="s">upgrade</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kn">&#39;&#39;</span> <span class="s">close</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kn">server_name</span> <span class="s">grafana.example.io</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kn">rewrite</span> <span class="s">^</span> <span class="s">https://</span><span class="nv">$server_name$request_uri?</span> <span class="s">permanent</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kn">listen</span> <span class="mi">443</span> <span class="s">ssl</span> <span class="s">http2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kn">server_name</span> <span class="s">grafana.example.io</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kn">ssl_certificate</span> <span class="s">/etc/letsencrypt/live/grafana.example.io/fullchain.pem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kn">ssl_certificate_key</span> <span class="s">/etc/letsencrypt/live/grafana.example.io/privkey.pem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_pass</span> <span class="s">http://localhost:3000/</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kn">location</span> <span class="s">/api/live</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_http_version</span> <span class="mi">1</span><span class="s">.1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_set_header</span> <span class="s">Upgrade</span> <span class="nv">$http_upgrade</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_set_header</span> <span class="s">Connection</span> <span class="nv">$connection_upgrade</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_pass</span> <span class="s">http://localhost:3000/</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>



<h4 id="23-verify-nginx-configuration">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#23-verify-nginx-configuration">2.3 Verify NGINX Configuration</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo nginx -t</span></span></code></pre></div>
<p>Expected Output:</p>

  

<pre tabindex="0"><code>nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful</code></pre>



<h4 id="24-start-and-enable-nginx">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#24-start-and-enable-nginx">2.4 Start and Enable NGINX</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo systemctl <span class="nb">enable</span> --now nginx
</span></span><span class="line"><span class="cl">sudo systemctl status nginx</span></span></code></pre></div>
<hr>



<h3 id="3-install-prometheus">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#3-install-prometheus">3. Install Prometheus</a>
</h3>



<h4 id="31-add-a-new-user-and-directories">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#31-add-a-new-user-and-directories">3.1 Add a New User and Directories</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo adduser -M -r -s /sbin/nologin prometheus
</span></span><span class="line"><span class="cl">sudo mkdir /etc/prometheus
</span></span><span class="line"><span class="cl">sudo mkdir /var/lib/prometheus</span></span></code></pre></div>



<h4 id="32-download-and-extract-prometheus">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#32-download-and-extract-prometheus">3.2 Download and Extract Prometheus</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">cd</span> /usr/src
</span></span><span class="line"><span class="cl">wget https://github.com/prometheus/prometheus/releases/download/v3.0.1/prometheus-3.0.1.linux-amd64.tar.gz
</span></span><span class="line"><span class="cl">tar -xzf prometheus-3.0.1.linux-amd64.tar.gz
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> prometheus-3.0.1.linux-amd64</span></span></code></pre></div>



<h4 id="33-move-files-to-appropriate-locations">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#33-move-files-to-appropriate-locations">3.3 Move Files to Appropriate Locations</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo mv prometheus /usr/local/bin/
</span></span><span class="line"><span class="cl">sudo mv promtool /usr/local/bin/
</span></span><span class="line"><span class="cl">sudo mv consoles /etc/prometheus
</span></span><span class="line"><span class="cl">sudo mv console_libraries /etc/prometheus
</span></span><span class="line"><span class="cl">sudo mv prometheus.yml /etc/prometheus/</span></span></code></pre></div>



<h4 id="34-change-ownership">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#34-change-ownership">3.4 Change Ownership</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo chown -R prometheus:prometheus /etc/prometheus /var/lib/prometheus</span></span></code></pre></div>



<h4 id="35-configure-prometheus">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#35-configure-prometheus">3.5 Configure Prometheus</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo vim /etc/prometheus/prometheus.yml</span></span></code></pre></div>
<p>Example scrape configuration:</p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">scrape_configs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">job_name</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;prometheus&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">static_configs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">targets</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&#34;192.168.1.10:9090&#34;</span><span class="p">]</span></span></span></code></pre></div>



<h4 id="36-create-a-systemd-service">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#36-create-a-systemd-service">3.6 Create a Systemd Service</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo vim /etc/systemd/system/prometheus.service</span></span></code></pre></div>
<p>Paste the following:</p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ini" data-lang="ini"><span class="line"><span class="cl"><span class="k">[Unit]</span>
</span></span><span class="line"><span class="cl"><span class="na">Description</span><span class="o">=</span><span class="s">Prometheus</span>
</span></span><span class="line"><span class="cl"><span class="na">Wants</span><span class="o">=</span><span class="s">network-online.target</span>
</span></span><span class="line"><span class="cl"><span class="na">After</span><span class="o">=</span><span class="s">network-online.target</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">[Service]</span>
</span></span><span class="line"><span class="cl"><span class="na">User</span><span class="o">=</span><span class="s">prometheus</span>
</span></span><span class="line"><span class="cl"><span class="na">Group</span><span class="o">=</span><span class="s">prometheus</span>
</span></span><span class="line"><span class="cl"><span class="na">Type</span><span class="o">=</span><span class="s">simple</span>
</span></span><span class="line"><span class="cl"><span class="na">ExecStart</span><span class="o">=</span><span class="s">/usr/local/bin/prometheus     --config.file /etc/prometheus/prometheus.yml     --storage.tsdb.path /var/lib/prometheus/     --web.console.templates=/etc/prometheus/consoles     --web.console.libraries=/etc/prometheus/console_libraries</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">[Install]</span>
</span></span><span class="line"><span class="cl"><span class="na">WantedBy</span><span class="o">=</span><span class="s">multi-user.target</span></span></span></code></pre></div>



<h4 id="37-start-prometheus-service">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#37-start-prometheus-service">3.7 Start Prometheus Service</a>
</h4>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo systemctl daemon-reload
</span></span><span class="line"><span class="cl">sudo systemctl <span class="nb">enable</span> --now prometheus
</span></span><span class="line"><span class="cl">sudo systemctl status prometheus</span></span></code></pre></div>



<h4 id="38-access-prometheus">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#38-access-prometheus">3.8 Access Prometheus</a>
</h4>
<p>Visit <code>http://192.168.1.10:9090</code> in your browser to view the Prometheus dashboard.</p>
<hr>



<h2 id="reflection-questions">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#reflection-questions">Reflection Questions</a>
</h2>
<ol>
<li>
<p>What questions do you still have about this week?</p>
</li>
<li>
<p>How can you apply this now in your current role in IT? If you‚Äôre not in IT, how can you
look to put something like this into your resume or portfolio?</p>
</li>
</ol>
<hr>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu11/#prolug-links-">ProLUG Links ‚õìÔ∏è</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG Book: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/operating-systems/" rel="tag">Operating Systems</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/monitoring/" rel="tag">Monitoring</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/pacu10/" rel="bookmark">ProLUG Admin Course Unit 10 üêß</a>
  </h1>
  
    <time datetime="2024-11-22T00:00:00Z">November 22, 2024</time>
  
</header>
      
        <h1 id="kubernetes">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#kubernetes">Kubernetes</a>
</h1>
<p>&ldquo;The OS of the Internet&rdquo;</p>
<p>This week, we were privileged to host a special guest lecture by John Champine, Scott&rsquo;s brother. Over the course of an engaging two-hour session, John delivered an in-depth exploration of Kubernetes, thoroughly covering the five W&rsquo;s: Who, What, When, Where, and Why.</p>
<p>John&rsquo;s passion and deep knowledge of Kubernetes were evident throughout the presentation. Having firsthand experience with the challenges of pre-Kubernetes infrastructure, he offered valuable insights into how this platform has revolutionized modern computing. Notably, John specializes in OpenShift, an IBM-owned management layer built atop Kubernetes. OpenShift adds additional functionality and ease of use to what is already a powerful but complex system.</p>
<p>One concept that particularly caught my attention was the <strong>fractionalization of CPU and memory resources</strong> made possible by Kubernetes&rsquo; sophisticated resource management. John introduced the term <em>millicore</em>, a concept I was previously unfamiliar with. It refers to the fine-grained allocation of processing power, where fractions of a CPU core are shared across processes during compute cycles. This ability to manage resources at such a granular level is remarkable, showcasing the efficiency and precision of Kubernetes.</p>
<p>Before this lecture, I never imagined that such details‚Äîdown to the microsecond allocation of core usage‚Äîcould not only be considered but also controlled and utilized to optimize workloads. This level of resource management truly solidifies Kubernetes&rsquo; position as the &ldquo;operating system of the internet,&rdquo; enabling applications to run more efficiently and reliably across diverse infrastructures.</p>
<p>John‚Äôs insights not only deepened my understanding of Kubernetes but also sparked curiosity about the broader implications of containerized resource management in modern computing.</p>
<p>One idea that has been dispelled by doing these exercises is that Kubernetes is overkill for most things. Yes, standing up multiple networked nodes and having them interoperate is no small task. However, there exist lightweight, single node variants like K3s that enable a simplified experience while maintaining the powerful advantages of an orchestration system.</p>



<h2 id="furthermore-given-the-threat-landscape-desire-for-declarative-infrastructure-and-ever-fluctuating-demand-it-makes-sense-to-implement-a-tool-that-is-designed-for-these-modern-demands">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#furthermore-given-the-threat-landscape-desire-for-declarative-infrastructure-and-ever-fluctuating-demand-it-makes-sense-to-implement-a-tool-that-is-designed-for-these-modern-demands">Furthermore, given the threat landscape, desire for declarative infrastructure and ever fluctuating demand, it makes sense to implement a tool that is designed for these modern demands.</a>
</h2>



<h2 id="discussion-post-1">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#discussion-post-1">Discussion Post 1</a>
</h2>
<p>Reading: <a href="https://kubernetes.io/docs/concepts/overview/">https://kubernetes.io/docs/concepts/overview/</a> üìó</p>



<h3 id="question-1">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#question-1">Question 1</a>
</h3>
<p><strong>What are the two most compelling reasons you see to implement Kubernetes in your organization?</strong></p>
<ol>
<li><strong>Efficient Usage of Resources</strong>: Kubernetes optimizes resource allocation and ensures workloads are distributed efficiently across your infrastructure.</li>
<li><strong>Built-in Redundancy</strong>: Kubernetes provides automatic failover and self-healing capabilities, ensuring high availability for applications.</li>
</ol>
<p>Other notable reasons include:</p>
<ul>
<li><strong>Load Balancing</strong>: Automatically distributes traffic across pods to maintain application performance. ‚öñÔ∏è</li>
<li><strong>Centralized Control</strong>: Manages deployments, updates, and scaling from a single interface. üéØ</li>
<li><strong>Declarative in Nature</strong>: Uses declarative configurations, making it easier to maintain and reproduce states. üîñ</li>
<li><strong>Customizable for Organizational Needs</strong>: Offers flexibility to adapt to specific requirements through pluggable components. üîå</li>
<li><strong>Open Source</strong>: Eliminates vendor lock-in while benefiting from a large and active community. ‚öôÔ∏è</li>
<li><strong>Broadly Used</strong>: Extensive community adoption ensures a wealth of resources, tools, and discussions. üìú</li>
<li><strong>Written in Go</strong>: Delivers a lightweight, high-performance foundation that I am irrationally a fan of üòâ</li>
</ul>
<hr>



<h3 id="question-2">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#question-2">Question 2</a>
</h3>
<p><strong>When the article says Kubernetes is not a PaaS, what do they mean by that? What is a PaaS in comparison?</strong></p>
<p>Kubernetes is not a Platform-as-a-Service (PaaS) because it operates at the <strong>container level</strong> rather than the <strong>application or hardware level</strong>. While it provides some features similar to PaaS offerings, Kubernetes emphasizes flexibility, composability, and user choice rather than prescribing a monolithic solution.</p>



<h4 id="key-characteristics-of-kubernetes-compared-to-paas">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#key-characteristics-of-kubernetes-compared-to-paas">Key Characteristics of Kubernetes Compared to PaaS:</a>
</h4>
<ol>
<li>
<p><strong>What Kubernetes Is</strong>:</p>
<ul>
<li>Provides foundational building blocks for deploying, scaling, and managing containerized applications.</li>
<li>Is modular, with optional and pluggable solutions for logging, monitoring, alerting, and scaling.</li>
<li>Focuses on maintaining desired state through independent, composable control processes.</li>
<li>Preserves user choice by not dictating application or configuration specifics.</li>
</ul>
</li>
<li>
<p><strong>What Kubernetes Is Not</strong>:</p>
<ul>
<li>Does not limit the types of applications it supports.</li>
<li>Does not deploy source code or build your application.</li>
<li>Does not provide application-level services (e.g., middleware, databases).</li>
<li>Does not enforce specific logging, monitoring, or alerting solutions.</li>
<li>Does not include a proprietary configuration system or language (e.g., Jsonnet).</li>
<li>Does not manage comprehensive machine-level configuration, maintenance, or self-healing.</li>
</ul>
</li>
</ol>



<h4 id="comparison-to-paas">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#comparison-to-paas">Comparison to PaaS:</a>
</h4>
<p>A Platform-as-a-Service (PaaS), such as Heroku or OpenShift, provides a more opinionated, all-encompassing solution by:</p>
<ul>
<li>Supporting application deployment directly from source code.</li>
<li>Managing application-level services like databases or caching layers.</li>
<li>Offering integrated logging, monitoring, and alerting.</li>
<li>Providing a simplified developer experience but with less flexibility.</li>
</ul>
<p>In contrast, Kubernetes gives users the tools to build their own developer platforms while leaving critical choices in the user‚Äôs hands.</p>
<hr>



<h2 id="discussion-post-2">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#discussion-post-2">Discussion Post 2</a>
</h2>



<h3 id="scenario">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#scenario">Scenario</a>
</h3>
<p>You get a ticket about your new test cluster. The team is unable to deploy some of their applications. They suspect there is a problem and send you over this output:</p>



<h3 id="kubernetes-cluster-information">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#kubernetes-cluster-information">Kubernetes Cluster Information</a>
</h3>



<h4 id="kubectl-version">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#kubectl-version">kubectl Version</a>
</h4>
<table>
  <thead>
      <tr>
          <th>Component</th>
          <th>Version</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Client Version</td>
          <td>v1.31.6+k3s3</td>
      </tr>
      <tr>
          <td>Kustomize Version</td>
          <td>v5.0.4-0.20230601165947-6ce0bf390ce3</td>
      </tr>
      <tr>
          <td>Server Version</td>
          <td>v1.30.6+k3s1</td>
      </tr>
  </tbody>
</table>



<h4 id="node-status">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#node-status">Node Status</a>
</h4>
<table>
  <thead>
      <tr>
          <th>NAME</th>
          <th>STATUS</th>
          <th>ROLES</th>
          <th>AGE</th>
          <th>VERSION</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Test_Cluster1</td>
          <td>Ready</td>
          <td>control-plane,master</td>
          <td>17h</td>
          <td>v1.30.6+k3s1</td>
      </tr>
      <tr>
          <td>Test_Cluster2</td>
          <td>NotReady</td>
          <td>worker</td>
          <td>33m</td>
          <td>v1.29.6+k3s1</td>
      </tr>
      <tr>
          <td>Test_Cluster3</td>
          <td>Ready</td>
          <td>worker</td>
          <td>17h</td>
          <td>v1.28.6+k3s1</td>
      </tr>
  </tbody>
</table>



<h3 id="question-1-1">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#question-1-1">Question 1</a>
</h3>
<p>What are you checking on the cluster to validate you see their error?</p>
<p>To identify and validate the issue with the node <strong>Test_Cluster2</strong>:</p>
<p>Check the overall cluster status</p>
<ul>
<li>Run <strong>kubectl get nodes</strong> to see the status of all nodes in the cluster.</li>
<li>This confirms <strong>Test_Cluster2</strong> is <strong>NotReady</strong>.</li>
</ul>
<p>Inspect node details</p>
<ul>
<li>Run <strong>kubectl describe nodes Test_Cluster2</strong> to check for events, taints, and resource usage issues. Look for errors related to kubelet, network, or node conditions.</li>
</ul>
<p>Access the node**</p>
<ul>
<li>SSH into the node with <strong>ssh Test_Cluster2</strong> to perform further diagnostics.</li>
</ul>
<p>Verify kubelet status</p>
<ul>
<li>Run <strong>systemctl status kubelet</strong> to check if the kubelet service is running and healthy.</li>
</ul>
<p>Check container runtime</p>
<ul>
<li>Depending on your runtime, run either <strong>systemctl status docker</strong> or <strong>systemctl status podman</strong> to ensure the container runtime is operational.</li>
</ul>
<p>Reload and restart services</p>
<ul>
<li>If issues are detected, attempt to reload the systemd daemon (<strong>systemctl daemon-reload</strong>) and restart kubelet (<strong>systemctl restart kubelet</strong>).</li>
</ul>
<hr>



<h3 id="question-2-1">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#question-2-1">Question 2</a>
</h3>
<p>What do you think the problem could be?</p>
<p>Potential problems for <strong>Test_Cluster2</strong> being <strong>NotReady</strong> include:</p>
<ul>
<li>The <strong>Test_Cluster2</strong> node is running Kubernetes version <strong>v1.29.6+k3s1</strong>, which is older than the server and other nodes (<strong>v1.30.6+k3s1</strong>). This may cause compatibility issues.</li>
<li>The kubelet service might have failed or not started.</li>
<li>Networking problems could prevent the node from communicating with the control plane.</li>
<li>The node may lack sufficient CPU, memory, or disk space for the kubelet to function.</li>
<li>Taints, labels, or configuration errors might prevent the node from becoming <strong>Ready</strong>.</li>
<li>Hardware issues or kernel module problems may impact the node&rsquo;s health.</li>
</ul>



<h3 id="question-3">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#question-3">Question 3</a>
</h3>
<p>Do you think someone else has tried anything to fix this problem before you? Why or why not?</p>
<p>Yes, someone may have tried to fix it</p>
<ul>
<li>The node was added only <strong>33 minutes ago</strong>, indicating recent activity.</li>
<li>It‚Äôs common for issues to be noticed and an initial attempt made before escalating.</li>
<li><strong>systemctl status</strong> may show if services were restarted recently, suggesting prior troubleshooting.</li>
</ul>
<p>No, it may not have been addressed yet because:</p>
<ul>
<li>The node is still in the <strong>NotReady</strong> state, implying no successful resolution so far.</li>
<li>Lack of detailed documentation or escalation might mean no one has investigated yet.</li>
</ul>
<p>To confirm, check the node&rsquo;s event logs (<strong>kubectl describe nodes Test_Cluster2</strong>) or system logs (<strong>journalctl -u kubelet</strong>) for evidence of recent actions.</p>
<hr>



<h2 id="discussion-post-3">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#discussion-post-3">Discussion Post 3</a>
</h2>



<h3 id="scenario-1">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#scenario-1">Scenario:</a>
</h3>
<p>You are the network operations center (NOC) lead. Your team has recently started supporting the dev, test, and QA environments for your company‚Äôs K8s cluster. Write up a basic checkout procedure for your new NOC personnel to verify operation of the cluster before escalating on critical alerts.</p>



<h1 id="kubernetes-cluster-checkout-procedure-for-noc-personnel">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#kubernetes-cluster-checkout-procedure-for-noc-personnel">Kubernetes Cluster Checkout Procedure for NOC Personnel</a>
</h1>
<p>This document outlines the basic steps for verifying the operation of the Kubernetes (K8s) cluster before escalating on critical alerts.</p>
<hr>



<h2 id="1-verify-cluster-health">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#1-verify-cluster-health"><strong>1. Verify Cluster Health</strong></a>
</h2>



<h4 id="--login-to-the-cluster">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#--login-to-the-cluster">- <strong>Login to the Cluster</strong></a>
</h4>
<ul>
<li>
<p>Access the cluster using the <strong>kubectl</strong> command-line tool.</p>
</li>
<li>
<p>Use the appropriate kubeconfig file for the environment (dev, test, QA).</p>
<p>kubectl config use-context <!-- raw HTML omitted --></p>
</li>
</ul>



<h4 id="--check-cluster-nodes">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#--check-cluster-nodes">- <strong>Check Cluster Nodes</strong></a>
</h4>
<pre><code>    kubectl get nodes
</code></pre>
<ul>
<li>Look for any nodes in NotReady, Unknown, or SchedulingDisabled status. Investigate any anomalies.</li>
</ul>



<h4 id="--check-system-pods">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#--check-system-pods">- <strong>Check System Pods</strong></a>
</h4>
<ul>
<li>
<p>Verify critical system pods in the kube-system namespace are running</p>
<pre><code>  kubectl get pods -n kube-system
</code></pre>
</li>
</ul>



<h4 id="pay-special-attention-to-core-components">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#pay-special-attention-to-core-components">Pay special attention to core components:</a>
</h4>
<ul>
<li>kube-apiserver</li>
<li>kube-scheduler</li>
<li>kube-controller-manager</li>
<li>etcd</li>
</ul>
<hr>



<h2 id="2-verify-namespace-and-application-status">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#2-verify-namespace-and-application-status"><strong>2. Verify Namespace and Application Status</strong></a>
</h2>



<h4 id="--list-all-namespaces">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#--list-all-namespaces">- <strong>List All Namespaces</strong></a>
</h4>
<pre><code>    kubectl get namespaces
</code></pre>



<h4 id="--check-pod-status-in-active-namespaces">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#--check-pod-status-in-active-namespaces">- <strong>Check Pod Status in Active Namespaces</strong></a>
</h4>
<pre><code>    kubectl get pods -n &lt;namespace&gt;
</code></pre>



<h4 id="--inspect-deployments-and-replicasets">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#--inspect-deployments-and-replicasets">- <strong>Inspect Deployments and ReplicaSets</strong></a>
</h4>
<pre><code>    kubectl get deployments -n &lt;namespace&gt;
    kubectl get rs -n &lt;namespace&gt;
</code></pre>
<hr>



<h2 id="3-verify-cluster-networking">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#3-verify-cluster-networking"><strong>3. Verify Cluster Networking</strong></a>
</h2>



<h4 id="--service-connectivity">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#--service-connectivity">- <strong>Service Connectivity</strong></a>
</h4>
<pre><code>    kubectl get svc -n &lt;namespace&gt;
</code></pre>



<h4 id="--dns-resolution">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#--dns-resolution">- <strong>DNS Resolution</strong></a>
</h4>
<pre><code>    kubectl exec -n kube-system &lt;coredns-pod&gt; -- nslookup kubernetes.default
</code></pre>



<h4 id="--ingressload-balancer">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#--ingressload-balancer">- <strong>Ingress/Load Balancer</strong></a>
</h4>
<pre><code>    kubectl get ingress -n &lt;namespace&gt;
</code></pre>
<hr>



<h2 id="4-monitor-resource-utilization">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#4-monitor-resource-utilization"><strong>4. Monitor Resource Utilization</strong></a>
</h2>
<p>Node Resource Usage</p>
<pre><code>    kubectl top nodes
</code></pre>
<p>Pod Resource Usage</p>
<pre><code>    kubectl top pods -n &lt;namespace&gt;
</code></pre>
<hr>



<h2 id="5-check-cluster-events">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#5-check-cluster-events"><strong>5. Check Cluster Events</strong></a>
</h2>
<pre><code>    kubectl get events --sort-by='.metadata.creationTimestamp'
</code></pre>
<hr>



<h2 id="6-validate-logging-and-monitoring">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#6-validate-logging-and-monitoring"><strong>6. Validate Logging and Monitoring</strong></a>
</h2>
<ul>
<li>Ensure logging systems (e.g., EFK, Fluentd) are collecting logs as expected.</li>
<li>Verify monitoring dashboards (e.g., Prometheus, Grafana) for anomalies or missing metrics.</li>
</ul>
<hr>



<h2 id="7-escalation-criteria">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#7-escalation-criteria"><strong>7. Escalation Criteria</strong></a>
</h2>
<ul>
<li>Core system pods (kube-apiserver, etcd) are not running.</li>
<li>A node remains in NotReady for more than 10 minutes.</li>
<li>Pods in critical application namespaces are in CrashLoopBackOff or Error state without resolution.</li>
<li>Networking issues persist and cannot be resolved by basic checks.</li>
<li>Cluster resource utilization is critically high (e.g., &gt;90% CPU or memory).</li>
</ul>
<hr>



<h2 id="8-document-findings">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#8-document-findings"><strong>8. Document Findings</strong></a>
</h2>
<ul>
<li>Record all findings in the incident management system, including:</li>
<li>Steps taken during the checkout procedure.</li>
<li>Observed errors or anomalies.</li>
<li>Commands run and their output (if significant).</li>
</ul>



<h2 id="end-of-document">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#end-of-document">End of Document</a>
</h2>
<hr>



<h3 id="what-information-online-helped-you-figure-this-out-what-blogs-or-tools-did-you-use">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#what-information-online-helped-you-figure-this-out-what-blogs-or-tools-did-you-use">What information online helped you figure this out? What blogs or tools did you use?</a>
</h3>
<ul>
<li><a href="https://kubernetes.io/docs/tasks/debug/debug-cluster/">https://kubernetes.io/docs/tasks/debug/debug-cluster/</a></li>
<li><a href="https://kubernetes.io/docs/concepts/">https://kubernetes.io/docs/concepts/</a></li>
<li>From conducting study-groups and working with K3s</li>
</ul>



<h3 id="what-did-you-learn-in-this-process-of-writing-this-up">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#what-did-you-learn-in-this-process-of-writing-this-up">What did you learn in this process of writing this up?</a>
</h3>
<ul>
<li>Kubernetes is an Operating System with similar failure modes to that of Linux</li>
<li>Kubernetes maintains helpful logs</li>
<li>Kubernetes gives helpful errors</li>
<li>KubeCTL is the tool I should internalize and master</li>
<li>KubeCTL can manage multiple clusters remotely</li>
</ul>
<hr>



<h2 id="digging-deeper-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#digging-deeper-">Digging Deeper ‚õèÔ∏è</a>
</h2>
<ol>
<li>Work more in the lab to build a container of your choice and then find out how to
deploy that into your cluster in a secure, scalable way. üëç</li>
</ol>
<p>I have actually experimented with building out custom containers using Podman and using:</p>
<pre><code>    podman commit
</code></pre>
<p>to export the image as a custom local image. Then, I run that image and input the command:</p>
<pre><code>    podman generate kube my-container &gt; my-container.yaml
</code></pre>
<p>This creates a manifest yaml that can then be spun up with Kubernetes.</p>
<ol start="2">
<li>Read this about securing containers: <a href="https://docs.docker.com/build/building/best-">https://docs.docker.com/build/building/best-</a>
practices</li>
</ol>
<p>I do have prior experience with this having completed the DevSecOps certification from TryHackMe, it covers containers security with red-team exercises.
However, it does not cover a ton of defensive measures. This best practices document is going to be really helpful when setting up future containers.</p>
<ul>
<li>Do this to practice securing those containers. <a href="https://killercoda.com/killer-">https://killercoda.com/killer-</a>
shell-cks/scenario/static-manual-analysis-docker üëç</li>
</ul>
<ol start="3">
<li>Read these about securing Kubernetes Deployments:</li>
</ol>
<p><a href="https://kubernetes.io/docs/concepts/security/">https://kubernetes.io/docs/concepts/security/</a> üëç and
<a href="https://kubernetes.io/docs/concepts/security/pod-security-standards/">https://kubernetes.io/docs/concepts/security/pod-security-standards/</a></p>
<ul>
<li>
<p>TLS</p>
</li>
<li>
<p>Secrets API</p>
</li>
<li>
<p>Runtime Classes</p>
</li>
<li>
<p>Network Policies</p>
</li>
<li>
<p>Admission Policy</p>
</li>
<li>
<p>Pod Security standards</p>
</li>
<li>
<p>Open Policy, assumed safe privileged user.</p>
</li>
<li>
<p>Baseline Policy</p>
</li>
<li>
<p>SELinux enforce Policy</p>
</li>
<li>
<p>Do this lab to practice securing Kubernetes: <a href="https://killercoda.com/killer-">https://killercoda.com/killer-</a>
shell-cks/scenario/static-manual-analysis-k8s</p>
</li>
</ul>
<p>So checking the privilege status indicates a container is privleged or not. If privleged, move to insecure directory.</p>
<hr>



<h1 id="labs-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#labs-">Labs ü•ºüß™</a>
</h1>



<h3 id="warmup">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#warmup">Warmup</a>
</h3>
<pre><code>    curl -sfL https://get.k3s.io &gt; /tmp/k3_installer.sh üëç
    
    more /tmp/k3_installer.sh üëç
</code></pre>
<p>What do you notice in the installer?</p>
<p>What checks are there?</p>
<pre><code>    grep -i arch /tmp/k3_installer.sh
</code></pre>
<p>What is the name of the variable holding the architecture?</p>
<p>How is the system finding that variable?</p>
<pre><code>    uname -m
</code></pre>
<p>Verify your system architecture</p>
<pre><code>    grep -iE ‚Äúselinux|sestatus‚Äù /tmp/k3_installer.sh
</code></pre>
<p>Does K3s check if selinux is running, or no? Yes üëç</p>



<h3 id="installing-k3s-and-looking-at-how-it-interacts-with-your-linux-system">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#installing-k3s-and-looking-at-how-it-interacts-with-your-linux-system">Installing k3s and looking at how it interacts with your Linux system</a>
</h3>
<p>Install k3s
curl -sfL <a href="https://get.k3s.io">https://get.k3s.io</a> | sh -</p>
<p>What was installed on your system?</p>
<pre><code>    rpm -qa ‚Äìlast | tac
</code></pre>
<p>Your tasks in this lab are designed to get you thinking about how container deployments interact with</p>
<ol start="3">
<li>
<p>Verify the service is running</p>
<pre><code> systemctl status k3s
</code></pre>
</li>
<li>
<p>Check it systemd configuration</p>
<pre><code> systemctl cat k3s
</code></pre>
</li>
<li>
<p>See what files and ports it is using</p>
<pre><code> ss -ntulp | grep &lt;pid from 3&gt;

 lsof -p &lt;pid from 3&gt;
</code></pre>
</li>
</ol>
<p>#Do you notice any ports that you did not expect?</p>
<ol start="6">
<li>
<p>Verify simple kubectl call to API</p>
<pre><code> kubectl get nodes
</code></pre>
</li>
<li>
<p>Verify K3s is set to start on boot and then cycle the service</p>
<pre><code> systemctl is-enabled k3s

 systemctl stop k3s
</code></pre>
</li>
</ol>
<p>Recheck your steps 3-6</p>
<p>What error do you see, and is it expected?</p>
<p>What is the API port that kubectl is failing on?</p>
<pre><code>    systemctl start k3s
</code></pre>
<p>Verify your normal operations again.</p>
<p>Looking at the K3 environment</p>
<ol>
<li>
<p>Check out components</p>
<pre><code> kubectl version

 kubectl get nodes

 kubectl get pods -A

 kubectl get namespaces

 kubectl get configmaps -A

 kubectl get secrets -A
</code></pre>
</li>
</ol>
<p>#Which namespace seems to be the most used?</p>
<p>Creating Pods, Deployments, and Services</p>
<p>It‚Äôs possible that the lab will fail in this environment. Continue as you can and identify the problem using</p>
<p>the steps at the end of this section.</p>
<ol>
<li>
<p>Create a pod named webpage with the image nginx</p>
<pre><code> kubectl run webpage --image=nginx
</code></pre>
</li>
<li>
<p>Create a pod named database with the image redis and labels set to tier=database</p>
<pre><code> kubectl run database --image=redis --labels=tier=database
</code></pre>
</li>
<li>
<p>Create a service with the name redis-service to expose the database pod within the cluster on port</p>
<pre><code> 6379 (default Redis port)
 kubectl expose pod database --port=6379 --name=redis-service --
 type=ClusterIP
</code></pre>
</li>
<li>
<p>Create a deployment called web-deployment using the image nginx that has 3 replicas</p>
<pre><code> kubectl create deployment web-deployment --image=nginx --
 replicas=3
</code></pre>
</li>
<li>
<p>Verify that the pods are created</p>
<pre><code> kubectl get deployments
 kubectl get pods
</code></pre>
</li>
<li>
<p>Create a new namespace called my-test</p>
<pre><code> kubectl create namespace my-test
</code></pre>
</li>
<li>
<p>Create a new deployment called redis-deploy with the image redis in your my-test namespace with 2</p>
<pre><code> replicas
 kubectl create deployment redis-deploy -n my-test --image=redis -
 -replicas=2
</code></pre>
</li>
</ol>
<p>Do some of your same checks from before. What do you notice about the pods you created? Did they all
work?</p>
<p>If this breaks in the lab, document the error. Check your disk space and RAM, the two tightest
constraints in the lab. Using systemctl restart k3s and journalctl -xe can you figure out what is failing?
(Rocky boxes may have limitations that cause this to not fully deploy, can you find out why?)</p>
<hr>



<h2 id="reflection-questions">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#reflection-questions">Reflection questions:</a>
</h2>
<ol>
<li>What questions do you still have about this week?</li>
</ol>
<p>I would like to know more about Kubernetes and how it can be effectively managed, but this is just a matter of further study.</p>
<ol start="2">
<li>How can you apply this now in your current role in IT? If you‚Äôre not in IT, how can you
look to put something like this into your resume or portfolio?</li>
</ol>
<p>I installed K3S on my personal lab and ran through two days of exercises with the study group, gaining some competency with installing, configuring and deploying a set of pods from manifests. So I could confidently state that I know how to do this and check on the health of the system.</p>
<hr>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu10/#prolug-links-">ProLUG Links ‚õìÔ∏è</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG Book: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/operating-systems/" rel="tag">Operating Systems</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/pacu9/" rel="bookmark">ProLUG Admin Course Unit 9 üêß</a>
  </h1>
  
    <time datetime="2024-11-12T00:00:00Z">November 12, 2024</time>
  
</header>
      
        <h1 id="containers--kubernetes-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#containers--kubernetes-">Containers &amp; Kubernetes ü¶≠</a>
</h1>
<p>One of the most exciting units for me has been exploring deployment and hosting infrastructure. I‚Äôve already spent some time working with Docker and Podman, but I have had limited hands-on experience with Kubernetes. Before this unit, I completed a few interactive Kubernetes labs on Killercoda, covering basic commands, information gathering, and logging.</p>
<p>This week, I followed an interactive K3s lab that guided me through the installation process‚Äîa perfect refresher. Afterward, I jumped onto one of my Proxmox VMs and installed K3s on my homeLab üë®‚Äçüîß</p>
<hr>



<h2 id="discussion-post-1">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#discussion-post-1">Discussion Post 1</a>
</h2>
<p>It‚Äôs a slow day in the NOC and you have heard that a new system of container deployments are being used by your developers. Do some reading about containers, docker, and podman.</p>



<h3 id="1what-resources-helped-me-answer-these-questions">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#1what-resources-helped-me-answer-these-questions">1.	What resources helped me answer these questions</a>
</h3>
<ul>
<li><a href="https://www.redhat.com/en/topics/containers">https://www.redhat.com/en/topics/containers</a></li>
<li>My RHCSA 9 Course on Udemy</li>
<li>Notes I have composed in LogSeq from multiple sources</li>
<li>Julia Evans Blog <a href="https://jvns.ca/">https://jvns.ca/</a></li>
</ul>



<h3 id="2what-did-you-learn-about-that-you-didnt-know-before">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#2what-did-you-learn-about-that-you-didnt-know-before">2.	What did you learn about that you didn‚Äôt know before?</a>
</h3>
<ul>
<li>I did not know that Podman and Kubernetes can run WASM Applications alongside containers. I have some interest in WASM and Subsequent ByteCode, having read about it on occasion.</li>
<li>I did not know that Podman containers can be converted to SystemD services.</li>
<li>I learned a technique that I quite like using podman commit to create a custom compose file from a modified container and will likely use this alot.</li>
</ul>
<p><strong>Terminology that I wasn&rsquo;t familiar with:</strong></p>
<ul>
<li>Control Plane: Manages container orchestration, monitoring, and state across cluster nodes.</li>
<li>The API server: Core interface for communication between users and container clusters.</li>
<li>Scheduler: Assigns containers to nodes based on resource availability and policies.</li>
</ul>



<h3 id="3what-seems-to-be-the-major-benefit-of-containers">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#3what-seems-to-be-the-major-benefit-of-containers">3.	What seems to be the major benefit of containers?</a>
</h3>
<ul>
<li>Can be declarative with compose. So infrastructure can be explicitly defined and easily rebuilt.</li>
<li>Light weight / low resource. Containers are not complete systems and are stripped to the bare essentials, meaning they are very small files that run fast.</li>
</ul>



<h3 id="4what-seems-to-be-some-obstacles-to-container-deployment">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#4what-seems-to-be-some-obstacles-to-container-deployment">4.	What seems to be some obstacles to container deployment?</a>
</h3>
<ul>
<li>From my own experience, mounting persistent volumes was a bit tricky.</li>
<li>Container networking presents a challenge bot conceptually and practically.</li>
<li>Packaging application to run harmoniously within a container environment presents some friction.</li>
<li>Large infrastructure must be broken into microservices, introducing complexity.</li>
</ul>
<hr>



<h2 id="discussion-post-2">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#discussion-post-2">Discussion Post 2</a>
</h2>
<p>You get your first ticket about a problem with containers. One of the engineers is trying to move his container up to the Dev environment shared server. He sends you over this information about the command he‚Äôs trying to run.</p>
<pre><code>[developer1@devserver read]$ podman ps
CONTAINER ID  IMAGE       COMMAND     CREATED     STATUS      PORTS       NAMES

[developer1@devserver read]$ podman images

REPOSITORY                TAG                IMAGE ID      CREATED      SIZE
localhost/read_docker     latest             2c0728a1f483  5 days ago   68.2 MB
docker.io/library/python  3.13.0-alpine3.19  9edd75ff93ac  3 weeks ago  47.5 MB
[developer1@devserver read]$ podman run -dt -p 8080:80/tcp docker.io/library/httpd
You decide to check out the server 
[developer1@devserver read] ss -ntulp
Netid   State    Recv-Q   Send-Q      Local Address:Port        Peer Address:Port         Process
udp     UNCONN   0        0           127.0.0.53%lo:53               0.0.0.0:*             users:((&quot;systemd-resolve&quot;,pid=166693,fd=13))
tcp     LISTEN   0        80              127.0.0.1:3306             0.0.0.0:*             users:((&quot;mariadbd&quot;,pid=234918,fd=20))
tcp     LISTEN   0        128               0.0.0.0:22               0.0.0.0:*             users:((&quot;sshd&quot;,pid=166657,fd=3))
tcp     LISTEN   0        4096        127.0.0.53%lo:53               0.0.0.0:*             users:((&quot;systemd-resolve&quot;,pid=166693,fd=14))
tcp     LISTEN   0        4096                    *:8080                   *:*             users:((&quot;node_exporter&quot;,pid=662,fd=3))
</code></pre>



<h3 id="1-what-do-you-think-the-problem-might-be-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#1-what-do-you-think-the-problem-might-be-">1. What do you think the problem might be? üîç</a>
</h3>
<p>There is a container call node exporter that is listening on port 8080, therefore the port is already in use. I think this is a pretty common issue as this port is normally used for public traffic. With many nodes running it is easy to double assign a port.</p>



<h3 id="2-how-will-you-test-this-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#2-how-will-you-test-this-">2. How will you test this? ü§î</a>
</h3>
<p>I would run the conflicting container run command with a slight port change.
podman run -dt -p 8081:80/tcp docker.io/library/httpd</p>



<h3 id="3-the-developer-tells-you-that-hes-pulling-a-local-image-do-you-find-this-to-be-true-or-is-something-else-happening-in-their-run-command">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#3-the-developer-tells-you-that-hes-pulling-a-local-image-do-you-find-this-to-be-true-or-is-something-else-happening-in-their-run-command">3. The developer tells you that he‚Äôs pulling a local image, do you find this to be true, or is something else happening in their run command?</a>
</h3>
<p>It is true that once and image is pulled, it is stored locally. So the developer may have <strong>pulled</strong> the image. However in the command he is specifying a source for pulling a fresh container, so the dev is definitely sus. Typically if the image has been pulled it is given a container ID, which is then used to build with.</p>



<h2 id="installing-k3s-in-my-homelab-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#installing-k3s-in-my-homelab-">Installing K3s in my HomeLab üëç</a>
</h2>
<p>After completing the suggested lab, I took note of installation process and replicated it on my HomeLab. I just wanted to share my process and bumps.</p>



<h3 id="1-installation-from-curl-script">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#1-installation-from-curl-script">1. Installation from curl script</a>
</h3>
<pre><code>curl -sfL https://get.k3s.io | sh -
</code></pre>



<h3 id="2-making-sure-the-service-is-running-in-systemd">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#2-making-sure-the-service-is-running-in-systemd">2. Making sure the service is running in systemD</a>
</h3>
<pre><code>systemctl status k3s
</code></pre>



<h3 id="3-changing-config-permissions-problem-that-had-stumped-me">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#3-changing-config-permissions-problem-that-had-stumped-me">3. Changing config permissions (Problem that had stumped me)</a>
</h3>
<pre><code>sudo chmod 644 /etc/rancher/k3s/k3s.yaml
</code></pre>



<h3 id="4-deploying-a-pod">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#4-deploying-a-pod">4. Deploying a pod</a>
</h3>
<p>kubectl run nginx &ndash;image=nginx:alpine</p>



<h3 id="5-making-an-alias-so-commands-are-less-annoying">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#5-making-an-alias-so-commands-are-less-annoying">5. Making an alias so commands are less annoying</a>
</h3>
<pre><code>alias k=kubectl
</code></pre>



<h3 id="6-checking-the-running-pod">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#6-checking-the-running-pod">6. Checking the running pod</a>
</h3>
<pre><code>k get pods
</code></pre>



<h2 id="digging-deeper-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#digging-deeper-">Digging Deeper ‚õèÔ∏è</a>
</h2>



<h3 id="1see-if-you-can-get-a-deployment-working-in-the-lab">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#1see-if-you-can-get-a-deployment-working-in-the-lab">1.	See if you can get a deployment working in the lab.</a>
</h3>
<p>Screen shots from this deployment</p>
<p><img src="https://trevorsmale.github.io/techblog/images/PACU9/1.png" alt="Step 1"><br>
<img src="https://trevorsmale.github.io/techblog/images/PACU9/volume.png" alt="Step 2"><br>
<img src="https://trevorsmale.github.io/techblog/images/PACU9/build.png" alt="Step 3"><br>
<img src="https://trevorsmale.github.io/techblog/images/PACU9/ps.png" alt="Step 4"><br>
<img src="https://trevorsmale.github.io/techblog/images/PACU9/attach.png" alt="Step 5"><br>
<img src="https://trevorsmale.github.io/techblog/images/PACU9/install1.png" alt="Step 6"><br>
<img src="https://trevorsmale.github.io/techblog/images/PACU9/install2.png" alt="Step 7"><br>
<img src="https://trevorsmale.github.io/techblog/images/PACU9/go.png" alt="Step 8"><br>
<img src="https://trevorsmale.github.io/techblog/images/PACU9/rungo.png" alt="Step 9"><br>
<img src="https://trevorsmale.github.io/techblog/images/PACU9/running.png" alt="Step 10"></p>



<h3 id="what-worked-well">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#what-worked-well">What worked well?</a>
</h3>
<p>creating a persistent volume and attaching to the volume worked well.
mkdir /root/TreasuresVolume
Pulling and building an image worked well.
Attaching to the container and interacting with it went well.
podman run -dit &ndash;name TreasuresContainer -v /root/TreasuresVolume:/app docker.io/library/golang:alpine tail -f /dev/null
apk add vim gcc bash</p>



<h3 id="what-did-you-have-to-troubleshoot">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#what-did-you-have-to-troubleshoot">What did you have to troubleshoot?</a>
</h3>
<p>I ran into trouble when exiting the container. It will kill the container, forcing me to start it again, which was frustrating.
Having done this in the past, I thought this would not be an issue. However, I just learned that containers without continually running services will die when exited.
The fix for such an issue is to run something light and persistent on the container in order to keep it alive. This can be accomplished with a bash script or turning a go binary into a system binary to keep running.</p>



<h3 id="what-documentation-can-you-make-to-be-able-to-do-this-faster-next-time">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#what-documentation-can-you-make-to-be-able-to-do-this-faster-next-time">What documentation can you make to be able to do this faster next time?</a>
</h3>
<p>Actually, this blog is used to partially keep track of this. I use LogSeq as a second brain, where I will definitely copy and paste this info into my Podman section.</p>
<hr>



<h2 id="reflection-questions">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#reflection-questions">Reflection Questionsü§î</a>
</h2>



<h3 id="1what-questions-do-you-still-have-about-this-week">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#1what-questions-do-you-still-have-about-this-week">1.	What questions do you still have about this week?</a>
</h3>
<p>I would like to know more about small scale deployments of Kubernetes such as the one I deployed using Rancher and K3S. More specifically I would like to know what limitations a small scale deployment has versus a multi machine / multi node system.</p>



<h3 id="2how-can-you-apply-this-now-in-your-current-role-in-it-if-youre-not-in-it-how-can-you-look-to-put-something-like-this-into-your-resume-or-portfolio">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#2how-can-you-apply-this-now-in-your-current-role-in-it-if-youre-not-in-it-how-can-you-look-to-put-something-like-this-into-your-resume-or-portfolio">2.	How can you apply this now in your current role in IT? If you‚Äôre not in IT, how can you look to put something like this into your resume or portfolio?</a>
</h3>
<p>This content is highly applicable to my intended work as deploying services is becoming increasingly important, as evidenced by the requirement for knowledge of Podman in the RHCSA 9. I already have some container deployment work to display to prospective employers atm. I plan to further my knowledge in this area, especially in regard to Kubernetes as this seems to be the operating system of the internet.</p>
<hr>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu9/#prolug-links-">ProLUG Links ‚õìÔ∏è</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG Book: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/operating-systems/" rel="tag">Operating Systems</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/pacu8/" rel="bookmark">ProLUG Admin Course Unit 8 üêß</a>
  </h1>
  
    <time datetime="2024-10-30T00:00:00Z">October 30, 2024</time>
  
</header>
      
        <h1 id="scripting-system-checks">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu8/#scripting-system-checks">Scripting System Checks</a>
</h1>
<p><img src="https://trevorsmale.github.io/techblog/images/PACU8/ibb.jpg" alt="Arnold"></p>
<p>Once again beyond the Discussion Posts and Labbing. I spent a great deal of time scripting/programming System checks. After completing the labs which Bash Scripting and intro to &lsquo;C&rsquo;, I got really into GO as a system util. I have a particularly productive day with using the embed.fs feature of GO and packing unix system tools together in a single go program at compilation. I think there is a ton of potential here for my own uses. üë®‚Äçüîß</p>



<h2 id="discussion-post-1">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu8/#discussion-post-1">Discussion Post 1</a>
</h2>
<p>Scenario</p>
<p>It‚Äôs a 2-week holiday in your country, and most of the engineers and architects who designed the system are out of town. You‚Äôve noticed a pattern of logs filling up on a set of web servers due to increased traffic. Research and verification show that the logs are being sent off in real time to Splunk. Your team has been deleting the logs every few days, but a 3rd-shift engineer missed this in the notes, causing downtime. How might you implement a simple fix to stop-gap the problem until all engineering resources return next week?</p>
<ul>
<li>
<p><strong>Resources Used</strong>:</p>
</li>
<li>
<p>TryHackMe (Splunk) Intro</p>
</li>
<li>
<p>Study Group discussion</p>
</li>
<li>
<p>ChatGPT</p>
</li>
<li>
<p>Blogs:</p>
</li>
<li>
<p><a href="https://www.nohl.eu/tech-resources/notes-to-linux/log-files-in-tmpfs-without-breaking-logging/">Nohl&rsquo;s Tech Resources: Log Files in tmpfs Without Breaking Logging</a></p>
</li>
<li>
<p><a href="https://dietpi.com/docs/software/log_system/">DietPi Documentation: Log System</a></p>
</li>
</ul>



<h4 id="why-cant-you-just-make-a-design-fix-and-add-space-in-varlog-on-all-these-systems">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu8/#why-cant-you-just-make-a-design-fix-and-add-space-in-varlog-on-all-these-systems">Why can‚Äôt you just make a design fix and add space in /var/log on all these systems?</a>
</h4>
<p>Adding more space to <code>/var/log</code> might be a design fix, but it isn‚Äôt feasible in the short term due to:</p>
<ul>
<li><strong>Operational Constraints</strong>: Extending storage may involve downtime, additional permissions, or architectural changes that can‚Äôt be approved without the primary engineers.</li>
<li><strong>Temporary Nature of the Fix</strong>: Increasing space only delays the issue. If logs continue to grow, the problem will recur once space is exhausted again.</li>
</ul>



<h4 id="why-cant-you-just-make-a-design-change-and-use-logrotate-more-frequently">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu8/#why-cant-you-just-make-a-design-change-and-use-logrotate-more-frequently">Why can‚Äôt you just make a design change and use logrotate more frequently?</a>
</h4>
<ul>
<li><strong>Possibility of Log Loss</strong>: Higher logrotate frequency could still miss high-frequency log spikes, especially during unusual traffic peaks, risking logs being deleted before Splunk ingestion is complete.</li>
<li><strong>Configuration and Testing</strong>: Aggressive logrotate adjustments may interfere with processes expecting logs at specific retention periods. Testing changes in production without key team members isn‚Äôt ideal.</li>
</ul>



<h4 id="temporary-fix-options">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu8/#temporary-fix-options">Temporary Fix Options</a>
</h4>
<p>To address the issue, consider implementing a temporary fix by configuring a log retention policy that aggressively compresses or truncates logs without disrupting active processes. Here are some potential approaches:</p>



<h3 id="implement-a-temporary-cron-job">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu8/#implement-a-temporary-cron-job">Implement a Temporary <strong>Cron Job</strong></a>
</h3>
<p>Schedule a cron job to truncate logs on a more aggressive schedule without deleting them. For example:</p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">&gt; /var/log/access.log
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="sb">```</span>bash
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  &gt; /var/log/access.log</span></span></code></pre></div>
<p>This would empty the log file without removing it or impacting the active file descriptors held by any running processes.</p>



<h3 id="set-up-temporary-log-compression">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu8/#set-up-temporary-log-compression">Set Up Temporary Log Compression</a>
</h3>
<p>Compress the logs after truncation if additional space savings are needed. Tools like gzip can compress logs efficiently, reducing disk space usage and ensuring logs are still accessible if required for audits or incident investigations.</p>



<h3 id="implement-a-ram-disk-for-temporary-logs">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu8/#implement-a-ram-disk-for-temporary-logs">Implement a RAM Disk for Temporary Logs</a>
</h3>
<p>As a short-term measure, you could set up a RAM disk for logs that don‚Äôt need long-term retention. This allows logs to be stored temporarily in memory, reducing disk space pressure. For instance</p>

  

<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  mount -t tmpfs -o <span class="nv">size</span><span class="o">=</span>512M tmpfs /var/log/temp</span></span></code></pre></div>
<p>You could then configure lower-priority logs to write here temporarily, knowing they will be lost upon reboot, which may be acceptable in a crisis scenario.</p>



<h3 id="adjust-splunk-forwarder-configuration">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu8/#adjust-splunk-forwarder-configuration">Adjust Splunk Forwarder Configuration:</a>
</h3>
<p>If possible, configure the Splunk forwarder to filter logs more aggressively, reducing the volume of logs that are retained on the system. The props.conf or inputs.conf files can be configured to forward logs without keeping local copies.</p>
<p>Adding more space to /var/log might be a design fix, but it isn‚Äôt feasible in the short term due to the following:</p>
<ul>
<li>Operational Constraints: Extending storage could involve downtime, additional permissions, or changes that require architectural decisions that can‚Äôt be made without the primary engineers.</li>
<li>Temporary Nature of the Fix: Increasing space only delays the issue rather than preventing it. If the logs keep growing, the problem will recur once space runs out again.</li>
</ul>



<h2 id="discussion-post-2">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu8/#discussion-post-2">Discussion Post 2</a>
</h2>
<p>You are the only Linux Administrator at a small healthcare company. The engineer/admin before you left you a lot of scripts to untangle. This is one of our many tasks as administrators, so you set out to accomplish it. You start to notice that he only ever uses nested if statements in bash. You also notice that every loop is a conditional <code>while true</code> and then he breaks the loop after a decision test each loop. You know his stuff works, but you think it could be more easily written for supportability, for you and future admins. You decide to write up some notes by reading some google, AI, and talking to your peers.</p>



<h3 id="compare-the-use-of-nested-if-versus-case-statement-in-bash">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu8/#compare-the-use-of-nested-if-versus-case-statement-in-bash">Compare the use of nested if versus case statement in bash.</a>
</h3>
<ul>
<li>Nested if statements are useful for situations where each condition depends on the result of the previous test, requiring a hierarchy or sequence.</li>
<li>A case statement is ideal for handling multiple discrete values of a variable, especially if there are many possible branches. It‚Äôs typically cleaner and more readable than a nested if.</li>
</ul>



<h3 id="compare-the-use-of-conditional-and-counting-loops-under-what-circumstances">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu8/#compare-the-use-of-conditional-and-counting-loops-under-what-circumstances">Compare the use of conditional and counting loops. Under what circumstances</a>
</h3>
<ul>
<li>Use conditional loops (while) when you don‚Äôt know the number of iterations in advance and need to loop based on conditions.</li>
<li>Use counting loops (for) when you have a set number of iterations or are working with a list. This structure is clearer and prevents issues that may arise from unintentional infinite loops.</li>
</ul>



<h3 id="would-you-use-one-or-the-other">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu8/#would-you-use-one-or-the-other">would you use one or the other?</a>
</h3>
<p>optimizing or refactoring Bash scripts the Engineer had left me.</p>
<ul>
<li>I would replace nested if statements with case statements when possible to improve readability, especially when handling multiple discrete values.</li>
<li>Of course, I would comment things for added communication/ maintainability.</li>
<li>I would Limit while true loops to cases where no predictable count or list is available. Clearly define a break condition early to avoid infinite loops.</li>
<li>I would Use for loops for counting or iterating over arrays or lists, as they provide a clean structure with known iteration limits.</li>
</ul>
<hr>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu8/#prolug-links-">ProLUG Links ‚õìÔ∏è</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG Book: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/operating-systems/" rel="tag">Operating Systems</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/pacu7/" rel="bookmark">ProLUG Admin Course Unit 7 üêß</a>
  </h1>
  
    <time datetime="2024-10-27T00:00:00Z">October 27, 2024</time>
  
</header>
      
        <h1 id="security">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu7/#security">Security</a>
</h1>



<h2 id="patching-the-system-package-management">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu7/#patching-the-system-package-management">Patching the system/ Package Management</a>
</h2>



<h3 id="yum-dnf-rpm">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu7/#yum-dnf-rpm">yum, dnf, rpm</a>
</h3>
<p><img src="https://trevorsmale.github.io/techblog/images/PACU7/CatPackage.jpg" alt="Packaged Cat"></p>
<p>As the course progresses, I am learning more deeply within a study group. Aside from the lab work and discussion posts. I have been putting a lot of hours satisfying curiosities regarding the linux system.
For this unit we did a deep dive into packaging, going so far as to look at the history and reasoning before decision making. We had also looked at packages are managed within tightly controlled environments.
I now feel that I have a robust understanding of the theory and practical elements of Redhat packaging and beyond.</p>



<h2 id="discussion-post-1">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu7/#discussion-post-1">Discussion Post 1:</a>
</h2>
<p>Why software versioning is important. ü§î</p>
<ol>
<li>Versioning enables you to monitor software updates systematically, making it easier to troubleshoot, roll back changes, and trace modifications for security or functionality purposes. üëç</li>
<li>One can manage dependencies confidently, avoiding conflicts between system components, libraries, and tools. crucial for stable and consistent deployments. üëç</li>
<li>We can verify package integrity, ensuring installed software hasn‚Äôt been altered or corrupted. Essential for maintaining a secure and stable system environment. üëç</li>
</ol>



<h2 id="discussion-post-2">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu7/#discussion-post-2">Discussion Post 2:</a>
</h2>



<h3 id="scenario">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu7/#scenario">Scenario:</a>
</h3>
<p>You are new to a Linux team. A ticket has come in from an application team and has already been escalated to your manager. They want software installed on one of their servers but you cannot find any documentation and your security team is out to lunch and not responding. You remember from some early documentation that you read that all the software in the internal repos you currently have are approved for deployment on servers. You want to also verify by checking other servers that this software exists. This is an urgent ask and your manager is hovering.
How can you check all the repos on your system to see which are active? ü§î
How would you check another server to see if the software was installed there? ü§î
If you find the software, how might you figure out when it was installed? (Time/Date) ü§î</p>



<h3 id="answer">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu7/#answer">Answer:</a>
</h3>
<p>In an urgent situation like this, I‚Äôd first check which approved software repositories are active on my system,
then verify if the software is already installed on similar servers to ensure it‚Äôs safe to proceed. Finally, I‚Äôd review the installation history to confirm when it was
added. Working with Red Hat packaging and package management systems has many more options than I was expecting; through labbing in the study group,
I‚Äôve gained a much better understanding of packages, dependencies, and package management.</p>
<p>Packing was a pretty deep rabbit hole for me.</p>
<p>This is the process I&rsquo;d follow for this case:</p>
<ol>
<li>
<p>Check Active Repositories
dnf repolist</p>
</li>
<li>
<p>Check if the Software is Installed on Your System
rpm -qa | grep &lt;software_name&gt;
or
dnf list installed &lt;software_name&gt;</p>
</li>
<li>
<p>Check Another Server for Software Installation with SSH and Step 2 commands.</p>
</li>
<li>
<p>View Installation History (Time/Date)</p>
<p>dnf history info &lt;transaction_id&gt;
dnf history list &lt;software_name&gt;</p>
</li>
</ol>
<hr>



<h2 id="discussion-post-3">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu7/#discussion-post-3">Discussion Post 3</a>
</h2>
<p>(After you have completed the lab) - Looking at the concept of group install from DNF or Yum. Why do you think an administrator may never want to use that in a running system? Why might an engineer want to or not want to use that? This is a thought exercise, so it‚Äôs not a ‚Äúright or wrong‚Äù answer it‚Äôs for you to think about.</p>



<h3 id="question">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu7/#question">Question:</a>
</h3>
<p>What is the concept of software bloat, and how do you think it relates?</p>



<h3 id="answer-1">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu7/#answer-1">Answer:</a>
</h3>
<p>Software bloat is when essential tools/packages are larger than they need to be, effecting performance, reliability and security. By performance I am referring to the loss of potential performance from unessecary resource use. In regards to reliability, more complex systems inherently have more potential to fail. Security means many things, so I am specifically thinking about attack surface and potential for vulnerability due to the aforementioned complexity.</p>



<h3 id="question-1">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu7/#question-1">Question:</a>
</h3>
<p>What is the concept of a security baseline, and how do you think it relates?</p>



<h3 id="answer-2">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu7/#answer-2">Answer:</a>
</h3>
<p>A set of minimum security standards and controls that organizations implement to protect systems.</p>



<h3 id="question-2">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu7/#question-2">Question:</a>
</h3>
<p>How do you think something like this affects performance baselines?</p>



<h3 id="answer-3">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu7/#answer-3">Answer:</a>
</h3>
<p>By targeting specific packages, tracking changes, reducing unnessecary dependancies and bloat, we satisfy the tenants of a security baseline by establishing consistency, simplifying compliance, enhancing efficiency and reduce risk.</p>
<hr>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu7/#prolug-links-">ProLUG Links ‚õìÔ∏è</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG Book: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/operating-systems/" rel="tag">Operating Systems</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/pacu6/" rel="bookmark">ProLUG Admin Course Unit 6 üêß</a>
  </h1>
  
    <time datetime="2024-10-21T00:00:00Z">October 21, 2024</time>
  
</header>
      
        <h1 id="security--firewalld--ufw-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#security--firewalld--ufw-">Security ‚Äì Firewalld &amp; UFW üî•üß±</a>
</h1>
<p>In this unit, we explore essential concepts in firewall management using Firewalld and UFW. A firewall acts as a security system, controlling the flow of traffic between networks by enforcing rules based on zones ‚Äîlogical areas with different security policies. Services are predefined sets of ports or protocols that firewalls allow or block, and zones like DMZ (Demilitarized Zone) provide added security layers by isolating public-facing systems. Stateful packet filtering tracks the state of connections, allowing more dynamic rules, while stateless packet filtering inspects individual packets without connection context. Proxies facilitate indirect network connections for security and privacy, while advanced security measures such as Web Application Firewalls (WAF) and Next-Generation Firewalls (NGFW) offer specialized protection against modern threats.</p>
<hr>



<h1 id="lab-work-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#lab-work-">Lab Work üß™ü•º</a>
</h1>



<h2 id="intro">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#intro">Intro</a>
</h2>
<p>This week, we dove deep into configuring and testing firewall settings in our Discord study group. I had several virtual machines set up in my ProxMox home lab, and we experimented while completing the lab work. As usual, we went on several tangents, verifying ideas. In total, we spent over 5 hours running commands, experimenting with different configurations, breaking things, and debating solutions. By the end of the session, I gained a practical understanding of Firewalld configuration, packet sending, and packet tracing with Wireshark. It was frustrating at times, but ultimately rewarding.</p>



<h3 id="sending--receiving-test-packets-experiment">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#sending--receiving-test-packets-experiment">Sending &amp; Receiving test packets experiment</a>
</h3>



<h4 id="1-so-we-set-up-one-server-to-receive-a-packet">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#1-so-we-set-up-one-server-to-receive-a-packet">1. So we set up one server to receive a packet:</a>
</h4>
<pre><code>    nc -l -p -u 12345 &gt; received_file
</code></pre>



<h4 id="2-sending-from-another-server-and-noted-that-the-packet-was-recorded-in-received_file">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#2-sending-from-another-server-and-noted-that-the-packet-was-recorded-in-received_file">2. Sending from another server and noted that the packet was recorded in <strong>received_file</strong></a>
</h4>
<pre><code>    echo 'message1' | nc -u server_b_ip 12345
</code></pre>



<h4 id="3-we-set-firewalld-to-block-udp-port-12345">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#3-we-set-firewalld-to-block-udp-port-12345">3. We set Firewalld to block udp port 12345</a>
</h4>
<pre><code>    sudo firewall-cmd --zone=public --add-rich-rule='rule family=&quot;ipv4&quot; source address=&quot;192.168.2.166&quot; port protocol=&quot;udp&quot; port=&quot;12345&quot; accept' --permanent
</code></pre>



<h4 id="4-so-we-set-up-one-server-to-receive-a-packet">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#4-so-we-set-up-one-server-to-receive-a-packet">4. So we set up one server to receive a packet:</a>
</h4>
<pre><code>    nc -l -p -u 12345 &gt; received_file
</code></pre>



<h4 id="5-sending-from-another-server">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#5-sending-from-another-server">5. Sending from another server:</a>
</h4>
<pre><code>    echo 'Blocked' | nc -u server_b_ip 12345
</code></pre>



<h4 id="6-we-then-noted-that-this-packet-did-not-come-through">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#6-we-then-noted-that-this-packet-did-not-come-through">6. We then noted that this packet did not come through</a>
</h4>



<h4 id="7-we-then-set-up-netcat-to-listen-for-packets-on-udp-port-12346-slightly-different">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#7-we-then-set-up-netcat-to-listen-for-packets-on-udp-port-12346-slightly-different">7. We then set up netcat to listen for packets on udp port 12346 &lsquo;slightly different&rsquo;</a>
</h4>
<pre><code>    nc -l -p -u 12346 &gt; received_file
</code></pre>



<h4 id="8-sending-from-another-server-and-noted-that-the-packet-was-recorded-in-received_file">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#8-sending-from-another-server-and-noted-that-the-packet-was-recorded-in-received_file">8. Sending from another server and noted that the packet was recorded in <strong>received_file</strong></a>
</h4>
<pre><code>    echo 'message2' | nc -u server_b_ip 12346
</code></pre>



<h4 id="9-then-we-busted-open-wireshark-on-the-packet-receiving-vm-and-turned-on-general-packet-scanning">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#9-then-we-busted-open-wireshark-on-the-packet-receiving-vm-and-turned-on-general-packet-scanning">9. Then we busted open WireShark on the packet receiving VM and turned on general packet scanning</a>
</h4>
<pre><code>    echo 'mom' | nc -u server_b_ip 12346 
</code></pre>



<h4 id="10-we-then-looked-at-all-of-the-ways-we-could-inspect-the-packets-including-additional-data-bits-over-udp-for-no-apparent-reason">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#10-we-then-looked-at-all-of-the-ways-we-could-inspect-the-packets-including-additional-data-bits-over-udp-for-no-apparent-reason">10. We then looked at all of the ways we could inspect the packets including additional data bits over UDP for no apparent reason.</a>
</h4>
<p>Fin</p>
<hr>



<h1 id="types-of-firewalls-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#types-of-firewalls-">Types of Firewalls üîç</a>
</h1>



<h2 id="firewalld-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#firewalld-">Firewalld üî•üß±</a>
</h2>
<p>Uses <strong>zones</strong> to define the level of trust for network connections, making it easy to apply different security settings to various types of connections (like home, public, or work). It‚Äôs dynamic, meaning changes can be made without restarting the firewall, ensuring smooth operation.</p>



<h3 id="zones-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#zones-">Zones üç±</a>
</h3>
<p>The concept is specific to Firewalld. Zones are a predefined set of firewall rules that determine the level of trust assigned to a network connection. Zones allow you to apply different security policies to different network interfaces based on how much you trust the network.</p>



<h3 id="common-commands">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#common-commands">Common Commands</a>
</h3>
<pre><code>    firewall-cmd --state
</code></pre>
<p>Checks if Firewalld is running.</p>
<pre><code>    firewall-cmd --get-active-zones
</code></pre>
<p>Lists all active zones and the interfaces associated with them.</p>
<pre><code>    firewall-cmd --get-default-zone
</code></pre>
<p>Displays the default zone for new interfaces or connections.</p>
<pre><code>    firewall-cmd --set-default-zone=ZONE
</code></pre>
<p>Changes the default zone to the specified zone.</p>
<pre><code>    firewall-cmd --zone=ZONE --add-service=SERVICE
</code></pre>
<p>Allows a service (e.g., SSH, HTTP) in the specified zone.</p>
<pre><code>    firewall-cmd --zone=ZONE --remove-service=SERVICE
</code></pre>
<p>Removes a service from the specified zone.</p>
<pre><code>    firewall-cmd --zone=ZONE --add-port=PORT/PROTOCOL
</code></pre>
<p>Opens a specific port (e.g., 80/tcp) in the specified zone.</p>
<pre><code>    firewall-cmd --zone=ZONE --remove-port=PORT/PROTOCOL
</code></pre>
<p>Closes a specific port in the specified zone.</p>
<pre><code>    firewall-cmd --reload
</code></pre>
<p>Reloads the Firewalld configuration without dropping active connections.</p>
<pre><code>    firewall-cmd --list-all
</code></pre>
<p>Lists all the rules and settings in the active zone.</p>
<pre><code>    firewall-cmd --permanent
</code></pre>
<p>Applies changes permanently (used with other commands to ensure changes persist after reboots).</p>
<pre><code>    firewall-cmd --runtime-to-permanent
</code></pre>
<p>Converts the current runtime configuration to a permanent one.</p>



<h3 id="zone-example">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#zone-example">Zone example</a>
</h3>
<ul>
<li>A public zone might have stricter rules, blocking most traffic except for essential services like web browsing.</li>
<li>A home zone could allow more open traffic, such as file sharing, because the network is more trusted.</li>
</ul>



<h2 id="ufw-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#ufw-">UFW üî•üß±</a>
</h2>
<p><strong>Uncomplicated Firewall</strong> is a user-friendly firewall designed to simplify the process of controlling network traffic by allowing or blocking connections. UFW is commonly used on <strong>Ubuntu</strong> and provides easy commands for setting up firewall rules, making it ideal for beginners. Despite it is simplicity, it is powerful enough to handle complex configurations.</p>



<h3 id="default-deny-policy-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#default-deny-policy-">Default Deny Policy üîê</a>
</h3>
<ul>
<li>By default, UFW denies all incoming connections while allowing outgoing ones. This enhances security by requiring users to explicitly allow any incoming traffic.</li>
</ul>



<h3 id="common-commands-1">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#common-commands-1">Common Commands</a>
</h3>
<pre><code>    sudo ufw status
</code></pre>
<p>Displays the current status of UFW and active rules.</p>
<pre><code>    sudo ufw enable
</code></pre>
<p>Enables the UFW firewall.</p>
<pre><code>    sudo ufw disable
</code></pre>
<p>Disables the UFW firewall.</p>
<pre><code>    sudo ufw default deny incoming
</code></pre>
<p>Sets the default policy to deny all incoming connections.</p>
<pre><code>    sudo ufw default allow outgoing
</code></pre>
<p>Sets the default policy to allow all outgoing connections.</p>
<pre><code>    sudo ufw allow PORT
</code></pre>
<p>Allows traffic on a specific port (e.g., <code>sudo ufw allow 22</code> to allow SSH).</p>
<pre><code>    sudo ufw deny PORT
</code></pre>
<p>Denies traffic on a specific port.</p>
<pre><code>    sudo ufw delete allow PORT
</code></pre>
<p>Removes a previously allowed rule for a port.</p>
<pre><code>    sudo ufw allow SERVICE
</code></pre>
<p>Allows traffic for a service by name (e.g., <code>sudo ufw allow ssh</code>).</p>
<pre><code>    sudo ufw deny SERVICE
</code></pre>
<p>Denies traffic for a service by name.</p>
<pre><code>    sudo ufw allow from IP
</code></pre>
<p>Allows traffic from a specific IP address.</p>
<pre><code>    sudo ufw deny from IP
</code></pre>
<p>Denies traffic from a specific IP address.</p>
<pre><code>    sudo ufw allow proto PROTOCOL from IP to any port PORT
</code></pre>
<p>Allows traffic for a specific protocol, source IP, and port (e.g., <code>sudo ufw allow proto tcp from 192.168.1.100 to any port 80</code>).</p>
<pre><code>    sudo ufw reset
</code></pre>
<p>Resets all UFW rules to default.</p>
<pre><code>    sudo ufw reload
</code></pre>
<p>Reloads UFW rules without disabling the firewall.</p>



<h2 id="waf-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#waf-">WAF üî•üß±</a>
</h2>
<p><strong>Web Application Firewall</strong> is a security system designed to protect web applications by filtering and monitoring HTTP traffic between a web application and the internet. It helps prevent common web-based attacks like SQL injection, cross-site scripting (XSS), and cross-site request forgery (CSRF) by analyzing the incoming and outgoing traffic and blocking malicious requests. Unlike traditional firewalls that focus on network security, a WAF specifically targets the security of web applications and can be an important part of a layered defense strategy.</p>



<h3 id="more-sophisticated-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#more-sophisticated-">More Sophisticated üç∑</a>
</h3>
<p>are generally more sophisticated than Firewalld or UFW because they operate at the application layer (Layer 7) of the OSI model. Blocking traffic is one thing, but packet inspection is another.</p>



<h3 id="quite-a-few-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#quite-a-few-">Quite a few ‚öñÔ∏è</a>
</h3>
<p>There are many Web Application Firewalls out there that cover specific cloud platforms or web services. Here is a list of some popular ones:</p>
<ul>
<li>AWS WAF</li>
<li>Cloudflare WAF</li>
<li>F5 Advanced WAF</li>
<li>Imperva WAF</li>
<li>ModSecurity</li>
<li>Barracuda WAF</li>
<li>Sucuri WAF</li>
<li>Akamai Kona Site Defender</li>
<li>Fortinet FortiWeb</li>
</ul>



<h2 id="ngfw-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#ngfw-">NGFW üî•üß±üß†</a>
</h2>
<p><strong>Next-Generation Firewall</strong> is an advanced type of firewall that goes beyond traditional firewall features like packet filtering. It combines standard firewall capabilities with more advanced functionalities such as deep packet inspection (DPI), intrusion prevention systems (IPS), and application-level control. NGWs can inspect and control traffic at a more granular level, allowing administrators to set security rules based on specific applications, users, or behaviors.</p>



<h3 id="features-of-a-typical-ngfw">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#features-of-a-typical-ngfw">Features of a typical NGFW</a>
</h3>
<ul>
<li><strong>Deep Packet Inspection (DPI)</strong>: Examines the content of data packets, not just their headers, allowing the firewall to identify and block threats hidden in the traffic.</li>
<li><strong>Intrusion Detection and Prevention System (IDS/IPS)</strong>: Monitors network traffic for suspicious activity and can take action (like blocking or alerting) to prevent attacks in real-time.</li>
<li><strong>Application Awareness and Control</strong>: Recognizes and manages specific applications (e.g., Facebook, Skype) regardless of port or protocol, allowing for fine-grained traffic control.</li>
<li><strong>Advanced Malware Protection (AMP)</strong>: Detects and blocks malware using both signature-based detection and behavioral analysis to prevent malware from entering the network.</li>
<li><strong>SSL/TLS Decryption</strong>: Decrypts encrypted traffic (HTTPS) for inspection to detect threats hiding inside secure channels.</li>
<li><strong>User Identity Integration</strong>: Applies firewall rules based on user identity or group membership rather than just IP addresses, providing more flexible access control.</li>
<li><strong>Threat Intelligence Feeds</strong>: Uses real-time threat data from global databases to protect against emerging threats and malicious IP addresses or domains.</li>
<li><strong>Cloud-Delivered Security</strong>: Provides scalable and flexible cloud-based protection services such as sandboxing, traffic analysis, and updates for zero-day attacks.</li>
<li><strong>Virtual Private Network (VPN) Support</strong>: Allows secure, encrypted connections for remote users or between different networks (site-to-site or remote access VPNs).</li>
<li><strong>URL Filtering</strong>: Controls access to websites based on categories (e.g., social media, gambling) or specific URLs, helping enforce acceptable use policies.</li>
<li><strong>Quality of Service (QoS)</strong>: Prioritizes certain types of traffic, ensuring that critical applications receive the necessary bandwidth and reducing congestion.</li>
<li><strong>Zero-Trust Network Segmentation</strong>: Implements policies based on strict access control, ensuring that users and devices only access the resources they are explicitly permitted.</li>
<li><strong>Sandboxing</strong>: Isolates suspicious files or code in a secure environment to detect malicious behavior without affecting the rest of the network.</li>
<li><strong>Logging and Reporting</strong>: Provides detailed logs and reports on network traffic, blocked threats, and firewall activity for auditing and troubleshooting.</li>
</ul>



<h3 id="ngfw-products">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#ngfw-products">NGFW Products</a>
</h3>
<ul>
<li>Palo Alto Networks NGFW</li>
<li>Cisco Firepower NGFW</li>
<li>Fortinet FortiGate NGFW</li>
<li>Check Point NGFW</li>
<li>Sophos XG NGFW</li>
<li>Juniper Networks SRX Series NGFW</li>
<li>Barracuda CloudGen NGFW</li>
<li>SonicWall NGFW</li>
<li>WatchGuard Firebox NGFW</li>
<li>Forcepoint NGFW</li>
<li>PfSense NGFW</li>
</ul>



<h3 id="experience-with-pfsense">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#experience-with-pfsense">Experience with PFSense</a>
</h3>
<p>I am familiar with PfSense as it is <strong>Open Source</strong> and popular among the Homelab enthusiasts because it is offers expansive features built upon FreeBSD which has killer networking.</p>



<h3 id="some-limitations">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#some-limitations">Some limitations</a>
</h3>



<h4 id="pre-packaged-features">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#pre-packaged-features">Pre-packaged Features</a>
</h4>
<p>Commercial NGFWs (e.g., Palo Alto Networks, Cisco Firepower) often come with built-in advanced features such as cloud-delivered threat intelligence, AI-powered threat detection, and sandboxing for zero-day threats. While pfSense can be extended with third-party packages, it doesn‚Äôt natively offer the same level of seamless integration or automation.</p>



<h4 id="unified-management">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#unified-management">Unified Management</a>
</h4>
<p>Commercial NGFWs typically provide a centralized management console for handling multiple firewalls across large networks. While pfSense can handle multiple installations, managing them requires more manual effort and may not be as streamlined as the enterprise-grade management consoles of commercial NGFWs.</p>



<h4 id="enterprise-support">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#enterprise-support">Enterprise Support</a>
</h4>
<p>pfSense relies on community and third-party support, whereas commercial NGFWs offer direct vendor support with service level agreements (SLAs), which can be crucial for large enterprises needing guaranteed response times and assistance.</p>



<h4 id="threat-intelligence">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#threat-intelligence">Threat Intelligence</a>
</h4>
<p>NGFWs like those from Palo Alto or Cisco often integrate with real-time global threat intelligence networks, offering constant updates about emerging threats. While pfSense can be configured with tools like Snort for intrusion detection, it lacks the built-in, cloud-powered intelligence found in commercial NGFWs.</p>
<hr>



<h1 id="case-study-1-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#case-study-1-">Case Study #1 ü§î</a>
</h1>
<p>A ticket has come in from an application team. Some of the servers your team built for them last week have not been reporting up to enterprise monitoring and they need it to be able to troubleshoot a current issue, but they have no data. You jump on the new servers and find that your engineer built everything correctly and the agents for node_exporter, ceph_exporter and logstash exporter that your teams use. But, they also have adhered to the new company standard of firewalld must be running. No one has documented the ports that need to be open, so you‚Äôre stuck between the new standards and fixing this problem on live systems.</p>



<h3 id="1-initial-research">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#1-initial-research">1. Initial Research</a>
</h3>
<p>Findings:</p>
<ul>
<li>node_exporter typically uses port <strong>9100</strong></li>
<li>ceph_exporter may use port <strong>9128</strong></li>
<li>logstash commonly uses ports <strong>5044</strong></li>
</ul>



<h3 id="2-checking-configs">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#2-checking-configs">2. Checking Configs</a>
</h3>



<h4 id="a-logstash-config">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#a-logstash-config">A. LogStash Config</a>
</h4>
<pre><code>    cat /etc/logstash/conf.d/
</code></pre>



<h4 id="b-node-exporter-config">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#b-node-exporter-config">B. node exporter config</a>
</h4>
<pre><code>    cat /etc/systemd/system/node_exporter.service
</code></pre>



<h4 id="c-ceph-exporter-config">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#c-ceph-exporter-config">C. ceph exporter config</a>
</h4>
<pre><code>    cat /etc/systemd/system/ceph_exporter.service
</code></pre>



<h1 id="or">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#or">Or</a>
</h1>



<h3 id="3-gathering-socket-statistics">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#3-gathering-socket-statistics">3. Gathering Socket Statistics</a>
</h3>
<pre><code>    sudo ss -tuln | grep LISTEN
</code></pre>



<h4 id="options-breakdown">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#options-breakdown">Options Breakdown</a>
</h4>
<p>-t: Show TCP sockets.
-u: Show UDP sockets.
-l: Show listening sockets, i.e., those waiting for incoming connections.
-n: Show the output numerically, without resolving service names (e.g., display IP addresses and port numbers instead of domain names or service names like ‚Äúhttp‚Äù).</p>



<h3 id="q-1-as-youre-looking-this-up-what-terms-and-concepts-are-new-to-you">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#q-1-as-youre-looking-this-up-what-terms-and-concepts-are-new-to-you">Q: 1. As you‚Äôre looking this up, what terms and concepts are new to you?</a>
</h3>
<p>Basically all of the concepts used are new to me. I am not very well versed in networking, network scanning or inspecting service configs.
So this became a research and practice exercise that has shown me quite a lot of new tricks.</p>



<h3 id="q-2-what-are-the-ports-that-you-need-to-expose-how-did-you-find-the-answer">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#q-2-what-are-the-ports-that-you-need-to-expose-how-did-you-find-the-answer">Q: 2. What are the ports that you need to expose? How did you find the answer?</a>
</h3>
<p>Theoretically I would expose port <strong>9100</strong>, <strong>9128</strong>, <strong>5044</strong> from research. Furthermore, I now know how to check configs and/or gathering sockets statistics</p>



<h3 id="q-3-what-are-you-going-to-do-to-fix-this-on-your-firewall">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#q-3-what-are-you-going-to-do-to-fix-this-on-your-firewall">Q: 3. What are you going to do to fix this on your firewall?</a>
</h3>
<p>I would add these services to the internal zone:</p>
<pre><code>    firewall-cmd --zone=ZONE --add-service=SERVICE
</code></pre>
<p>Allows a service (e.g., SSH, HTTP) in the specified zone.</p>
<hr>



<h1 id="case-study-2-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#case-study-2-">Case Study #2 ü§î</a>
</h1>
<p>A manager heard you were the one that saved the new application by fixing the firewall. They get your manager to approach you with a request to review some documentation from a vendor that is pushing them hard to run a WAF in front of their web application. You are ‚Äúthe firewall‚Äù guy now, and they‚Äôre asking you to give them a review of the differences between the firewalls you set up (which they think should be enough to protect them) and what a WAF is doing.</p>



<h3 id="q-1-what-do-you-know-about-the-differences-now">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#q-1-what-do-you-know-about-the-differences-now">Q: 1. What do you know about the differences now?</a>
</h3>



<h4 id="traditional-firewalls-firewalldufw">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#traditional-firewalls-firewalldufw">Traditional Firewalls (firewalld/ufw):</a>
</h4>
<ul>
<li>Operate at network and transport layers (OSI Layer 3 &amp; 4).</li>
<li>Control traffic based on IP addresses, ports, and protocols.</li>
<li>Block or allow entire network connections.</li>
</ul>



<h4 id="web-application-firewalls-wafs">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#web-application-firewalls-wafs">Web Application Firewalls (WAFs):</a>
</h4>
<ul>
<li>Operate at the application layer (OSI Layer 7).</li>
<li>Inspect HTTP/HTTPS traffic, focusing on web application security.</li>
<li>Protect against attacks like SQL injection, XSS, and other web vulnerabilities.</li>
</ul>



<h3 id="q-2-what-are-you-going-to-do-to-figure-out-more">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#q-2-what-are-you-going-to-do-to-figure-out-more">Q: 2. What are you going to do to figure out more?</a>
</h3>
<ul>
<li>Dedicate time to researching effective WAF solutions.</li>
<li>Identifying suitable solutions at 3 budget scales.</li>
<li>Try to understand the additional labour behind management additional tools.</li>
</ul>



<h3 id="q-3-prepare-a-report-for-them-comparing-it-to-the-firewall-you-did-in-the-first-discussion">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#q-3-prepare-a-report-for-them-comparing-it-to-the-firewall-you-did-in-the-first-discussion">Q: 3. Prepare a report for them comparing it to the firewall you did in the first discussion.</a>
</h3>



<h1 id="report-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#report-">Report üóíÔ∏è</a>
</h1>



<h3 id="evaluation-of-implementing-a-web-application-firewall-waf">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#evaluation-of-implementing-a-web-application-firewall-waf">Evaluation of Implementing a Web Application Firewall <strong>WAF</strong></a>
</h3>



<h3 id="prepared-by-treasure">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#prepared-by-treasure"><strong>Prepared by:</strong> Treasure</a>
</h3>



<h3 id="date-oct-20th-2024">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#date-oct-20th-2024"><strong>Date:</strong> Oct 20th 2024</a>
</h3>



<h3 id="subject-evaluation-of-waf-implementation-suitability-and-comparison-with-traditional-firewalls">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#subject-evaluation-of-waf-implementation-suitability-and-comparison-with-traditional-firewalls"><strong>Subject:</strong> Evaluation of WAF Implementation Suitability and Comparison with Traditional Firewalls</a>
</h3>
<hr>



<h2 id="1-introduction">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#1-introduction"><strong>1. Introduction</strong></a>
</h2>
<p>This report has been prepared in response to a request to evaluate the suitability of implementing a Web Application Firewall (WAF) within our infrastructure. The aim of this report is to:</p>
<ul>
<li>Compare WAF technology with traditional firewall solutions currently implemented.</li>
<li>Assess the benefits and limitations of each.</li>
<li>Provide recommendations based on the findings.</li>
</ul>



<h2 id="2-objectives">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#2-objectives"><strong>2. Objectives</strong></a>
</h2>
<p>The key objectives of this evaluation are:</p>
<ul>
<li>To determine the suitability of WAF in enhancing our web application security.</li>
<li>To identify potential risks and benefits associated with the deployment of WAF.</li>
<li>To compare traditional firewall solutions with WAF in terms of functionality, security, and cost.</li>
<li>To make recommendations based on the current and future needs of our IT infrastructure.</li>
</ul>



<h2 id="3-comparison-of-technologies">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#3-comparison-of-technologies"><strong>3. Comparison of Technologies</strong></a>
</h2>



<h3 id="31-traditional-firewalls-firewalldufw">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#31-traditional-firewalls-firewalldufw"><strong>3.1 Traditional Firewalls (firewalld/ufw)</strong></a>
</h3>
<ul>
<li><strong>Primary Function</strong>: Control and filter network traffic based on IP addresses, ports, and protocols.</li>
<li><strong>Strengths</strong>:
<ul>
<li>Blocks unwanted connections at the network level.</li>
<li>Suitable for general network protection.</li>
<li>Easy to configure and manage.</li>
</ul>
</li>
<li><strong>Limitations</strong>:
<ul>
<li>Does not inspect web traffic at the application level.</li>
<li>Cannot protect against specific web application attacks (e.g., SQL injection, XSS).</li>
</ul>
</li>
</ul>



<h3 id="32-web-application-firewalls-waf">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#32-web-application-firewalls-waf"><strong>3.2 Web Application Firewalls (WAF)</strong></a>
</h3>
<ul>
<li><strong>Primary Function</strong>: Protect web applications by filtering and monitoring HTTP/HTTPS traffic.</li>
<li><strong>Strengths</strong>:
<ul>
<li>Protects against common web application vulnerabilities (e.g., SQL injection, XSS).</li>
<li>Monitors web traffic to block malicious requests.</li>
<li>Can provide real-time threat detection and logging.</li>
</ul>
</li>
<li><strong>Limitations</strong>:
<ul>
<li>May require more resources and specialized configuration.</li>
<li>Focused solely on web applications, not general network traffic.</li>
</ul>
</li>
</ul>



<h3 id="33-key-differences">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#33-key-differences"><strong>3.3 Key Differences</strong></a>
</h3>
<table>
  <thead>
      <tr>
          <th>Feature</th>
          <th>Traditional Firewall</th>
          <th>Web Application Firewall (WAF)</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>Layer</strong></td>
          <td>Network (Layer 3/4)</td>
          <td>Application (Layer 7)</td>
      </tr>
      <tr>
          <td><strong>Traffic Type</strong></td>
          <td>IP, ports, protocols</td>
          <td>HTTP/HTTPS, web requests</td>
      </tr>
      <tr>
          <td><strong>Use Case</strong></td>
          <td>General network security</td>
          <td>Web application protection</td>
      </tr>
      <tr>
          <td><strong>Threat Coverage</strong></td>
          <td>Blocks IP-based threats</td>
          <td>Mitigates web vulnerabilities (SQLi, XSS)</td>
      </tr>
      <tr>
          <td><strong>Cost</strong></td>
          <td>Typically lower</td>
          <td>Generally higher due to specialized focus</td>
      </tr>
  </tbody>
</table>



<h2 id="4-key-considerations-for-waf-implementation">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#4-key-considerations-for-waf-implementation"><strong>4. Key Considerations for WAF Implementation</strong></a>
</h2>



<h3 id="41-security-benefits">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#41-security-benefits"><strong>4.1 Security Benefits</strong></a>
</h3>
<ul>
<li>Enhanced protection against web-specific attacks.</li>
<li>Ability to monitor and block suspicious activity in real-time.</li>
<li>Added layer of security on top of traditional network firewalls.</li>
</ul>



<h3 id="42-cost-analysis">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#42-cost-analysis"><strong>4.2 Cost Analysis</strong></a>
</h3>
<ul>
<li><strong>Initial Investment</strong>: The upfront cost of acquiring and configuring a WAF solution.</li>
<li><strong>Ongoing Costs</strong>: Maintenance, updates, and potential personnel training.</li>
</ul>



<h3 id="43-operational-impact">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#43-operational-impact"><strong>4.3 Operational Impact</strong></a>
</h3>
<ul>
<li>May require additional resources for setup, monitoring, and incident response.</li>
<li>Potential need for collaboration between the security and development teams to ensure smooth integration.</li>
</ul>



<h2 id="5-risk-assessment">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#5-risk-assessment"><strong>5. Risk Assessment</strong></a>
</h2>
<ul>
<li><strong>Without WAF</strong>: Increased vulnerability to web application-specific threats, such as cross-site scripting (XSS) and SQL injection, especially for critical applications.</li>
<li><strong>With WAF</strong>: Increased security for web applications but requires ongoing monitoring and adjustment to ensure performance and efficacy.</li>
</ul>



<h2 id="6-recommendations">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#6-recommendations"><strong>6. Recommendations</strong></a>
</h2>
<p>Based on the evaluation, I recommend the following:</p>
<ol>
<li><strong>Implement a WAF</strong>: Due to the increasing reliance on web applications and the rise in web-based attacks, implementing a WAF would provide an essential layer of security.</li>
<li><strong>Maintain Traditional Firewalls</strong>: Existing firewalls should continue to be used for network-level protection alongside the WAF.</li>
<li><strong>Pilot Implementation</strong>: Begin with a limited deployment of WAF for high-risk applications to evaluate performance and cost before a full-scale rollout.</li>
<li><strong>Staff Training</strong>: Ensure the security and IT teams are trained in WAF management to maximize its effectiveness.</li>
</ol>



<h2 id="7-conclusion">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#7-conclusion"><strong>7. Conclusion</strong></a>
</h2>
<p>The implementation of a Web Application Firewall is a strategic move to protect our web applications from evolving security threats. While traditional firewalls remain crucial for network security, they cannot defend against the types of attacks WAFs are designed to mitigate. By implementing both WAF and traditional firewall solutions, we can ensure comprehensive security coverage across both network and application layers.</p>



<h2 id="8-next-steps">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#8-next-steps"><strong>8. Next Steps</strong></a>
</h2>
<ul>
<li>Further evaluation of potential WAF solutions based on budget, compatibility, and scalability.</li>
<li>Engage with the security team for a detailed implementation plan.</li>
<li>Prepare a pilot program for critical applications and monitor its performance.</li>
</ul>



<h3 id="approved-by-bob-saggit">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#approved-by-bob-saggit"><strong>Approved by:</strong> Bob Saggit</a>
</h3>



<h3 id="date-october-25th-2024">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#date-october-25th-2024"><strong>Date:</strong> October 25th 2024</a>
</h3>
<hr>



<h3 id="definitions">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#definitions">Definitions</a>
</h3>
<ul>
<li><strong>Firewall</strong>: A security device that monitors and controls incoming and outgoing network traffic based on predetermined security rules.</li>
<li><strong>Zone</strong>: A defined area within a network that contains systems with similar security requirements, separated by a firewall.</li>
<li><strong>Service</strong>: A specific type of network functionality, like HTTP or DNS, that can be allowed or blocked by a firewall.</li>
<li><strong>DMZ</strong>: A &ldquo;Demilitarized Zone&rdquo; is a network segment that serves as a buffer between a secure internal network and untrusted external networks.</li>
<li><strong>Proxy</strong>: A server that acts as an intermediary for requests between clients and servers, often used for filtering, security, or caching.</li>
<li><strong>Stateful packet filtering</strong>: A firewall feature that tracks the state of active connections and makes filtering decisions based on the connection&rsquo;s state.</li>
<li><strong>Stateless packet filtering</strong>: A type of firewall filtering that analyzes each packet independently without considering the state of the connection.</li>
<li><strong>WAF</strong>: A Web Application Firewall that protects web applications by filtering and monitoring HTTP/HTTPS traffic for threats like SQL injection and XSS.</li>
<li><strong>NGFW</strong>: A Next-Generation Firewall that combines traditional firewall functions with additional features like application awareness, integrated intrusion prevention, and advanced threat detection.</li>
</ul>
<hr>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu6/#prolug-links-">ProLUG Links ‚õìÔ∏è</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG Book: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/operating-systems/" rel="tag">Operating Systems</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
      <div class="Divider"></div>
    
  
    <article>
      <header class="Heading">
  <h1 class="Heading-title">
    <a class="Heading-link u-clickable" href="/techblog/post/pacu5/" rel="bookmark">ProLUG Admin Course Unit 5 üêß</a>
  </h1>
  
    <time datetime="2024-10-18T00:00:00Z">October 18, 2024</time>
  
</header>
      
        <h1 id="managing-users--groups">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#managing-users--groups">Managing Users &amp; Groups</a>
</h1>
<p>The overarching theme of this Unit is in the title, we are looking at Managing Users &amp; Groups. Managing users and groups in Linux within an enterprise involves creating, modifying, and organizing user accounts and permissions to enforce security and control over resources.</p>
<p>Organizing permissions to enforce security is more important than it has ever been, as we live in a hyper connected world with many bad actors and large amounts of sensitive data.</p>
<p>Linux is fundamentally well suited for Managing Users &amp; Groups because permissions permeate every aspect of a Linux environment. Everything is a file and every file has associated permissions, Therefore we have granular control over the comings and goings of users as administrators.</p>



<h2 id="lab-work-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#lab-work-">Lab Work üß™ü•º</a>
</h2>



<h3 id="primary-commands--tools">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#primary-commands--tools">Primary Commands / Tools</a>
</h3>
<ul>
<li><strong>alias</strong>: Creates a shortcut or alias for a command.</li>
<li><strong>unalias</strong>: Removes an alias that was previously defined.</li>
<li><strong>awk</strong>: A powerful text-processing tool used for pattern scanning and processing.</li>
<li><strong>useradd</strong>: Adds a new user to the system.</li>
<li><strong>vi .bashrc</strong>: Opens the <code>.bashrc</code> file in the vi editor to customize shell settings.</li>
<li><strong>UID_MIN 1000</strong>: The minimum user ID value for normal users (as defined in <code>/etc/login.defs</code>).</li>
<li><strong>UID_MAX 60000</strong>: The maximum user ID value for normal users (as defined in <code>/etc/login.defs</code>).</li>
<li><strong>groupadd ‚Äìg 60001 project</strong>: Creates a new group named &ldquo;project&rdquo; with a GID of 60001.</li>
<li><strong>id user4</strong>: Displays the user ID (UID), group ID (GID), and group memberships of user &ldquo;user4.&rdquo;</li>
</ul>
<hr>



<h4 id="etc-directories">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#etc-directories">etc directories</a>
</h4>
<ul>
<li>
<p>Looking at etc directories relating to Users, Groups and Associated Security</p>
<pre><code>  /etc/passwd 
</code></pre>
</li>
<li>
<p>contains essential information about users, including their username, user ID (UID), group ID (GID), home directory, and default shell, with each entry separated by a colon.</p>
<pre><code>  /etc/group
</code></pre>
</li>
<li>
<p>stores group information, listing each group‚Äôs name, group ID (GID), and its members, with each entry separated by a colon, allowing users to belong to one or more groups for access control purposes.</p>
<pre><code>  /etc/shadow
</code></pre>
</li>
<li>
<p>contains encrypted password information and related security details for user accounts, such as password aging and expiration</p>
<pre><code>  /etc/gshadow
</code></pre>
</li>
<li>
<p>stores encrypted passwords for group accounts, as well as information about group administrators and members, providing enhanced security for group access by restricting who can modify or access specific group data.</p>
<pre><code>  /etc/login.defs 
</code></pre>
</li>
<li>
<p>configuration settings for user account creation and login parameters, such as password aging policies, UID and GID ranges, and the default paths for user home directories, helping to control system-wide authentication behavior.</p>
<pre><code>  /etc/skel/
</code></pre>
</li>
<li>
<p>provides template files that are automatically copied to a new user‚Äôs home directory when the user is created, ensuring they have default configuration settings.</p>
</li>
</ul>



<h3 id="other-interesting-directories">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#other-interesting-directories">Other interesting directories</a>
</h3>
<ul>
<li>
<p>Brief Description</p>
</li>
<li>
<p>Associated permissions</p>
<pre><code>  /etc/fstab
</code></pre>
</li>
<li>
<p>This file contains information about disk partitions and other block storage devices and how they should be automatically mounted during the boot process.</p>
</li>
<li>
<p>Permissions: Usually -rw-r&ndash;r&ndash; (readable by all users, writable only by the root).</p>
<pre><code>  /etc/hostname
</code></pre>
</li>
<li>
<p>This file stores the system‚Äôs hostname, which is a unique identifier for the machine in a network.</p>
</li>
<li>
<p>Permissions: Usually -rw-r&ndash;r&ndash; (readable by all users, writable only by the root).</p>
<pre><code>  /proc
</code></pre>
</li>
<li>
<p>This is a virtual filesystem that provides detailed information about processes and system resources. It does not contain actual files but rather system and process information in real-time.</p>
</li>
<li>
<p>Permissions: dr-xr-xr-x (readable and executable by all users, writable only by root).</p>
<pre><code>  /boot
</code></pre>
</li>
<li>
<p>Contains the kernel, initial ramdisk, and bootloader files needed to start the system.</p>
</li>
<li>
<p>Permissions: drwxr-xr-x (readable and executable by all users, writable only by root).</p>
<pre><code>  /root
</code></pre>
</li>
<li>
<p>This is the home directory for the root user (the system administrator).</p>
</li>
<li>
<p>Permissions: drwx&mdash;&mdash; (only root has read, write, and execute permissions).</p>
<pre><code>  /usr/bin
</code></pre>
</li>
<li>
<p>Contains binary executables for user programs.</p>
</li>
<li>
<p>Permissions: drwxr-xr-x (readable and executable by all users, writable by root).</p>
</li>
</ul>
<hr>



<h2 id="mapping-unknown-infrastructure-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#mapping-unknown-infrastructure-">Mapping unknown infrastructure üó∫Ô∏èü§î</a>
</h2>
<p><strong>Objectives:</strong></p>
<ul>
<li>Map the Internal ProLUG Network (192.168.200.0/24):</li>
<li>Map the network from one of the rocky nodes.</li>
<li>Using a template that you build or find from the internet</li>
<li>Provide a 1 page summary of what you find in the network.</li>
</ul>



<h3 id="approach-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#approach-">Approach ü§î</a>
</h3>



<h4 id="a-briefing-on-the-infra-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#a-briefing-on-the-infra-">A briefing on the infra. üîçüñ•Ô∏è</a>
</h4>
<p>Het&rsquo; server is unique to me. He uses an injest system that makes a jump to the actual server for security purposes. Within the main server we have a warewulf managed cluster running a series of Rocky Linux VM&rsquo;s. ‚õ∞</p>
<p>Since we will be doing this from one of the Rocky Nodes within the system, the jump server will not be an issue I recon. ü§î</p>



<h4 id="mapping-strategy-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#mapping-strategy-">Mapping Strategy üìçüó∫Ô∏è</a>
</h4>
<p>So I shouldn&rsquo;t just pop into the server and go willy nilly with scanning commands. This sever is managed by someone who understands security. So it is best to do some <strong>Dead Reckoning</strong> beforehand.</p>



<h4 id="the-basic-commands-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#the-basic-commands-">The Basic Commands ‚å®Ô∏è</a>
</h4>
<p>Mapping the remote servers open ports with nmap.
nmap stands for Network Mapper. A quick perusal of the man page states it is an exploration tool and security / port scanner. It was designed to rapidly scan large networks. Nmap uses raw IP packets in novel ways to determine what hosts
are available on the network, what services (application name and version) those hosts are offering, what operating systems (and OS versions) they are running, what type of packet filters/firewalls are in use, and dozens of other characteristics.</p>
<p>In order to Map the network I am going to use the ip address for the argument/target of the nmap command.</p>
<pre><code>nmap &lt;server-ip&gt;
</code></pre>
<p>Checking mounted filesystem&rsquo; with df. stands for <strong>Display Free</strong> disk space. It is a utility that displays statistics about the amount of free disk space on the specified mounted file system or on the file system of which file is a past.</p>
<p>I will be using the -h flag for human readable format, which ads unit suffixes eg. Gibibyte (GiB) to the ends of values. There is more to it, but I am mentioning the bread and butter of the flag.</p>
<pre><code>df -h
</code></pre>



<h3 id="digging-deeper-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#digging-deeper-">Digging Deeper ‚õèÔ∏è</a>
</h3>



<h4 id="getting-to-know-nmap-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#getting-to-know-nmap-">Getting to know nmap ü´∂</a>
</h4>
<p><strong>nmap</strong> is actually a big command, by big I mean the number of options and capabilities are vast. It is quite popular with pen testers and is packaged with Kali Linux &ndash; a security analysis and exploitation focused distribution of Linux, so best believe it is something important. This essentially means I should take some time to get to know it more.</p>



<h4 id="stealth-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#stealth-">Stealth ü•∑</a>
</h4>
<p>Beware that <strong>nmap</strong> can and will trigger detection software like an active firewall, because <strong>nmap</strong> is conducting <strong>Funny Bizniz</strong> by way of packet <strong>trickery</strong> inside a network, both are technical terms. Luckily there is a <strong>stealth</strong> option ( -s ) that enables the mapping to take place un-detected &ndash;for the most part.</p>
<p>Contrary to what I assumed, the lower case <strong>s</strong> does not even stand for stealth, though it still helps as a mnemonic. No, it actually stands for SYN and
SYN stands for Synchronize. It is part of the TCP three-way handshake, which is a process used to establish a reliable connection between two devices on a network and has nothing to do with guys meeting at a bar.</p>
<p>I thought we were trying to be stealthy, not synchronized ü§î
Well is actually a form of <strong>Funny Bizniz</strong> wherein SYN is sent and never acknowledged, thustly not completing the handshake process and therefore hiding activity <strong>somehow</strong></p>
<p>but <strong>how?</strong> Well&hellip; it reduces the chance of being logged by the target system‚Äôs monitoring tools, such as firewalls or intrusion detection systems. Now we both know.</p>
<p>Keep in mind this is only one command option, just imagine how deep the rabbit hole goes.</p>



<h4 id="important-mapping-command-list">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#important-mapping-command-list">Important Mapping Command List</a>
</h4>
<p>Ninjas mark stealthier techniques.</p>
<table>
  <thead>
      <tr>
          <th><strong>#</strong></th>
          <th><strong>Command</strong></th>
          <th><strong>Description</strong></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>1</td>
          <td><code>nmap -sS &lt;target&gt;</code> ü•∑</td>
          <td>TCP SYN scan (stealth mode)</td>
      </tr>
      <tr>
          <td>2</td>
          <td><code>nmap -sT &lt;target&gt;</code></td>
          <td>TCP connect scan (full connection)</td>
      </tr>
      <tr>
          <td>3</td>
          <td><code>nmap -sA &lt;target&gt;</code></td>
          <td>ACK scan to detect firewalls</td>
      </tr>
      <tr>
          <td>4</td>
          <td><code>nmap -sU &lt;target&gt;</code></td>
          <td>UDP scan</td>
      </tr>
      <tr>
          <td>5</td>
          <td><code>nmap -sP &lt;target&gt;</code></td>
          <td>Ping scan to detect live hosts</td>
      </tr>
      <tr>
          <td>6</td>
          <td><code>nmap -sV &lt;target&gt;</code></td>
          <td>Detect service versions on open ports</td>
      </tr>
      <tr>
          <td>7</td>
          <td><code>nmap -O &lt;target&gt;</code></td>
          <td>OS detection</td>
      </tr>
      <tr>
          <td>8</td>
          <td><code>nmap -A &lt;target&gt;</code></td>
          <td>Aggressive scan (OS, version, scripts)</td>
      </tr>
      <tr>
          <td>9</td>
          <td><code>nmap -Pn &lt;target&gt;</code> ü•∑</td>
          <td>Disable ping (stealthy, avoid detection)</td>
      </tr>
      <tr>
          <td>10</td>
          <td><code>nmap -p- &lt;target&gt;</code></td>
          <td>Scan all 65,535 TCP ports</td>
      </tr>
      <tr>
          <td>11</td>
          <td><code>nmap --top-ports 100 &lt;target&gt;</code></td>
          <td>Scan the top 100 most common ports</td>
      </tr>
      <tr>
          <td>12</td>
          <td><code>nmap --script &lt;script&gt; &lt;target&gt;</code></td>
          <td>Use Nmap scripts for detailed scanning</td>
      </tr>
      <tr>
          <td>13</td>
          <td><code>nmap -sC &lt;target&gt;</code></td>
          <td>Run default NSE scripts</td>
      </tr>
      <tr>
          <td>14</td>
          <td><code>nmap -sW &lt;target&gt;</code></td>
          <td>TCP window scan</td>
      </tr>
      <tr>
          <td>15</td>
          <td><code>nmap -T4 &lt;target&gt;</code></td>
          <td>Faster scan using timing template T4</td>
      </tr>
      <tr>
          <td>16</td>
          <td><code>nmap -v &lt;target&gt;</code></td>
          <td>Enable verbose output</td>
      </tr>
      <tr>
          <td>17</td>
          <td><code>nmap -oN scan.txt &lt;target&gt;</code></td>
          <td>Save output in normal format</td>
      </tr>
      <tr>
          <td>18</td>
          <td><code>nmap -oX scan.xml &lt;target&gt;</code></td>
          <td>Save output in XML format</td>
      </tr>
      <tr>
          <td>19</td>
          <td><code>nmap -6 &lt;target&gt;</code></td>
          <td>Scan IPv6 targets</td>
      </tr>
      <tr>
          <td>20</td>
          <td><code>nmap -D RND:10 &lt;target&gt;</code> ü•∑</td>
          <td>Decoy scan to mask source of scan</td>
      </tr>
  </tbody>
</table>



<h2 id="the-actual-mapping">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#the-actual-mapping">The Actual Mapping</a>
</h2>
<p><img src="https://trevorsmale.github.io/techblog/images/PACU5/cnm.png" alt="Network Map"></p>



<h3 id="-accessing-the-secure-jump-point">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#-accessing-the-secure-jump-point">üöÄ Accessing the Secure Jump Point</a>
</h3>
<p>The network is safely tucked behind a Dynamic Domain Name System (DDNS) running on an Asus Router. This setup allows access from a WAN, in this case, <em>The Internet</em> (if you‚Äôve heard of it üåê). It securely gate-keeps the network via login credentials, because let‚Äôs be honest, the Internet can be a scary place with bots&hellip; and sometimes people üëÄ.</p>
<p>So, what exactly does DDNS do? Well, I‚Äôm glad you asked! Most home internet connections don‚Äôt offer a static IP address, which makes hosting things tricky because the IP will randomly change. The IP is dynamic for a few reasons, including cost savings and the limited availability of IPv4 addresses. Anyway, I‚Äôm getting off track üõ§Ô∏è. A DDNS monitors this dynamic IP and links it to a stable address that stays fixed.</p>
<p><strong>TL;DR</strong>: DDNS bonds a dynamic IP with a fixed address, offering the added bonus of hiding the internal IP from bad actors, or as I like to call them, <em>the baddies</em> in London üïµÔ∏è‚Äç‚ôÇÔ∏è. So, this network has a DDNS gateway in place for that extra layer of security üîí.</p>



<h3 id="-jumping-into-a-node">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#-jumping-into-a-node">üéØ Jumping into a Node</a>
</h3>
<p>Once a credentialed fellow enters their login while hanging at the gateway, a list of servers appears, like a digital menu üçΩÔ∏è. From this list, one can choose where to jump to. In my case, I leapt to <em>Rocky12</em>, a node within a managed cluster. I knew a little about this network thanks to earlier sessions, but most of this can also be discovered by doing some network scanning üïµÔ∏è.</p>



<h3 id="-doing-a-broad-inventory-scan">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#-doing-a-broad-inventory-scan">üîç Doing a Broad Inventory Scan</a>
</h3>
<p>This is where the magic of <code>nmap</code> comes into play! I used two stealthy commands: <strong>nmap -sS</strong> and <strong>nmap -sT</strong>. The <code>sT</code> option scanned a wide range of ports and connections, giving me a detailed list that I piped into <code>less</code> for easier viewing üìú.</p>



<h3 id="-doing-targeted-scans">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#-doing-targeted-scans">üéØ Doing Targeted Scans</a>
</h3>
<p>I grepped all the IP addresses and ran an <strong>-sS SYN Scan</strong> to gather more details on each node. These scans revealed loads of information about open ports and, in some cases, the hostnames of devices üéØ.</p>



<h3 id="-identifying-devices">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#-identifying-devices">üß© Identifying Devices</a>
</h3>
<p>I quickly identified the <em>warewulf orchestration device</em> and all of the <em>Rocky nodes</em>. However, a few mysterious devices needed some detective work üîé. I noticed <strong>glrpc</strong> listed as a service while scanning six addresses‚Äîthree on one IP range and three on another. A quick Google search revealed that <strong>glrpc</strong> relates to <em>GlusterFS</em>, a filesystem specific to Red Hat systems. After watching a video explainer on GlusterFS, I figured out that these two IP ranges were likely a RAID or high availability configuration üíæ.</p>



<h3 id="-mapping-with-excalidraw">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#-mapping-with-excalidraw">üó∫Ô∏è Mapping with Excalidraw</a>
</h3>
<p>I initially created a highly technical Engineer‚Äôs map filled with data and presented it to Het for feedback. He advised me to think about how management would interpret it ü§î. So, back to the drawing board! I focused on improving the visual presentation and labeling, keeping in mind that management doesn‚Äôt care about the nitty-gritty; they just need a clear, high-level understanding during briefings üìä.</p>



<h3 id="-wrapping-up">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#-wrapping-up">üéâ Wrapping Up</a>
</h3>
<p>This concludes my exercise in mapping an unknown network! I learned a lot from this experience and am quite proud of the outcome üí™. It will undoubtedly come in handy when I find myself in future scenarios with many unknowns.</p>
<hr>



<h2 id="mitre-attck---1-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#mitre-attck---1-">MITRE ATT&amp;CK - <sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> ü™ö</a>
</h2>
<p>is a globally-accessible knowledge base of adversary tactics and techniques based on real-world observations.</p>
<hr>



<h3 id="somewhat-unfamiliar-terminology-for-me">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#somewhat-unfamiliar-terminology-for-me">Somewhat unfamiliar terminology for me</a>
</h3>
<ul>
<li>Lateral Movement</li>
</ul>
<p>Lateral movement in the context of cyber exploitation refers to an attacker‚Äôs strategy of moving across a network to gain access to additional systems or sensitive data after initially infiltrating a single point. This involves leveraging compromised credentials, escalating privileges, or exploiting vulnerabilities to navigate between hosts and systems. The objective is often to broaden access within the environment while avoiding detection, eventually targeting critical infrastructure or data.</p>
<ul>
<li>Exfiltration üß≥üöÄ</li>
</ul>
<p>refers to the unauthorized transfer of data from a target system or network to an external location controlled by an attacker. This can involve methods such as encrypted tunnels, covert channels, or compromised accounts to avoid detection. Exfiltration is typically the final step in a cyberattack, allowing attackers to steal sensitive data, intellectual property, or credentials for further malicious activities.</p>



<h3 id="security-is-everybodys-issue">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#security-is-everybodys-issue">Security is everybody&rsquo;s issue</a>
</h3>
<p>It is important to understand the data on your system regardless of specific responsibility in order to asses risk.</p>



<h3 id="impact-of-exfiltration">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#impact-of-exfiltration">Impact of Exfiltration</a>
</h3>
<p>The impacts of data exfiltration can be massive. Given the level of severity an exfiltration incident can entirely destroy an organization or cause financial losses, reputational damage, labour force diversion, data loss and jeopardizing future security.</p>
<hr>



<h2 id="the-linux-user-environment">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#the-linux-user-environment">The Linux User Environment</a>
</h2>
<p>The Linux user environment is a customizable space that includes settings like environment variables, shell configurations, and startup scripts, typically defined in files such as .bashrc or .profile. These configurations allow users to tailor command line behavior, automate tasks, and create a personalized and efficient working environment.</p>



<h3 id="customizations-to-the-user-environment">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#customizations-to-the-user-environment">Customizations to the User Environment</a>
</h3>
<p>Customizations for the user environment in Linux might include setting up aliases for frequently used commands, configuring environment variables, and adding functions to streamline workflows. These changes can make repetitive tasks faster, improve the command line interface&rsquo;s convenience, and adapt the environment to personal preferences.</p>



<h4 id="problems-may-arise">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#problems-may-arise">Problems may arise</a>
</h4>
<p>Problems around helping users with their dot files often stem from the diverse and sometimes incompatible changes users make to suit their needs. This can lead to issues like conflicting configurations, inconsistent behavior across systems, or difficult debugging when unexpected behaviors arise from custom scripts.</p>
<hr>



<h2 id="definitionsterminology">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#definitionsterminology">Definitions/Terminology</a>
</h2>



<h4 id="footprinting-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#footprinting-">Footprinting üë£</a>
</h4>
<p>Footprinting is an essential phase in ethical hacking and system security. It involves gathering information about a computer system, network, or organization to understand its structure and identify potential vulnerabilities. Footprinting is often the first step of a cyberattack or penetration test, allowing attackers or security professionals to map out an environment before deciding how to approach the next steps.</p>



<h4 id="scanning-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#scanning-">Scanning üîç</a>
</h4>
<p>Scanning is a process of actively probing systems or networks to identify open ports, services, and vulnerabilities. It&rsquo;s used by attackers to gather deeper insights for potential exploitation and by security professionals to assess weaknesses. Common tools include Nmap and Nessus, while defenses include firewalls and IDS/IPS systems.</p>



<h4 id="enumeration-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#enumeration-">Enumeration üíØ</a>
</h4>
<p>Enumeration is the process of extracting more detailed information about a target, such as usernames, network shares, and system services, after identifying open ports and active systems. It typically involves active engagement with the target to gain in-depth knowledge that can be used for exploitation.</p>



<h4 id="system-hacking-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#system-hacking-">System Hacking ü™ì</a>
</h4>
<p>System hacking is the process of gaining unauthorized access to individual systems or networks by exploiting vulnerabilities. It involves activities such as password cracking, privilege escalation, installing backdoors, and covering tracks. Ethical hackers use these techniques to assess system security and recommend protective measures.</p>



<h4 id="escalation-of-privilege-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#escalation-of-privilege-">Escalation of Privilege ü•âü•àü•á</a>
</h4>
<p>Privilege escalation is the process of gaining higher-level permissions or privileges than initially granted, allowing an attacker to execute commands with elevated authority. This can be achieved through exploiting vulnerabilities or misconfigurations, leading to unauthorized access to restricted resources or system control.</p>



<h4 id="rule-of-least-privilege-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#rule-of-least-privilege-">Rule of least privilege üîê</a>
</h4>
<p>The Rule of Least Privilege (LoP) is a security principle that states users, applications, and systems should only be granted the minimum level of access or permissions necessary to perform their tasks. This helps reduce the attack surface, limit potential damage from breaches, and mitigate insider threats.</p>



<h4 id="covering-tracks-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#covering-tracks-">Covering Tracks üßπüë£</a>
</h4>
<p>Covering tracks is the process attackers use to hide their unauthorized activities and avoid detection. This involves techniques such as deleting or modifying system logs, using rootkits, and clearing command histories to prevent system administrators or security teams from discovering their presence or actions.</p>



<h4 id="planting-backdoors-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#planting-backdoors-">Planting Backdoors ü™¥üö™</a>
</h4>
<p>Planting backdoors involves installing hidden access points in a system, allowing attackers to bypass regular authentication and gain unauthorized access at a later time. Backdoors can be inserted through malicious code, vulnerabilities, or modifications to existing software, making them useful for maintaining persistent control over compromised systems.</p>
<hr>



<h3 id="prolug-links-">
  <a class="Heading-link u-clickable" href="/techblog/post/pacu5/#prolug-links-">ProLUG Links ‚õìÔ∏è</a>
</h3>
<p>Discord: <a href="https://discord.com/invite/m6VPPD9usw">https://discord.com/invite/m6VPPD9usw</a>
Youtube: <a href="https://www.youtube.com/@het_tanis8213">https://www.youtube.com/@het_tanis8213</a>
Twitch: <a href="https://www.twitch.tv/het_tanis">https://www.twitch.tv/het_tanis</a>
ProLUG Book: <a href="https://leanpub.com/theprolugbigbookoflabs">https://leanpub.com/theprolugbigbookoflabs</a>
KillerCoda: <a href="https://killercoda.com/het-tanis">https://killercoda.com/het-tanis</a></p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>MITRE | ATT&amp;CK <a href="https://attack.mitre.org/">Site</a> Knowledge Base.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>
      
      

  

  





  <footer>
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/categories/learning/" rel="tag">Learning</a>
            </li>
          
        </ul>
      
    
      
        <ul class="Tags">
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/tech/" rel="tag">Tech</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/linux/" rel="tag">Linux</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/administration/" rel="tag">Administration</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/engineering/" rel="tag">Engineering</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/prolug-course/" rel="tag">ProLUG Course</a>
            </li>
          
            <li class="Tags-item u-background">
              <a class="Tags-link u-clickable" href="/techblog/tags/operating-systems/" rel="tag">Operating Systems</a>
            </li>
          
        </ul>
      
    
  </footer>

    </article>
    
  

  
  <nav>
    
      <a class="Pagination u-clickable" href="/techblog/page/2/" rel="prev">¬´ Previous</a>
    
    
  </nav>




      </div>
    </div>
  </main>
  
</body>

</html>
